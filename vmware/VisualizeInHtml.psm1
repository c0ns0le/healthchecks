function Get-ViLineName {
	param(
		[Parameter(Mandatory=$true)][Object]$o
	)
	if ($o -is [string])        { $o }
	elseif ($o -is [hashtable]) { $o['n'] }
	else                        {throw 'unknown type'+$o.GetType().Name }
}

function New-ViChartInfo {
	param(
		[Parameter(Mandatory=$true)][Object[]]$data, 
		[Parameter(Mandatory=$true)][Object[]]$lines,
		[Parameter(Mandatory=$false)][Object]$xAxisValues
	)

	Write-Debug "Charts length: $($lines.count)"
	New-Object PsObject | 
		Add-Member NoteProperty Data $data -PassThru |
		Add-Member NoteProperty Lines $lines -PassThru |
		Add-Member NoteProperty XAxis $xAxisValues -PassThru
}

# $inputObject should be created via New-ViChartInfo
# ConvertTo-ViData -inputObject `
#	(New-ViChartInfo -data `
#		([datetime]'2009-11-4 00:1',[datetime]'2009-10-15 10:12') `
#	-lines 'Minute', `
#		@{'n'='min+ho';'e'={$_.Minute+$_.Hour}},`
#		'"date"."Day"')
function ConvertTo-ViData {
	param(
		[Parameter(Mandatory=$true,ValueFromPipeline=$true)][PsObject]$inputObject
	)

	$objs = @()
	foreach($line in @($inputObject.Lines)) {
		Write-Debug "Processing one line for conversion"
		$lineName = Get-ViLineName $line
		$data = $inputObject.Data
		
		Write-Debug "Found name: $lineName"
		$res = New-Object PsObject |
			Add-Member NoteProperty Name $lineName -PassThru |
			Add-Member NoteProperty Values (New-Object Collections.ArrayList) -PassThru
		if ($line -is [string]) {
			Write-Debug "Getting values using property name: $line"
			$getter = {$ExecutionContext.InvokeCommand.ExpandString('$($_.'+$line+')')}
			Write-Debug "Getter: $getter"
			$data | % { 
				$null=$res.Values.Add((& $getter))
			}
		} elseif ($line -is [hashtable]) {
			if ($line['datafilter'] -ne $null) {
				if (!$line['datafilter'] -is [scriptblock]) { throw 'value ''datafilter'' must be scriptblock, that can be passed to where-object' }
				Write-Debug ("Running data filter " + $line['datafilter'].tostring())
				$data = $data | ? { & $line['datafilter'] $_ } # pozor - musi vyuzivat args[0], ne $_; nevim proc, ale $_ bylo vzdycky $null
				$line.remove('datafilter')
				Write-Debug "Data count before: $($inputObject.Data.Count), after: $($data.Count)"
			}
			if ($line['dataconvertor'] -ne $null) {
				if (!$line['dataconvertor'] -is [scriptblock]) { throw 'value ''dataconvertor'' must be scriptblock' }
				Write-Debug ("Running convertor " + $line['dataconvertor'].tostring())
				$data = $data | % { & $line['dataconvertor'] $_ }
				$line.remove('dataconvertor')
			}
			$data | 
				select -Property $line | 
				% { $null=$res.Values.Add($_."$lineName") }
		} else {
			throw 'unknown type'+$line.GetType().Name
		}
		$objs += $res
	}
	$xaxis = $inputObject.XAxis
	if ($xaxis -eq $null) {
		Write-Debug "Default axis values"
		$xAxisValues = 0..($inputObject.Data.Count-1)
	} elseif ($xaxis -is [string]) {
		Write-Debug "Getting values for xaxis: $xaxis"
		$getter = {$ExecutionContext.InvokeCommand.ExpandString('$($_.'+$xaxis+')')}
		$xAxisValues = $inputObject.Data | % { (& $getter) }
	} elseif ($xaxis -is [hashtable]) {
		$propName = Get-ViLineName $xaxis
		$xAxisValues = $inputObject.Data | select -Property $xaxis | % { $_.$propName }
	} elseif ($xaxis -is [Collections.IEnumerable]) {
		$xAxisValues = $xaxis
	} else {
		throw 'unknown type'+$line.GetType().Name
	}
		
	($xAxisValues, $objs)
}
# how to call:
#1) New-ViChart -outputFile m:\data\src\PowerShell\tools\a.html  `
# -input (`
#	New-ViChartInfo `
#		-data `
#		   ((1..70|%{[DateTime]::Now.AddMinutes($_)})+ `
#		    (1..20|%{[DateTime]::Now.AddHours($_*6).AddMinutes($_*(Get-Random -min 0 -max 3))}))`
#		-lines 'Minute','Hour','"Date"+"Day"'),
#	(New-ViChartInfo `
#		-data `
#		   (1..120|%{[DateTime]::Now.AddMinutes($_*(Get-Random -min 0 -max 8))})`
#		-lines 'Minute','Hour',@{'n'='min+hour';'e'={$_.Minute+$_.Hour}})
# 2) $ff = 1..10|%{start-sleep -sec 3; get-process firefox}
#New-ViChart -outputFile m:\data\src\PowerShell\tools\a.html  `
# -input`
#	(New-ViChartInfo -data $ff -lines 'WorkingSet','PagedMemorySize','PrivateMemorySize'), 
#	(New-ViChartInfo -data $ff -lines '"TotalProcessorTime"."TotalMilliseconds"',@{'n'='uproc';'e'={$_.UserProcessorTime.TotalMilliseconds}})
function New-ViChart {
	param(
		[Parameter(Mandatory=$true,ValueFromPipeline=$true)][PsObject[]]$inputObject, 
		[Parameter(Mandatory=$true)][string]$outputFile
	)

	Write-Debug "Input objects length: $($inputObject.count)"
	$tables = ''
	foreach ($inputo in $inputObject) {
		Write-Debug "Processing one chart`n----------------"
		$xaxisVals,$lineObjects = ConvertTo-ViData $inputo
		$thead       = "<thead><tr><td></td>" + ($xaxisVals | %{"<th>$_</th>" }) + "</tr></thead>"
		$rows        = ''
		foreach($line in @($lineObjects)) {
			Write-Debug "Processing one line: $($line.Name)"
			$rows = $rows + ("`n`t`t<tr><th>{0}</th>" -f $line.Name) + ($line.Values | % { "<td>$_</td>" })+ "`n`t`t</tr>"
			Write-Debug "rows length: $($rows.length)"
		}
		
		$tables += "`n<table class=`"values`">`n`t$thead`n`t<tbody>$rows`n`t</tbody>`n</table>`n"
	}

	$base64jquery = 'LyoNCgkJCWpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuMy4yDQoJCQlDb3B5cmlnaHQgKGMpIDIwMDkgSm9obiBSZXNpZywgaHR0cDovL2pxdWVyeS5jb20vDQoJCQlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuDQoJCQlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuDQoJCQlEYXRlOiAyMDA5LTAyLTE5IDE3OjM0OjIxIC0wNTAwIChUaHUsIDE5IEZlYiAyMDA5KSBSZXZpc2lvbjogNjI0Ng0KCQkJKi8NCgkJCShmdW5jdGlvbigpe3ZhciBsPXRoaXMsZyx5PWwualF1ZXJ5LHA9bC4kLG89bC5qUXVlcnk9bC4kPWZ1bmN0aW9uKEUsRil7cmV0dXJuIG5ldyBvLmZuLmluaXQoRSxGKX0sRD0vXltePF0qKDwoLnxccykrPilbXj5dKiR8XiMoW1x3LV0rKSQvLGY9L14uW146I1xbXC4sXSokLztvLmZuPW8ucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKEUsSCl7RT1FfHxkb2N1bWVudDtpZihFLm5vZGVUeXBlKXt0aGlzWzBdPUU7dGhpcy5sZW5ndGg9MTt0aGlzLmNvbnRleHQ9RTtyZXR1cm4gdGhpc31pZih0eXBlb2YgRT09PSJzdHJpbmciKXt2YXIgRz1ELmV4ZWMoRSk7aWYoRyYmKEdbMV18fCFIKSl7aWYoR1sxXSl7RT1vLmNsZWFuKFtHWzFdXSxIKX1lbHNle3ZhciBJPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEdbM10pO2lmKEkmJkkuaWQhPUdbM10pe3JldHVybiBvKCkuZmluZChFKX12YXIgRj1vKEl8fFtdKTtGLmNvbnRleHQ9ZG9jdW1lbnQ7Ri5zZWxlY3Rvcj1FO3JldHVybiBGfX1lbHNle3JldHVybiBvKEgpLmZpbmQoRSl9fWVsc2V7aWYoby5pc0Z1bmN0aW9uKEUpKXtyZXR1cm4gbyhkb2N1bWVudCkucmVhZHkoRSl9fWlmKEUuc2VsZWN0b3ImJkUuY29udGV4dCl7dGhpcy5zZWxlY3Rvcj1FLnNlbGVjdG9yO3RoaXMuY29udGV4dD1FLmNvbnRleHR9cmV0dXJuIHRoaXMuc2V0QXJyYXkoby5pc0FycmF5KEUpP0U6by5tYWtlQXJyYXkoRSkpfSxzZWxlY3RvcjoiIixqcXVlcnk6IjEuMy4yIixzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxnZXQ6ZnVuY3Rpb24oRSl7cmV0dXJuIEU9PT1nP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMpOnRoaXNbRV19LHB1c2hTdGFjazpmdW5jdGlvbihGLEgsRSl7dmFyIEc9byhGKTtHLnByZXZPYmplY3Q9dGhpcztHLmNvbnRleHQ9dGhpcy5jb250ZXh0O2lmKEg9PT0iZmluZCIpe0cuc2VsZWN0b3I9dGhpcy5zZWxlY3RvcisodGhpcy5zZWxlY3Rvcj8iICI6IiIpK0V9ZWxzZXtpZihIKXtHLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK0grIigiK0UrIikifX1yZXR1cm4gR30sc2V0QXJyYXk6ZnVuY3Rpb24oRSl7dGhpcy5sZW5ndGg9MDtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLEUpO3JldHVybiB0aGlzfSxlYWNoOmZ1bmN0aW9uKEYsRSl7cmV0dXJuIG8uZWFjaCh0aGlzLEYsRSl9LGluZGV4OmZ1bmN0aW9uKEUpe3JldHVybiBvLmluQXJyYXkoRSYmRS5qcXVlcnk/RVswXTpFLHRoaXMpfSxhdHRyOmZ1bmN0aW9uKEYsSCxHKXt2YXIgRT1GO2lmKHR5cGVvZiBGPT09InN0cmluZyIpe2lmKEg9PT1nKXtyZXR1cm4gdGhpc1swXSYmb1tHfHwiYXR0ciJdKHRoaXNbMF0sRil9ZWxzZXtFPXt9O0VbRl09SH19cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihJKXtmb3IoRiBpbiBFKXtvLmF0dHIoRz90aGlzLnN0eWxlOnRoaXMsRixvLnByb3AodGhpcyxFW0ZdLEcsSSxGKSl9fSl9LGNzczpmdW5jdGlvbihFLEYpe2lmKChFPT0id2lkdGgifHxFPT0iaGVpZ2h0IikmJnBhcnNlRmxvYXQoRik8MCl7Rj1nfXJldHVybiB0aGlzLmF0dHIoRSxGLCJjdXJDU1MiKX0sdGV4dDpmdW5jdGlvbihGKXtpZih0eXBlb2YgRiE9PSJvYmplY3QiJiZGIT1udWxsKXtyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoRikpfXZhciBFPSIiO28uZWFjaChGfHx0aGlzLGZ1bmN0aW9uKCl7by5lYWNoKHRoaXMuY2hpbGROb2RlcyxmdW5jdGlvbigpe2lmKHRoaXMubm9kZVR5cGUhPTgpe0UrPXRoaXMubm9kZVR5cGUhPTE/dGhpcy5ub2RlVmFsdWU6by5mbi50ZXh0KFt0aGlzXSl9fSl9KTtyZXR1cm4gRX0sd3JhcEFsbDpmdW5jdGlvbihFKXtpZih0aGlzWzBdKXt2YXIgRj1vKEUsdGhpc1swXS5vd25lckRvY3VtZW50KS5jbG9uZSgpO2lmKHRoaXNbMF0ucGFyZW50Tm9kZSl7Ri5pbnNlcnRCZWZvcmUodGhpc1swXSl9Ri5tYXAoZnVuY3Rpb24oKXt2YXIgRz10aGlzO3doaWxlKEcuZmlyc3RDaGlsZCl7Rz1HLmZpcnN0Q2hpbGR9cmV0dXJuIEd9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihFKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7byh0aGlzKS5jb250ZW50cygpLndyYXBBbGwoRSl9KX0sd3JhcDpmdW5jdGlvbihFKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7byh0aGlzKS53cmFwQWxsKEUpfSl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyx0cnVlLGZ1bmN0aW9uKEUpe2lmKHRoaXMubm9kZVR5cGU9PTEpe3RoaXMuYXBwZW5kQ2hpbGQoRSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsdHJ1ZSxmdW5jdGlvbihFKXtpZih0aGlzLm5vZGVUeXBlPT0xKXt0aGlzLmluc2VydEJlZm9yZShFLHRoaXMuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmYWxzZSxmdW5jdGlvbihFKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZmFsc2UsZnVuY3Rpb24oRSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShFLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fG8oW10pfSxwdXNoOltdLnB1c2gsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2UsZmluZDpmdW5jdGlvbihFKXtpZih0aGlzLmxlbmd0aD09PTEpe3ZhciBGPXRoaXMucHVzaFN0YWNrKFtdLCJmaW5kIixFKTtGLmxlbmd0aD0wO28uZmluZChFLHRoaXNbMF0sRik7cmV0dXJuIEZ9ZWxzZXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby51bmlxdWUoby5tYXAodGhpcyxmdW5jdGlvbihHKXtyZXR1cm4gby5maW5kKEUsRyl9KSksImZpbmQiLEUpfX0sY2xvbmU6ZnVuY3Rpb24oRyl7dmFyIEU9dGhpcy5tYXAoZnVuY3Rpb24oKXtpZighby5zdXBwb3J0Lm5vQ2xvbmVFdmVudCYmIW8uaXNYTUxEb2ModGhpcykpe3ZhciBJPXRoaXMub3V0ZXJIVE1MO2lmKCFJKXt2YXIgSj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Si5hcHBlbmRDaGlsZCh0aGlzLmNsb25lTm9kZSh0cnVlKSk7ST1KLmlubmVySFRNTH1yZXR1cm4gby5jbGVhbihbSS5yZXBsYWNlKC8galF1ZXJ5XGQrPSIoPzpcZCt8bnVsbCkiL2csIiIpLnJlcGxhY2UoL15ccyovLCIiKV0pWzBdfWVsc2V7cmV0dXJuIHRoaXMuY2xvbmVOb2RlKHRydWUpfX0pO2lmKEc9PT10cnVlKXt2YXIgSD10aGlzLmZpbmQoIioiKS5hbmRTZWxmKCksRj0wO0UuZmluZCgiKiIpLmFuZFNlbGYoKS5lYWNoKGZ1bmN0aW9uKCl7aWYodGhpcy5ub2RlTmFtZSE9PUhbRl0ubm9kZU5hbWUpe3JldHVybn12YXIgST1vLmRhdGEoSFtGXSwiZXZlbnRzIik7Zm9yKHZhciBLIGluIEkpe2Zvcih2YXIgSiBpbiBJW0tdKXtvLmV2ZW50LmFkZCh0aGlzLEssSVtLXVtKXSxJW0tdW0pdLmRhdGEpfX1GKyt9KX1yZXR1cm4gRX0sZmlsdGVyOmZ1bmN0aW9uKEUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhvLmlzRnVuY3Rpb24oRSkmJm8uZ3JlcCh0aGlzLGZ1bmN0aW9uKEcsRil7cmV0dXJuIEUuY2FsbChHLEYpfSl8fG8ubXVsdGlGaWx0ZXIoRSxvLmdyZXAodGhpcyxmdW5jdGlvbihGKXtyZXR1cm4gRi5ub2RlVHlwZT09PTF9KSksImZpbHRlciIsRSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oRSl7dmFyIEc9by5leHByLm1hdGNoLlBPUy50ZXN0KEUpP28oRSk6bnVsbCxGPTA7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIEg9dGhpczt3aGlsZShIJiZILm93bmVyRG9jdW1lbnQpe2lmKEc/Ry5pbmRleChIKT4tMTpvKEgpLmlzKEUpKXtvLmRhdGEoSCwiY2xvc2VzdCIsRik7cmV0dXJuIEh9SD1ILnBhcmVudE5vZGU7RisrfX0pfSxub3Q6ZnVuY3Rpb24oRSl7aWYodHlwZW9mIEU9PT0ic3RyaW5nIil7aWYoZi50ZXN0KEUpKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby5tdWx0aUZpbHRlcihFLHRoaXMsdHJ1ZSksIm5vdCIsRSl9ZWxzZXtFPW8ubXVsdGlGaWx0ZXIoRSx0aGlzKX19dmFyIEY9RS5sZW5ndGgmJkVbRS5sZW5ndGgtMV0hPT1nJiYhRS5ub2RlVHlwZTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gRj9vLmluQXJyYXkodGhpcyxFKTwwOnRoaXMhPUV9KX0sYWRkOmZ1bmN0aW9uKEUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhvLnVuaXF1ZShvLm1lcmdlKHRoaXMuZ2V0KCksdHlwZW9mIEU9PT0ic3RyaW5nIj9vKEUpOm8ubWFrZUFycmF5KEUpKSkpfSxpczpmdW5jdGlvbihFKXtyZXR1cm4gISFFJiZvLm11bHRpRmlsdGVyKEUsdGhpcykubGVuZ3RoPjB9LGhhc0NsYXNzOmZ1bmN0aW9uKEUpe3JldHVybiAhIUUmJnRoaXMuaXMoIi4iK0UpfSx2YWw6ZnVuY3Rpb24oSyl7aWYoSz09PWcpe3ZhciBFPXRoaXNbMF07aWYoRSl7aWYoby5ub2RlTmFtZShFLCJvcHRpb24iKSl7cmV0dXJuKEUuYXR0cmlidXRlcy52YWx1ZXx8e30pLnNwZWNpZmllZD9FLnZhbHVlOkUudGV4dH1pZihvLm5vZGVOYW1lKEUsInNlbGVjdCIpKXt2YXIgST1FLnNlbGVjdGVkSW5kZXgsTD1bXSxNPUUub3B0aW9ucyxIPUUudHlwZT09InNlbGVjdC1vbmUiO2lmKEk8MCl7cmV0dXJuIG51bGx9Zm9yKHZhciBGPUg/STowLEo9SD9JKzE6TS5sZW5ndGg7RjxKO0YrKyl7dmFyIEc9TVtGXTtpZihHLnNlbGVjdGVkKXtLPW8oRykudmFsKCk7aWYoSCl7cmV0dXJuIEt9TC5wdXNoKEspfX1yZXR1cm4gTH1yZXR1cm4oRS52YWx1ZXx8IiIpLnJlcGxhY2UoL1xyL2csIiIpfXJldHVybiBnfWlmKHR5cGVvZiBLPT09Im51bWJlciIpe0srPSIifXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZih0aGlzLm5vZGVUeXBlIT0xKXtyZXR1cm59aWYoby5pc0FycmF5KEspJiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKSl7dGhpcy5jaGVja2VkPShvLmluQXJyYXkodGhpcy52YWx1ZSxLKT49MHx8by5pbkFycmF5KHRoaXMubmFtZSxLKT49MCl9ZWxzZXtpZihvLm5vZGVOYW1lKHRoaXMsInNlbGVjdCIpKXt2YXIgTj1vLm1ha2VBcnJheShLKTtvKCJvcHRpb24iLHRoaXMpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPShvLmluQXJyYXkodGhpcy52YWx1ZSxOKT49MHx8by5pbkFycmF5KHRoaXMudGV4dCxOKT49MCl9KTtpZighTi5sZW5ndGgpe3RoaXMuc2VsZWN0ZWRJbmRleD0tMX19ZWxzZXt0aGlzLnZhbHVlPUt9fX0pfSxodG1sOmZ1bmN0aW9uKEUpe3JldHVybiBFPT09Zz8odGhpc1swXT90aGlzWzBdLmlubmVySFRNTC5yZXBsYWNlKC8galF1ZXJ5XGQrPSIoPzpcZCt8bnVsbCkiL2csIiIpOm51bGwpOnRoaXMuZW1wdHkoKS5hcHBlbmQoRSl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKEUpe3JldHVybiB0aGlzLmFmdGVyKEUpLnJlbW92ZSgpfSxlcTpmdW5jdGlvbihFKXtyZXR1cm4gdGhpcy5zbGljZShFLCtFKzEpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oRSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubWFwKHRoaXMsZnVuY3Rpb24oRyxGKXtyZXR1cm4gRS5jYWxsKEcsRixHKX0pKX0sYW5kU2VsZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZCh0aGlzLnByZXZPYmplY3QpfSxkb21NYW5pcDpmdW5jdGlvbihKLE0sTCl7aWYodGhpc1swXSl7dmFyIEk9KHRoaXNbMF0ub3duZXJEb2N1bWVudHx8dGhpc1swXSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEY9by5jbGVhbihKLCh0aGlzWzBdLm93bmVyRG9jdW1lbnR8fHRoaXNbMF0pLEkpLEg9SS5maXJzdENoaWxkO2lmKEgpe2Zvcih2YXIgRz0wLEU9dGhpcy5sZW5ndGg7RzxFO0crKyl7TC5jYWxsKEsodGhpc1tHXSxIKSx0aGlzLmxlbmd0aD4xfHxHPjA/SS5jbG9uZU5vZGUodHJ1ZSk6SSl9fWlmKEYpe28uZWFjaChGLHopfX1yZXR1cm4gdGhpcztmdW5jdGlvbiBLKE4sTyl7cmV0dXJuIE0mJm8ubm9kZU5hbWUoTiwidGFibGUiKSYmby5ub2RlTmFtZShPLCJ0ciIpPyhOLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxOLmFwcGVuZENoaWxkKE4ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKSk6Tn19fTtvLmZuLmluaXQucHJvdG90eXBlPW8uZm47ZnVuY3Rpb24geihFLEYpe2lmKEYuc3JjKXtvLmFqYXgoe3VybDpGLnNyYyxhc3luYzpmYWxzZSxkYXRhVHlwZToic2NyaXB0In0pfWVsc2V7by5nbG9iYWxFdmFsKEYudGV4dHx8Ri50ZXh0Q29udGVudHx8Ri5pbm5lckhUTUx8fCIiKX1pZihGLnBhcmVudE5vZGUpe0YucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChGKX19ZnVuY3Rpb24gZSgpe3JldHVybiArbmV3IERhdGV9by5leHRlbmQ9by5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgSj1hcmd1bWVudHNbMF18fHt9LEg9MSxJPWFyZ3VtZW50cy5sZW5ndGgsRT1mYWxzZSxHO2lmKHR5cGVvZiBKPT09ImJvb2xlYW4iKXtFPUo7Sj1hcmd1bWVudHNbMV18fHt9O0g9Mn1pZih0eXBlb2YgSiE9PSJvYmplY3QiJiYhby5pc0Z1bmN0aW9uKEopKXtKPXt9fWlmKEk9PUgpe0o9dGhpczstLUh9Zm9yKDtIPEk7SCsrKXtpZigoRz1hcmd1bWVudHNbSF0pIT1udWxsKXtmb3IodmFyIEYgaW4gRyl7dmFyIEs9SltGXSxMPUdbRl07aWYoSj09PUwpe2NvbnRpbnVlfWlmKEUmJkwmJnR5cGVvZiBMPT09Im9iamVjdCImJiFMLm5vZGVUeXBlKXtKW0ZdPW8uZXh0ZW5kKEUsS3x8KEwubGVuZ3RoIT1udWxsP1tdOnt9KSxMKX1lbHNle2lmKEwhPT1nKXtKW0ZdPUx9fX19fXJldHVybiBKfTt2YXIgYj0vei0/aW5kZXh8Zm9udC0/d2VpZ2h0fG9wYWNpdHl8em9vbXxsaW5lLT9oZWlnaHQvaSxxPWRvY3VtZW50LmRlZmF1bHRWaWV3fHx7fSxzPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7by5leHRlbmQoe25vQ29uZmxpY3Q6ZnVuY3Rpb24oRSl7bC4kPXA7aWYoRSl7bC5qUXVlcnk9eX1yZXR1cm4gb30saXNGdW5jdGlvbjpmdW5jdGlvbihFKXtyZXR1cm4gcy5jYWxsKEUpPT09IltvYmplY3QgRnVuY3Rpb25dIn0saXNBcnJheTpmdW5jdGlvbihFKXtyZXR1cm4gcy5jYWxsKEUpPT09IltvYmplY3QgQXJyYXldIn0saXNYTUxEb2M6ZnVuY3Rpb24oRSl7cmV0dXJuIEUubm9kZVR5cGU9PT05JiZFLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSE9PSJIVE1MInx8ISFFLm93bmVyRG9jdW1lbnQmJm8uaXNYTUxEb2MoRS5vd25lckRvY3VtZW50KX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihHKXtpZihHJiYvXFMvLnRlc3QoRykpe3ZhciBGPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO0UudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtpZihvLnN1cHBvcnQuc2NyaXB0RXZhbCl7RS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShHKSl9ZWxzZXtFLnRleHQ9R31GLmluc2VydEJlZm9yZShFLEYuZmlyc3RDaGlsZCk7Ri5yZW1vdmVDaGlsZChFKX19LG5vZGVOYW1lOmZ1bmN0aW9uKEYsRSl7cmV0dXJuIEYubm9kZU5hbWUmJkYubm9kZU5hbWUudG9VcHBlckNhc2UoKT09RS50b1VwcGVyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKEcsSyxGKXt2YXIgRSxIPTAsST1HLmxlbmd0aDtpZihGKXtpZihJPT09Zyl7Zm9yKEUgaW4gRyl7aWYoSy5hcHBseShHW0VdLEYpPT09ZmFsc2Upe2JyZWFrfX19ZWxzZXtmb3IoO0g8STspe2lmKEsuYXBwbHkoR1tIKytdLEYpPT09ZmFsc2Upe2JyZWFrfX19fWVsc2V7aWYoST09PWcpe2ZvcihFIGluIEcpe2lmKEsuY2FsbChHW0VdLEUsR1tFXSk9PT1mYWxzZSl7YnJlYWt9fX1lbHNle2Zvcih2YXIgSj1HWzBdO0g8SSYmSy5jYWxsKEosSCxKKSE9PWZhbHNlO0o9R1srK0hdKXt9fX1yZXR1cm4gR30scHJvcDpmdW5jdGlvbihILEksRyxGLEUpe2lmKG8uaXNGdW5jdGlvbihJKSl7ST1JLmNhbGwoSCxGKX1yZXR1cm4gdHlwZW9mIEk9PT0ibnVtYmVyIiYmRz09ImN1ckNTUyImJiFiLnRlc3QoRSk/SSsicHgiOkl9LGNsYXNzTmFtZTp7YWRkOmZ1bmN0aW9uKEUsRil7by5lYWNoKChGfHwiIikuc3BsaXQoL1xzKy8pLGZ1bmN0aW9uKEcsSCl7aWYoRS5ub2RlVHlwZT09MSYmIW8uY2xhc3NOYW1lLmhhcyhFLmNsYXNzTmFtZSxIKSl7RS5jbGFzc05hbWUrPShFLmNsYXNzTmFtZT8iICI6IiIpK0h9fSl9LHJlbW92ZTpmdW5jdGlvbihFLEYpe2lmKEUubm9kZVR5cGU9PTEpe0UuY2xhc3NOYW1lPUYhPT1nP28uZ3JlcChFLmNsYXNzTmFtZS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oRyl7cmV0dXJuICFvLmNsYXNzTmFtZS5oYXMoRixHKX0pLmpvaW4oIiAiKToiIn19LGhhczpmdW5jdGlvbihGLEUpe3JldHVybiBGJiZvLmluQXJyYXkoRSwoRi5jbGFzc05hbWV8fEYpLnRvU3RyaW5nKCkuc3BsaXQoL1xzKy8pKT4tMX19LHN3YXA6ZnVuY3Rpb24oSCxHLEkpe3ZhciBFPXt9O2Zvcih2YXIgRiBpbiBHKXtFW0ZdPUguc3R5bGVbRl07SC5zdHlsZVtGXT1HW0ZdfUkuY2FsbChIKTtmb3IodmFyIEYgaW4gRyl7SC5zdHlsZVtGXT1FW0ZdfX0sY3NzOmZ1bmN0aW9uKEgsRixKLEUpe2lmKEY9PSJ3aWR0aCJ8fEY9PSJoZWlnaHQiKXt2YXIgTCxHPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxLPUY9PSJ3aWR0aCI/WyJMZWZ0IiwiUmlnaHQiXTpbIlRvcCIsIkJvdHRvbSJdO2Z1bmN0aW9uIEkoKXtMPUY9PSJ3aWR0aCI/SC5vZmZzZXRXaWR0aDpILm9mZnNldEhlaWdodDtpZihFPT09ImJvcmRlciIpe3JldHVybn1vLmVhY2goSyxmdW5jdGlvbigpe2lmKCFFKXtMLT1wYXJzZUZsb2F0KG8uY3VyQ1NTKEgsInBhZGRpbmciK3RoaXMsdHJ1ZSkpfHwwfWlmKEU9PT0ibWFyZ2luIil7TCs9cGFyc2VGbG9hdChvLmN1ckNTUyhILCJtYXJnaW4iK3RoaXMsdHJ1ZSkpfHwwfWVsc2V7TC09cGFyc2VGbG9hdChvLmN1ckNTUyhILCJib3JkZXIiK3RoaXMrIldpZHRoIix0cnVlKSl8fDB9fSl9aWYoSC5vZmZzZXRXaWR0aCE9PTApe0koKX1lbHNle28uc3dhcChILEcsSSl9cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5yb3VuZChMKSl9cmV0dXJuIG8uY3VyQ1NTKEgsRixKKX0sY3VyQ1NTOmZ1bmN0aW9uKEksRixHKXt2YXIgTCxFPUkuc3R5bGU7aWYoRj09Im9wYWNpdHkiJiYhby5zdXBwb3J0Lm9wYWNpdHkpe0w9by5hdHRyKEUsIm9wYWNpdHkiKTtyZXR1cm4gTD09IiI/IjEiOkx9aWYoRi5tYXRjaCgvZmxvYXQvaSkpe0Y9d31pZighRyYmRSYmRVtGXSl7TD1FW0ZdfWVsc2V7aWYocS5nZXRDb21wdXRlZFN0eWxlKXtpZihGLm1hdGNoKC9mbG9hdC9pKSl7Rj0iZmxvYXQifUY9Ri5yZXBsYWNlKC8oW0EtWl0pL2csIi0kMSIpLnRvTG93ZXJDYXNlKCk7dmFyIE09cS5nZXRDb21wdXRlZFN0eWxlKEksbnVsbCk7aWYoTSl7TD1NLmdldFByb3BlcnR5VmFsdWUoRil9aWYoRj09Im9wYWNpdHkiJiZMPT0iIil7TD0iMSJ9fWVsc2V7aWYoSS5jdXJyZW50U3R5bGUpe3ZhciBKPUYucmVwbGFjZSgvXC0oXHcpL2csZnVuY3Rpb24oTixPKXtyZXR1cm4gTy50b1VwcGVyQ2FzZSgpfSk7TD1JLmN1cnJlbnRTdHlsZVtGXXx8SS5jdXJyZW50U3R5bGVbSl07aWYoIS9eXGQrKHB4KT8kL2kudGVzdChMKSYmL15cZC8udGVzdChMKSl7dmFyIEg9RS5sZWZ0LEs9SS5ydW50aW1lU3R5bGUubGVmdDtJLnJ1bnRpbWVTdHlsZS5sZWZ0PUkuY3VycmVudFN0eWxlLmxlZnQ7RS5sZWZ0PUx8fDA7TD1FLnBpeGVsTGVmdCsicHgiO0UubGVmdD1IO0kucnVudGltZVN0eWxlLmxlZnQ9S319fX1yZXR1cm4gTH0sY2xlYW46ZnVuY3Rpb24oRixLLEkpe0s9S3x8ZG9jdW1lbnQ7aWYodHlwZW9mIEsuY3JlYXRlRWxlbWVudD09PSJ1bmRlZmluZWQiKXtLPUsub3duZXJEb2N1bWVudHx8S1swXSYmS1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudH1pZighSSYmRi5sZW5ndGg9PT0xJiZ0eXBlb2YgRlswXT09PSJzdHJpbmciKXt2YXIgSD0vXjwoXHcrKVxzKlwvPz4kLy5leGVjKEZbMF0pO2lmKEgpe3JldHVybltLLmNyZWF0ZUVsZW1lbnQoSFsxXSldfX12YXIgRz1bXSxFPVtdLEw9Sy5jcmVhdGVFbGVtZW50KCJkaXYiKTtvLmVhY2goRixmdW5jdGlvbihQLFMpe2lmKHR5cGVvZiBTPT09Im51bWJlciIpe1MrPSIifWlmKCFTKXtyZXR1cm59aWYodHlwZW9mIFM9PT0ic3RyaW5nIil7Uz1TLnJlcGxhY2UoLyg8KFx3KylbXj5dKj8pXC8+L2csZnVuY3Rpb24oVSxWLFQpe3JldHVybiBULm1hdGNoKC9eKGFiYnJ8YnJ8Y29sfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18aHJ8YXJlYXxlbWJlZCkkL2kpP1U6VisiPjwvIitUKyI+In0pO3ZhciBPPVMucmVwbGFjZSgvXlxzKy8sIiIpLnN1YnN0cmluZygwLDEwKS50b0xvd2VyQ2FzZSgpO3ZhciBRPSFPLmluZGV4T2YoIjxvcHQiKSYmWzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXXx8IU8uaW5kZXhPZigiPGxlZyIpJiZbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il18fE8ubWF0Y2goL148KHRoZWFkfHRib2R5fHRmb290fGNvbGd8Y2FwKS8pJiZbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il18fCFPLmluZGV4T2YoIjx0ciIpJiZbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il18fCghTy5pbmRleE9mKCI8dGQiKXx8IU8uaW5kZXhPZigiPHRoIikpJiZbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il18fCFPLmluZGV4T2YoIjxjb2wiKSYmWzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdfHwhby5zdXBwb3J0Lmh0bWxTZXJpYWxpemUmJlsxLCJkaXY8ZGl2PiIsIjwvZGl2PiJdfHxbMCwiIiwiIl07TC5pbm5lckhUTUw9UVsxXStTK1FbMl07d2hpbGUoUVswXS0tKXtMPUwubGFzdENoaWxkfWlmKCFvLnN1cHBvcnQudGJvZHkpe3ZhciBSPS88dGJvZHkvaS50ZXN0KFMpLE49IU8uaW5kZXhPZigiPHRhYmxlIikmJiFSP0wuZmlyc3RDaGlsZCYmTC5maXJzdENoaWxkLmNoaWxkTm9kZXM6UVsxXT09Ijx0YWJsZT4iJiYhUj9MLmNoaWxkTm9kZXM6W107Zm9yKHZhciBNPU4ubGVuZ3RoLTE7TT49MDstLU0pe2lmKG8ubm9kZU5hbWUoTltNXSwidGJvZHkiKSYmIU5bTV0uY2hpbGROb2Rlcy5sZW5ndGgpe05bTV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChOW01dKX19fWlmKCFvLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJi9eXHMvLnRlc3QoUykpe0wuaW5zZXJ0QmVmb3JlKEsuY3JlYXRlVGV4dE5vZGUoUy5tYXRjaCgvXlxzKi8pWzBdKSxMLmZpcnN0Q2hpbGQpfVM9by5tYWtlQXJyYXkoTC5jaGlsZE5vZGVzKX1pZihTLm5vZGVUeXBlKXtHLnB1c2goUyl9ZWxzZXtHPW8ubWVyZ2UoRyxTKX19KTtpZihJKXtmb3IodmFyIEo9MDtHW0pdO0orKyl7aWYoby5ub2RlTmFtZShHW0pdLCJzY3JpcHQiKSYmKCFHW0pdLnR5cGV8fEdbSl0udHlwZS50b0xvd2VyQ2FzZSgpPT09InRleHQvamF2YXNjcmlwdCIpKXtFLnB1c2goR1tKXS5wYXJlbnROb2RlP0dbSl0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChHW0pdKTpHW0pdKX1lbHNle2lmKEdbSl0ubm9kZVR5cGU9PT0xKXtHLnNwbGljZS5hcHBseShHLFtKKzEsMF0uY29uY2F0KG8ubWFrZUFycmF5KEdbSl0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSkpfUkuYXBwZW5kQ2hpbGQoR1tKXSl9fXJldHVybiBFfXJldHVybiBHfSxhdHRyOmZ1bmN0aW9uKEosRyxLKXtpZighSnx8Si5ub2RlVHlwZT09M3x8Si5ub2RlVHlwZT09OCl7cmV0dXJuIGd9dmFyIEg9IW8uaXNYTUxEb2MoSiksTD1LIT09ZztHPUgmJm8ucHJvcHNbR118fEc7aWYoSi50YWdOYW1lKXt2YXIgRj0vaHJlZnxzcmN8c3R5bGUvLnRlc3QoRyk7aWYoRz09InNlbGVjdGVkIiYmSi5wYXJlbnROb2RlKXtKLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleH1pZihHIGluIEomJkgmJiFGKXtpZihMKXtpZihHPT0idHlwZSImJm8ubm9kZU5hbWUoSiwiaW5wdXQiKSYmSi5wYXJlbnROb2RlKXt0aHJvdyJ0eXBlIHByb3BlcnR5IGNhbid0IGJlIGNoYW5nZWQifUpbR109S31pZihvLm5vZGVOYW1lKEosImZvcm0iKSYmSi5nZXRBdHRyaWJ1dGVOb2RlKEcpKXtyZXR1cm4gSi5nZXRBdHRyaWJ1dGVOb2RlKEcpLm5vZGVWYWx1ZX1pZihHPT0idGFiSW5kZXgiKXt2YXIgST1KLmdldEF0dHJpYnV0ZU5vZGUoInRhYkluZGV4Iik7cmV0dXJuIEkmJkkuc3BlY2lmaWVkP0kudmFsdWU6Si5ub2RlTmFtZS5tYXRjaCgvKGJ1dHRvbnxpbnB1dHxvYmplY3R8c2VsZWN0fHRleHRhcmVhKS9pKT8wOkoubm9kZU5hbWUubWF0Y2goL14oYXxhcmVhKSQvaSkmJkouaHJlZj8wOmd9cmV0dXJuIEpbR119aWYoIW8uc3VwcG9ydC5zdHlsZSYmSCYmRz09InN0eWxlIil7cmV0dXJuIG8uYXR0cihKLnN0eWxlLCJjc3NUZXh0IixLKX1pZihMKXtKLnNldEF0dHJpYnV0ZShHLCIiK0spfXZhciBFPSFvLnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWQmJkgmJkY/Si5nZXRBdHRyaWJ1dGUoRywyKTpKLmdldEF0dHJpYnV0ZShHKTtyZXR1cm4gRT09PW51bGw/ZzpFfWlmKCFvLnN1cHBvcnQub3BhY2l0eSYmRz09Im9wYWNpdHkiKXtpZihMKXtKLnpvb209MTtKLmZpbHRlcj0oSi5maWx0ZXJ8fCIiKS5yZXBsYWNlKC9hbHBoYVwoW14pXSpcKS8sIiIpKyhwYXJzZUludChLKSsiIj09Ik5hTiI/IiI6ImFscGhhKG9wYWNpdHk9IitLKjEwMCsiKSIpfXJldHVybiBKLmZpbHRlciYmSi5maWx0ZXIuaW5kZXhPZigib3BhY2l0eT0iKT49MD8ocGFyc2VGbG9hdChKLmZpbHRlci5tYXRjaCgvb3BhY2l0eT0oW14pXSopLylbMV0pLzEwMCkrIiI6IiJ9Rz1HLnJlcGxhY2UoLy0oW2Etel0pL2lnLGZ1bmN0aW9uKE0sTil7cmV0dXJuIE4udG9VcHBlckNhc2UoKX0pO2lmKEwpe0pbR109S31yZXR1cm4gSltHXX0sdHJpbTpmdW5jdGlvbihFKXtyZXR1cm4oRXx8IiIpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKEcpe3ZhciBFPVtdO2lmKEchPW51bGwpe3ZhciBGPUcubGVuZ3RoO2lmKEY9PW51bGx8fHR5cGVvZiBHPT09InN0cmluZyJ8fG8uaXNGdW5jdGlvbihHKXx8Ry5zZXRJbnRlcnZhbCl7RVswXT1HfWVsc2V7d2hpbGUoRil7RVstLUZdPUdbRl19fX1yZXR1cm4gRX0saW5BcnJheTpmdW5jdGlvbihHLEgpe2Zvcih2YXIgRT0wLEY9SC5sZW5ndGg7RTxGO0UrKyl7aWYoSFtFXT09PUcpe3JldHVybiBFfX1yZXR1cm4gLTF9LG1lcmdlOmZ1bmN0aW9uKEgsRSl7dmFyIEY9MCxHLEk9SC5sZW5ndGg7aWYoIW8uc3VwcG9ydC5nZXRBbGwpe3doaWxlKChHPUVbRisrXSkhPW51bGwpe2lmKEcubm9kZVR5cGUhPTgpe0hbSSsrXT1HfX19ZWxzZXt3aGlsZSgoRz1FW0YrK10pIT1udWxsKXtIW0krK109R319cmV0dXJuIEh9LHVuaXF1ZTpmdW5jdGlvbihLKXt2YXIgRj1bXSxFPXt9O3RyeXtmb3IodmFyIEc9MCxIPUsubGVuZ3RoO0c8SDtHKyspe3ZhciBKPW8uZGF0YShLW0ddKTtpZighRVtKXSl7RVtKXT10cnVlO0YucHVzaChLW0ddKX19fWNhdGNoKEkpe0Y9S31yZXR1cm4gRn0sZ3JlcDpmdW5jdGlvbihGLEosRSl7dmFyIEc9W107Zm9yKHZhciBIPTAsST1GLmxlbmd0aDtIPEk7SCsrKXtpZighRSE9IUooRltIXSxIKSl7Ry5wdXNoKEZbSF0pfX1yZXR1cm4gR30sbWFwOmZ1bmN0aW9uKEUsSil7dmFyIEY9W107Zm9yKHZhciBHPTAsSD1FLmxlbmd0aDtHPEg7RysrKXt2YXIgST1KKEVbR10sRyk7aWYoSSE9bnVsbCl7RltGLmxlbmd0aF09SX19cmV0dXJuIEYuY29uY2F0LmFwcGx5KFtdLEYpfX0pO3ZhciBDPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtvLmJyb3dzZXI9e3ZlcnNpb246KEMubWF0Y2goLy4rKD86cnZ8aXR8cmF8aWUpW1wvOiBdKFtcZC5dKykvKXx8WzAsIjAiXSlbMV0sc2FmYXJpOi93ZWJraXQvLnRlc3QoQyksb3BlcmE6L29wZXJhLy50ZXN0KEMpLG1zaWU6L21zaWUvLnRlc3QoQykmJiEvb3BlcmEvLnRlc3QoQyksbW96aWxsYTovbW96aWxsYS8udGVzdChDKSYmIS8oY29tcGF0aWJsZXx3ZWJraXQpLy50ZXN0KEMpfTtvLmVhY2goe3BhcmVudDpmdW5jdGlvbihFKXtyZXR1cm4gRS5wYXJlbnROb2RlfSxwYXJlbnRzOmZ1bmN0aW9uKEUpe3JldHVybiBvLmRpcihFLCJwYXJlbnROb2RlIil9LG5leHQ6ZnVuY3Rpb24oRSl7cmV0dXJuIG8ubnRoKEUsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihFKXtyZXR1cm4gby5udGgoRSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihFKXtyZXR1cm4gby5kaXIoRSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihFKXtyZXR1cm4gby5kaXIoRSwicHJldmlvdXNTaWJsaW5nIil9LHNpYmxpbmdzOmZ1bmN0aW9uKEUpe3JldHVybiBvLnNpYmxpbmcoRS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQsRSl9LGNoaWxkcmVuOmZ1bmN0aW9uKEUpe3JldHVybiBvLnNpYmxpbmcoRS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oRSl7cmV0dXJuIG8ubm9kZU5hbWUoRSwiaWZyYW1lIik/RS5jb250ZW50RG9jdW1lbnR8fEUuY29udGVudFdpbmRvdy5kb2N1bWVudDpvLm1ha2VBcnJheShFLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oRSxGKXtvLmZuW0VdPWZ1bmN0aW9uKEcpe3ZhciBIPW8ubWFwKHRoaXMsRik7aWYoRyYmdHlwZW9mIEc9PSJzdHJpbmciKXtIPW8ubXVsdGlGaWx0ZXIoRyxIKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2soby51bmlxdWUoSCksRSxHKX19KTtvLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihFLEYpe28uZm5bRV09ZnVuY3Rpb24oRyl7dmFyIEo9W10sTD1vKEcpO2Zvcih2YXIgSz0wLEg9TC5sZW5ndGg7SzxIO0srKyl7dmFyIEk9KEs+MD90aGlzLmNsb25lKHRydWUpOnRoaXMpLmdldCgpO28uZm5bRl0uYXBwbHkobyhMW0tdKSxJKTtKPUouY29uY2F0KEkpfXJldHVybiB0aGlzLnB1c2hTdGFjayhKLEUsRyl9fSk7by5lYWNoKHtyZW1vdmVBdHRyOmZ1bmN0aW9uKEUpe28uYXR0cih0aGlzLEUsIiIpO2lmKHRoaXMubm9kZVR5cGU9PTEpe3RoaXMucmVtb3ZlQXR0cmlidXRlKEUpfX0sYWRkQ2xhc3M6ZnVuY3Rpb24oRSl7by5jbGFzc05hbWUuYWRkKHRoaXMsRSl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKEUpe28uY2xhc3NOYW1lLnJlbW92ZSh0aGlzLEUpfSx0b2dnbGVDbGFzczpmdW5jdGlvbihGLEUpe2lmKHR5cGVvZiBFIT09ImJvb2xlYW4iKXtFPSFvLmNsYXNzTmFtZS5oYXModGhpcyxGKX1vLmNsYXNzTmFtZVtFPyJhZGQiOiJyZW1vdmUiXSh0aGlzLEYpfSxyZW1vdmU6ZnVuY3Rpb24oRSl7aWYoIUV8fG8uZmlsdGVyKEUsW3RoaXNdKS5sZW5ndGgpe28oIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXtvLmV2ZW50LnJlbW92ZSh0aGlzKTtvLnJlbW92ZURhdGEodGhpcyl9KTtpZih0aGlzLnBhcmVudE5vZGUpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX19fSxlbXB0eTpmdW5jdGlvbigpe28odGhpcykuY2hpbGRyZW4oKS5yZW1vdmUoKTt3aGlsZSh0aGlzLmZpcnN0Q2hpbGQpe3RoaXMucmVtb3ZlQ2hpbGQodGhpcy5maXJzdENoaWxkKX19fSxmdW5jdGlvbihFLEYpe28uZm5bRV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKEYsYXJndW1lbnRzKX19KTtmdW5jdGlvbiBqKEUsRil7cmV0dXJuIEVbMF0mJnBhcnNlSW50KG8uY3VyQ1NTKEVbMF0sRix0cnVlKSwxMCl8fDB9dmFyIGg9ImpRdWVyeSIrZSgpLHY9MCxBPXt9O28uZXh0ZW5kKHtjYWNoZTp7fSxkYXRhOmZ1bmN0aW9uKEYsRSxHKXtGPUY9PWw/QTpGO3ZhciBIPUZbaF07aWYoIUgpe0g9RltoXT0rK3Z9aWYoRSYmIW8uY2FjaGVbSF0pe28uY2FjaGVbSF09e319aWYoRyE9PWcpe28uY2FjaGVbSF1bRV09R31yZXR1cm4gRT9vLmNhY2hlW0hdW0VdOkh9LHJlbW92ZURhdGE6ZnVuY3Rpb24oRixFKXtGPUY9PWw/QTpGO3ZhciBIPUZbaF07aWYoRSl7aWYoby5jYWNoZVtIXSl7ZGVsZXRlIG8uY2FjaGVbSF1bRV07RT0iIjtmb3IoRSBpbiBvLmNhY2hlW0hdKXticmVha31pZighRSl7by5yZW1vdmVEYXRhKEYpfX19ZWxzZXt0cnl7ZGVsZXRlIEZbaF19Y2F0Y2goRyl7aWYoRi5yZW1vdmVBdHRyaWJ1dGUpe0YucmVtb3ZlQXR0cmlidXRlKGgpfX1kZWxldGUgby5jYWNoZVtIXX19LHF1ZXVlOmZ1bmN0aW9uKEYsRSxIKXtpZihGKXtFPShFfHwiZngiKSsicXVldWUiO3ZhciBHPW8uZGF0YShGLEUpO2lmKCFHfHxvLmlzQXJyYXkoSCkpe0c9by5kYXRhKEYsRSxvLm1ha2VBcnJheShIKSl9ZWxzZXtpZihIKXtHLnB1c2goSCl9fX1yZXR1cm4gR30sZGVxdWV1ZTpmdW5jdGlvbihILEcpe3ZhciBFPW8ucXVldWUoSCxHKSxGPUUuc2hpZnQoKTtpZighR3x8Rz09PSJmeCIpe0Y9RVswXX1pZihGIT09Zyl7Ri5jYWxsKEgpfX19KTtvLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihFLEcpe3ZhciBIPUUuc3BsaXQoIi4iKTtIWzFdPUhbMV0/Ii4iK0hbMV06IiI7aWYoRz09PWcpe3ZhciBGPXRoaXMudHJpZ2dlckhhbmRsZXIoImdldERhdGEiK0hbMV0rIiEiLFtIWzBdXSk7aWYoRj09PWcmJnRoaXMubGVuZ3RoKXtGPW8uZGF0YSh0aGlzWzBdLEUpfXJldHVybiBGPT09ZyYmSFsxXT90aGlzLmRhdGEoSFswXSk6Rn1lbHNle3JldHVybiB0aGlzLnRyaWdnZXIoInNldERhdGEiK0hbMV0rIiEiLFtIWzBdLEddKS5lYWNoKGZ1bmN0aW9uKCl7by5kYXRhKHRoaXMsRSxHKX0pfX0scmVtb3ZlRGF0YTpmdW5jdGlvbihFKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5yZW1vdmVEYXRhKHRoaXMsRSl9KX0scXVldWU6ZnVuY3Rpb24oRSxGKXtpZih0eXBlb2YgRSE9PSJzdHJpbmciKXtGPUU7RT0iZngifWlmKEY9PT1nKXtyZXR1cm4gby5xdWV1ZSh0aGlzWzBdLEUpfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgRz1vLnF1ZXVlKHRoaXMsRSxGKTtpZihFPT0iZngiJiZHLmxlbmd0aD09MSl7R1swXS5jYWxsKHRoaXMpfX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKEUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLmRlcXVldWUodGhpcyxFKX0pfX0pOw0KCQkJLyoNCgkJCVNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIC0gdjAuOS4zDQoJCQlDb3B5cmlnaHQgMjAwOSwgVGhlIERvam8gRm91bmRhdGlvbiBNb3JlIGluZm9ybWF0aW9uOiBodHRwOi8vc2l6emxlanMuY29tLw0KCQkJUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSAgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwgIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyAgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczogDQoJCQlUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4NCgkJCVRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SICBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSAgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiAgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gIFRIRSBTT0ZUV0FSRS4gDQoJCQkqLw0KCQkJKGZ1bmN0aW9uKCl7dmFyIFI9LygoPzpcKCg/OlwoW14oKV0rXCl8W14oKV0rKStcKXxcWyg/OlxbW15bXF1dKlxdfFsnIl1bXiciXSpbJyJdfFteW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPy9nLEw9MCxIPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dmFyIEY9ZnVuY3Rpb24oWSxVLGFiLGFjKXthYj1hYnx8W107VT1VfHxkb2N1bWVudDtpZihVLm5vZGVUeXBlIT09MSYmVS5ub2RlVHlwZSE9PTkpe3JldHVybltdfWlmKCFZfHx0eXBlb2YgWSE9PSJzdHJpbmciKXtyZXR1cm4gYWJ9dmFyIFo9W10sVyxhZixhaSxULGFkLFYsWD10cnVlO1IubGFzdEluZGV4PTA7d2hpbGUoKFc9Ui5leGVjKFkpKSE9PW51bGwpe1oucHVzaChXWzFdKTtpZihXWzJdKXtWPVJlZ0V4cC5yaWdodENvbnRleHQ7YnJlYWt9fWlmKFoubGVuZ3RoPjEmJk0uZXhlYyhZKSl7aWYoWi5sZW5ndGg9PT0yJiZJLnJlbGF0aXZlW1pbMF1dKXthZj1KKFpbMF0rWlsxXSxVKX1lbHNle2FmPUkucmVsYXRpdmVbWlswXV0/W1VdOkYoWi5zaGlmdCgpLFUpO3doaWxlKFoubGVuZ3RoKXtZPVouc2hpZnQoKTtpZihJLnJlbGF0aXZlW1ldKXtZKz1aLnNoaWZ0KCl9YWY9SihZLGFmKX19fWVsc2V7dmFyIGFlPWFjP3tleHByOloucG9wKCksc2V0OkUoYWMpfTpGLmZpbmQoWi5wb3AoKSxaLmxlbmd0aD09PTEmJlUucGFyZW50Tm9kZT9VLnBhcmVudE5vZGU6VSxRKFUpKTthZj1GLmZpbHRlcihhZS5leHByLGFlLnNldCk7aWYoWi5sZW5ndGg+MCl7YWk9RShhZil9ZWxzZXtYPWZhbHNlfXdoaWxlKFoubGVuZ3RoKXt2YXIgYWg9Wi5wb3AoKSxhZz1haDtpZighSS5yZWxhdGl2ZVthaF0pe2FoPSIifWVsc2V7YWc9Wi5wb3AoKX1pZihhZz09bnVsbCl7YWc9VX1JLnJlbGF0aXZlW2FoXShhaSxhZyxRKFUpKX19aWYoIWFpKXthaT1hZn1pZighYWkpe3Rocm93IlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrKGFofHxZKX1pZihILmNhbGwoYWkpPT09IltvYmplY3QgQXJyYXldIil7aWYoIVgpe2FiLnB1c2guYXBwbHkoYWIsYWkpfWVsc2V7aWYoVS5ub2RlVHlwZT09PTEpe2Zvcih2YXIgYWE9MDthaVthYV0hPW51bGw7YWErKyl7aWYoYWlbYWFdJiYoYWlbYWFdPT09dHJ1ZXx8YWlbYWFdLm5vZGVUeXBlPT09MSYmSyhVLGFpW2FhXSkpKXthYi5wdXNoKGFmW2FhXSl9fX1lbHNle2Zvcih2YXIgYWE9MDthaVthYV0hPW51bGw7YWErKyl7aWYoYWlbYWFdJiZhaVthYV0ubm9kZVR5cGU9PT0xKXthYi5wdXNoKGFmW2FhXSl9fX19fWVsc2V7RShhaSxhYil9aWYoVil7RihWLFUsYWIsYWMpO2lmKEcpe2hhc0R1cGxpY2F0ZT1mYWxzZTthYi5zb3J0KEcpO2lmKGhhc0R1cGxpY2F0ZSl7Zm9yKHZhciBhYT0xO2FhPGFiLmxlbmd0aDthYSsrKXtpZihhYlthYV09PT1hYlthYS0xXSl7YWIuc3BsaWNlKGFhLS0sMSl9fX19fXJldHVybiBhYn07Ri5tYXRjaGVzPWZ1bmN0aW9uKFQsVSl7cmV0dXJuIEYoVCxudWxsLG51bGwsVSl9O0YuZmluZD1mdW5jdGlvbihhYSxULGFiKXt2YXIgWixYO2lmKCFhYSl7cmV0dXJuW119Zm9yKHZhciBXPTAsVj1JLm9yZGVyLmxlbmd0aDtXPFY7VysrKXt2YXIgWT1JLm9yZGVyW1ddLFg7aWYoKFg9SS5tYXRjaFtZXS5leGVjKGFhKSkpe3ZhciBVPVJlZ0V4cC5sZWZ0Q29udGV4dDtpZihVLnN1YnN0cihVLmxlbmd0aC0xKSE9PSJcXCIpe1hbMV09KFhbMV18fCIiKS5yZXBsYWNlKC9cXC9nLCIiKTtaPUkuZmluZFtZXShYLFQsYWIpO2lmKFohPW51bGwpe2FhPWFhLnJlcGxhY2UoSS5tYXRjaFtZXSwiIik7YnJlYWt9fX19aWYoIVope1o9VC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpfXJldHVybntzZXQ6WixleHByOmFhfX07Ri5maWx0ZXI9ZnVuY3Rpb24oYWQsYWMsYWcsVyl7dmFyIFY9YWQsYWk9W10sYWE9YWMsWSxULFo9YWMmJmFjWzBdJiZRKGFjWzBdKTt3aGlsZShhZCYmYWMubGVuZ3RoKXtmb3IodmFyIGFiIGluIEkuZmlsdGVyKXtpZigoWT1JLm1hdGNoW2FiXS5leGVjKGFkKSkhPW51bGwpe3ZhciBVPUkuZmlsdGVyW2FiXSxhaCxhZjtUPWZhbHNlO2lmKGFhPT1haSl7YWk9W119aWYoSS5wcmVGaWx0ZXJbYWJdKXtZPUkucHJlRmlsdGVyW2FiXShZLGFhLGFnLGFpLFcsWik7aWYoIVkpe1Q9YWg9dHJ1ZX1lbHNle2lmKFk9PT10cnVlKXtjb250aW51ZX19fWlmKFkpe2Zvcih2YXIgWD0wOyhhZj1hYVtYXSkhPW51bGw7WCsrKXtpZihhZil7YWg9VShhZixZLFgsYWEpO3ZhciBhZT1XXiEhYWg7aWYoYWcmJmFoIT1udWxsKXtpZihhZSl7VD10cnVlfWVsc2V7YWFbWF09ZmFsc2V9fWVsc2V7aWYoYWUpe2FpLnB1c2goYWYpO1Q9dHJ1ZX19fX19aWYoYWghPT1nKXtpZighYWcpe2FhPWFpfWFkPWFkLnJlcGxhY2UoSS5tYXRjaFthYl0sIiIpO2lmKCFUKXtyZXR1cm5bXX1icmVha319fWlmKGFkPT1WKXtpZihUPT1udWxsKXt0aHJvdyJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2FkfWVsc2V7YnJlYWt9fVY9YWR9cmV0dXJuIGFhfTt2YXIgST1GLnNlbGVjdG9ycz17b3JkZXI6WyJJRCIsIk5BTUUiLCJUQUciXSxtYXRjaDp7SUQ6LyMoKD86W1x3XHUwMGMwLVx1RkZGRl8tXXxcXC4pKykvLENMQVNTOi9cLigoPzpbXHdcdTAwYzAtXHVGRkZGXy1dfFxcLikrKS8sTkFNRTovXFtuYW1lPVsnIl0qKCg/Oltcd1x1MDBjMC1cdUZGRkZfLV18XFwuKSspWyciXSpcXS8sQVRUUjovXFtccyooKD86W1x3XHUwMGMwLVx1RkZGRl8tXXxcXC4pKylccyooPzooXFM/PSlccyooWyciXSopKC4qPylcM3wpXHMqXF0vLFRBRzovXigoPzpbXHdcdTAwYzAtXHVGRkZGXCpfLV18XFwuKSspLyxDSElMRDovOihvbmx5fG50aHxsYXN0fGZpcnN0KS1jaGlsZCg/OlwoKGV2ZW58b2RkfFtcZG4rLV0qKVwpKT8vLFBPUzovOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteLV18JCkvLFBTRVVETzovOigoPzpbXHdcdTAwYzAtXHVGRkZGXy1dfFxcLikrKSg/OlwoKFsnIl0qKSgoPzpcKFteXCldK1wpfFteXDJcKFwpXSopKylcMlwpKT8vfSxhdHRyTWFwOnsiY2xhc3MiOiJjbGFzc05hbWUiLCJmb3IiOiJodG1sRm9yIn0sYXR0ckhhbmRsZTp7aHJlZjpmdW5jdGlvbihUKXtyZXR1cm4gVC5nZXRBdHRyaWJ1dGUoImhyZWYiKX19LHJlbGF0aXZlOnsiKyI6ZnVuY3Rpb24oYWEsVCxaKXt2YXIgWD10eXBlb2YgVD09PSJzdHJpbmciLGFiPVgmJiEvXFcvLnRlc3QoVCksWT1YJiYhYWI7aWYoYWImJiFaKXtUPVQudG9VcHBlckNhc2UoKX1mb3IodmFyIFc9MCxWPWFhLmxlbmd0aCxVO1c8VjtXKyspe2lmKChVPWFhW1ddKSl7d2hpbGUoKFU9VS5wcmV2aW91c1NpYmxpbmcpJiZVLm5vZGVUeXBlIT09MSl7fWFhW1ddPVl8fFUmJlUubm9kZU5hbWU9PT1UP1V8fGZhbHNlOlU9PT1UfX1pZihZKXtGLmZpbHRlcihULGFhLHRydWUpfX0sIj4iOmZ1bmN0aW9uKFosVSxhYSl7dmFyIFg9dHlwZW9mIFU9PT0ic3RyaW5nIjtpZihYJiYhL1xXLy50ZXN0KFUpKXtVPWFhP1U6VS50b1VwcGVyQ2FzZSgpO2Zvcih2YXIgVj0wLFQ9Wi5sZW5ndGg7VjxUO1YrKyl7dmFyIFk9WltWXTtpZihZKXt2YXIgVz1ZLnBhcmVudE5vZGU7WltWXT1XLm5vZGVOYW1lPT09VT9XOmZhbHNlfX19ZWxzZXtmb3IodmFyIFY9MCxUPVoubGVuZ3RoO1Y8VDtWKyspe3ZhciBZPVpbVl07aWYoWSl7WltWXT1YP1kucGFyZW50Tm9kZTpZLnBhcmVudE5vZGU9PT1VfX1pZihYKXtGLmZpbHRlcihVLFosdHJ1ZSl9fX0sIiI6ZnVuY3Rpb24oVyxVLFkpe3ZhciBWPUwrKyxUPVM7aWYoIVUubWF0Y2goL1xXLykpe3ZhciBYPVU9WT9VOlUudG9VcHBlckNhc2UoKTtUPVB9VCgicGFyZW50Tm9kZSIsVSxWLFcsWCxZKX0sIn4iOmZ1bmN0aW9uKFcsVSxZKXt2YXIgVj1MKyssVD1TO2lmKHR5cGVvZiBVPT09InN0cmluZyImJiFVLm1hdGNoKC9cVy8pKXt2YXIgWD1VPVk/VTpVLnRvVXBwZXJDYXNlKCk7VD1QfVQoInByZXZpb3VzU2libGluZyIsVSxWLFcsWCxZKX19LGZpbmQ6e0lEOmZ1bmN0aW9uKFUsVixXKXtpZih0eXBlb2YgVi5nZXRFbGVtZW50QnlJZCE9PSJ1bmRlZmluZWQiJiYhVyl7dmFyIFQ9Vi5nZXRFbGVtZW50QnlJZChVWzFdKTtyZXR1cm4gVD9bVF06W119fSxOQU1FOmZ1bmN0aW9uKFYsWSxaKXtpZih0eXBlb2YgWS5nZXRFbGVtZW50c0J5TmFtZSE9PSJ1bmRlZmluZWQiKXt2YXIgVT1bXSxYPVkuZ2V0RWxlbWVudHNCeU5hbWUoVlsxXSk7Zm9yKHZhciBXPTAsVD1YLmxlbmd0aDtXPFQ7VysrKXtpZihYW1ddLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09VlsxXSl7VS5wdXNoKFhbV10pfX1yZXR1cm4gVS5sZW5ndGg9PT0wP251bGw6VX19LFRBRzpmdW5jdGlvbihULFUpe3JldHVybiBVLmdldEVsZW1lbnRzQnlUYWdOYW1lKFRbMV0pfX0scHJlRmlsdGVyOntDTEFTUzpmdW5jdGlvbihXLFUsVixULFosYWEpe1c9IiAiK1dbMV0ucmVwbGFjZSgvXFwvZywiIikrIiAiO2lmKGFhKXtyZXR1cm4gV31mb3IodmFyIFg9MCxZOyhZPVVbWF0pIT1udWxsO1grKyl7aWYoWSl7aWYoWl4oWS5jbGFzc05hbWUmJigiICIrWS5jbGFzc05hbWUrIiAiKS5pbmRleE9mKFcpPj0wKSl7aWYoIVYpe1QucHVzaChZKX19ZWxzZXtpZihWKXtVW1hdPWZhbHNlfX19fXJldHVybiBmYWxzZX0sSUQ6ZnVuY3Rpb24oVCl7cmV0dXJuIFRbMV0ucmVwbGFjZSgvXFwvZywiIil9LFRBRzpmdW5jdGlvbihVLFQpe2Zvcih2YXIgVj0wO1RbVl09PT1mYWxzZTtWKyspe31yZXR1cm4gVFtWXSYmUShUW1ZdKT9VWzFdOlVbMV0udG9VcHBlckNhc2UoKX0sQ0hJTEQ6ZnVuY3Rpb24oVCl7aWYoVFsxXT09Im50aCIpe3ZhciBVPS8oLT8pKFxkKiluKCg/OlwrfC0pP1xkKikvLmV4ZWMoVFsyXT09ImV2ZW4iJiYiMm4ifHxUWzJdPT0ib2RkIiYmIjJuKzEifHwhL1xELy50ZXN0KFRbMl0pJiYiMG4rIitUWzJdfHxUWzJdKTtUWzJdPShVWzFdKyhVWzJdfHwxKSktMDtUWzNdPVVbM10tMH1UWzBdPUwrKztyZXR1cm4gVH0sQVRUUjpmdW5jdGlvbihYLFUsVixULFksWil7dmFyIFc9WFsxXS5yZXBsYWNlKC9cXC9nLCIiKTtpZighWiYmSS5hdHRyTWFwW1ddKXtYWzFdPUkuYXR0ck1hcFtXXX1pZihYWzJdPT09In49Iil7WFs0XT0iICIrWFs0XSsiICJ9cmV0dXJuIFh9LFBTRVVETzpmdW5jdGlvbihYLFUsVixULFkpe2lmKFhbMV09PT0ibm90Iil7aWYoWFszXS5tYXRjaChSKS5sZW5ndGg+MXx8L15cdy8udGVzdChYWzNdKSl7WFszXT1GKFhbM10sbnVsbCxudWxsLFUpfWVsc2V7dmFyIFc9Ri5maWx0ZXIoWFszXSxVLFYsdHJ1ZV5ZKTtpZighVil7VC5wdXNoLmFwcGx5KFQsVyl9cmV0dXJuIGZhbHNlfX1lbHNle2lmKEkubWF0Y2guUE9TLnRlc3QoWFswXSl8fEkubWF0Y2guQ0hJTEQudGVzdChYWzBdKSl7cmV0dXJuIHRydWV9fXJldHVybiBYfSxQT1M6ZnVuY3Rpb24oVCl7VC51bnNoaWZ0KHRydWUpO3JldHVybiBUfX0sZmlsdGVyczp7ZW5hYmxlZDpmdW5jdGlvbihUKXtyZXR1cm4gVC5kaXNhYmxlZD09PWZhbHNlJiZULnR5cGUhPT0iaGlkZGVuIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oVCl7cmV0dXJuIFQuZGlzYWJsZWQ9PT10cnVlfSxjaGVja2VkOmZ1bmN0aW9uKFQpe3JldHVybiBULmNoZWNrZWQ9PT10cnVlfSxzZWxlY3RlZDpmdW5jdGlvbihUKXtULnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4gVC5zZWxlY3RlZD09PXRydWV9LHBhcmVudDpmdW5jdGlvbihUKXtyZXR1cm4gISFULmZpcnN0Q2hpbGR9LGVtcHR5OmZ1bmN0aW9uKFQpe3JldHVybiAhVC5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oVixVLFQpe3JldHVybiAhIUYoVFszXSxWKS5sZW5ndGh9LGhlYWRlcjpmdW5jdGlvbihUKXtyZXR1cm4vaFxkL2kudGVzdChULm5vZGVOYW1lKX0sdGV4dDpmdW5jdGlvbihUKXtyZXR1cm4idGV4dCI9PT1ULnR5cGV9LHJhZGlvOmZ1bmN0aW9uKFQpe3JldHVybiJyYWRpbyI9PT1ULnR5cGV9LGNoZWNrYm94OmZ1bmN0aW9uKFQpe3JldHVybiJjaGVja2JveCI9PT1ULnR5cGV9LGZpbGU6ZnVuY3Rpb24oVCl7cmV0dXJuImZpbGUiPT09VC50eXBlfSxwYXNzd29yZDpmdW5jdGlvbihUKXtyZXR1cm4icGFzc3dvcmQiPT09VC50eXBlfSxzdWJtaXQ6ZnVuY3Rpb24oVCl7cmV0dXJuInN1Ym1pdCI9PT1ULnR5cGV9LGltYWdlOmZ1bmN0aW9uKFQpe3JldHVybiJpbWFnZSI9PT1ULnR5cGV9LHJlc2V0OmZ1bmN0aW9uKFQpe3JldHVybiJyZXNldCI9PT1ULnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihUKXtyZXR1cm4iYnV0dG9uIj09PVQudHlwZXx8VC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT09IkJVVFRPTiJ9LGlucHV0OmZ1bmN0aW9uKFQpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChULm5vZGVOYW1lKX19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKFUsVCl7cmV0dXJuIFQ9PT0wfSxsYXN0OmZ1bmN0aW9uKFYsVSxULFcpe3JldHVybiBVPT09Vy5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihVLFQpe3JldHVybiBUJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oVSxUKXtyZXR1cm4gVCUyPT09MX0sbHQ6ZnVuY3Rpb24oVixVLFQpe3JldHVybiBVPFRbM10tMH0sZ3Q6ZnVuY3Rpb24oVixVLFQpe3JldHVybiBVPlRbM10tMH0sbnRoOmZ1bmN0aW9uKFYsVSxUKXtyZXR1cm4gVFszXS0wPT1VfSxlcTpmdW5jdGlvbihWLFUsVCl7cmV0dXJuIFRbM10tMD09VX19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKFosVixXLGFhKXt2YXIgVT1WWzFdLFg9SS5maWx0ZXJzW1VdO2lmKFgpe3JldHVybiBYKFosVyxWLGFhKX1lbHNle2lmKFU9PT0iY29udGFpbnMiKXtyZXR1cm4oWi50ZXh0Q29udGVudHx8Wi5pbm5lclRleHR8fCIiKS5pbmRleE9mKFZbM10pPj0wfWVsc2V7aWYoVT09PSJub3QiKXt2YXIgWT1WWzNdO2Zvcih2YXIgVz0wLFQ9WS5sZW5ndGg7VzxUO1crKyl7aWYoWVtXXT09PVope3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9fX19LENISUxEOmZ1bmN0aW9uKFQsVyl7dmFyIFo9V1sxXSxVPVQ7c3dpdGNoKFope2Nhc2Uib25seSI6Y2FzZSJmaXJzdCI6d2hpbGUoVT1VLnByZXZpb3VzU2libGluZyl7aWYoVS5ub2RlVHlwZT09PTEpe3JldHVybiBmYWxzZX19aWYoWj09ImZpcnN0Iil7cmV0dXJuIHRydWV9VT1UO2Nhc2UibGFzdCI6d2hpbGUoVT1VLm5leHRTaWJsaW5nKXtpZihVLm5vZGVUeXBlPT09MSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZTtjYXNlIm50aCI6dmFyIFY9V1syXSxhYz1XWzNdO2lmKFY9PTEmJmFjPT0wKXtyZXR1cm4gdHJ1ZX12YXIgWT1XWzBdLGFiPVQucGFyZW50Tm9kZTtpZihhYiYmKGFiLnNpemNhY2hlIT09WXx8IVQubm9kZUluZGV4KSl7dmFyIFg9MDtmb3IoVT1hYi5maXJzdENoaWxkO1U7VT1VLm5leHRTaWJsaW5nKXtpZihVLm5vZGVUeXBlPT09MSl7VS5ub2RlSW5kZXg9KytYfX1hYi5zaXpjYWNoZT1ZfXZhciBhYT1ULm5vZGVJbmRleC1hYztpZihWPT0wKXtyZXR1cm4gYWE9PTB9ZWxzZXtyZXR1cm4oYWElVj09MCYmYWEvVj49MCl9fX0sSUQ6ZnVuY3Rpb24oVSxUKXtyZXR1cm4gVS5ub2RlVHlwZT09PTEmJlUuZ2V0QXR0cmlidXRlKCJpZCIpPT09VH0sVEFHOmZ1bmN0aW9uKFUsVCl7cmV0dXJuKFQ9PT0iKiImJlUubm9kZVR5cGU9PT0xKXx8VS5ub2RlTmFtZT09PVR9LENMQVNTOmZ1bmN0aW9uKFUsVCl7cmV0dXJuKCIgIisoVS5jbGFzc05hbWV8fFUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpKSsiICIpLmluZGV4T2YoVCk+LTF9LEFUVFI6ZnVuY3Rpb24oWSxXKXt2YXIgVj1XWzFdLFQ9SS5hdHRySGFuZGxlW1ZdP0kuYXR0ckhhbmRsZVtWXShZKTpZW1ZdIT1udWxsP1lbVl06WS5nZXRBdHRyaWJ1dGUoViksWj1UKyIiLFg9V1syXSxVPVdbNF07cmV0dXJuIFQ9PW51bGw/WD09PSIhPSI6WD09PSI9Ij9aPT09VTpYPT09Iio9Ij9aLmluZGV4T2YoVSk+PTA6WD09PSJ+PSI/KCIgIitaKyIgIikuaW5kZXhPZihVKT49MDohVT9aJiZUIT09ZmFsc2U6WD09PSIhPSI/WiE9VTpYPT09Il49Ij9aLmluZGV4T2YoVSk9PT0wOlg9PT0iJD0iP1ouc3Vic3RyKFoubGVuZ3RoLVUubGVuZ3RoKT09PVU6WD09PSJ8PSI/Wj09PVV8fFouc3Vic3RyKDAsVS5sZW5ndGgrMSk9PT1VKyItIjpmYWxzZX0sUE9TOmZ1bmN0aW9uKFgsVSxWLFkpe3ZhciBUPVVbMl0sVz1JLnNldEZpbHRlcnNbVF07aWYoVyl7cmV0dXJuIFcoWCxWLFUsWSl9fX19O3ZhciBNPUkubWF0Y2guUE9TO2Zvcih2YXIgTyBpbiBJLm1hdGNoKXtJLm1hdGNoW09dPVJlZ0V4cChJLm1hdGNoW09dLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpfXZhciBFPWZ1bmN0aW9uKFUsVCl7VT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChVKTtpZihUKXtULnB1c2guYXBwbHkoVCxVKTtyZXR1cm4gVH1yZXR1cm4gVX07dHJ5e0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzKX1jYXRjaChOKXtFPWZ1bmN0aW9uKFgsVyl7dmFyIFU9V3x8W107aWYoSC5jYWxsKFgpPT09IltvYmplY3QgQXJyYXldIil7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoVSxYKX1lbHNle2lmKHR5cGVvZiBYLmxlbmd0aD09PSJudW1iZXIiKXtmb3IodmFyIFY9MCxUPVgubGVuZ3RoO1Y8VDtWKyspe1UucHVzaChYW1ZdKX19ZWxzZXtmb3IodmFyIFY9MDtYW1ZdO1YrKyl7VS5wdXNoKFhbVl0pfX19cmV0dXJuIFV9fXZhciBHO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbil7Rz1mdW5jdGlvbihVLFQpe3ZhciBWPVUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oVCkmND8tMTpVPT09VD8wOjE7aWYoVj09PTApe2hhc0R1cGxpY2F0ZT10cnVlfXJldHVybiBWfX1lbHNle2lmKCJzb3VyY2VJbmRleCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXtHPWZ1bmN0aW9uKFUsVCl7dmFyIFY9VS5zb3VyY2VJbmRleC1ULnNvdXJjZUluZGV4O2lmKFY9PT0wKXtoYXNEdXBsaWNhdGU9dHJ1ZX1yZXR1cm4gVn19ZWxzZXtpZihkb2N1bWVudC5jcmVhdGVSYW5nZSl7Rz1mdW5jdGlvbihXLFUpe3ZhciBWPVcub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpLFQ9VS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Vi5zZWxlY3ROb2RlKFcpO1YuY29sbGFwc2UodHJ1ZSk7VC5zZWxlY3ROb2RlKFUpO1QuY29sbGFwc2UodHJ1ZSk7dmFyIFg9Vi5jb21wYXJlQm91bmRhcnlQb2ludHMoUmFuZ2UuU1RBUlRfVE9fRU5ELFQpO2lmKFg9PT0wKXtoYXNEdXBsaWNhdGU9dHJ1ZX1yZXR1cm4gWH19fX0oZnVuY3Rpb24oKXt2YXIgVT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIiksVj0ic2NyaXB0IisobmV3IERhdGUpLmdldFRpbWUoKTtVLmlubmVySFRNTD0iPGlucHV0IG5hbWU9JyIrVisiJy8+Ijt2YXIgVD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7VC5pbnNlcnRCZWZvcmUoVSxULmZpcnN0Q2hpbGQpO2lmKCEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoVikpe0kuZmluZC5JRD1mdW5jdGlvbihYLFksWil7aWYodHlwZW9mIFkuZ2V0RWxlbWVudEJ5SWQhPT0idW5kZWZpbmVkIiYmIVope3ZhciBXPVkuZ2V0RWxlbWVudEJ5SWQoWFsxXSk7cmV0dXJuIFc/Vy5pZD09PVhbMV18fHR5cGVvZiBXLmdldEF0dHJpYnV0ZU5vZGUhPT0idW5kZWZpbmVkIiYmVy5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpLm5vZGVWYWx1ZT09PVhbMV0/W1ddOmc6W119fTtJLmZpbHRlci5JRD1mdW5jdGlvbihZLFcpe3ZhciBYPXR5cGVvZiBZLmdldEF0dHJpYnV0ZU5vZGUhPT0idW5kZWZpbmVkIiYmWS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBZLm5vZGVUeXBlPT09MSYmWCYmWC5ub2RlVmFsdWU9PT1XfX1ULnJlbW92ZUNoaWxkKFUpfSkoKTsoZnVuY3Rpb24oKXt2YXIgVD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtULmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiIpKTtpZihULmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoPjApe0kuZmluZC5UQUc9ZnVuY3Rpb24oVSxZKXt2YXIgWD1ZLmdldEVsZW1lbnRzQnlUYWdOYW1lKFVbMV0pO2lmKFVbMV09PT0iKiIpe3ZhciBXPVtdO2Zvcih2YXIgVj0wO1hbVl07VisrKXtpZihYW1ZdLm5vZGVUeXBlPT09MSl7Vy5wdXNoKFhbVl0pfX1YPVd9cmV0dXJuIFh9fVQuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IjtpZihULmZpcnN0Q2hpbGQmJnR5cGVvZiBULmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlIT09InVuZGVmaW5lZCImJlQuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKSE9PSIjIil7SS5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oVSl7cmV0dXJuIFUuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX19fSkoKTtpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKXsoZnVuY3Rpb24oKXt2YXIgVD1GLFU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7VS5pbm5lckhUTUw9IjxwIGNsYXNzPSdURVNUJz48L3A+IjtpZihVLnF1ZXJ5U2VsZWN0b3JBbGwmJlUucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGg9PT0wKXtyZXR1cm59Rj1mdW5jdGlvbihZLFgsVixXKXtYPVh8fGRvY3VtZW50O2lmKCFXJiZYLm5vZGVUeXBlPT09OSYmIVEoWCkpe3RyeXtyZXR1cm4gRShYLnF1ZXJ5U2VsZWN0b3JBbGwoWSksVil9Y2F0Y2goWil7fX1yZXR1cm4gVChZLFgsVixXKX07Ri5maW5kPVQuZmluZDtGLmZpbHRlcj1ULmZpbHRlcjtGLnNlbGVjdG9ycz1ULnNlbGVjdG9ycztGLm1hdGNoZXM9VC5tYXRjaGVzfSkoKX1pZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7KGZ1bmN0aW9uKCl7dmFyIFQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7VC5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J3Rlc3QgZSc+PC9kaXY+PGRpdiBjbGFzcz0ndGVzdCc+PC9kaXY+IjtpZihULmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0wKXtyZXR1cm59VC5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIjtpZihULmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0xKXtyZXR1cm59SS5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpO0kuZmluZC5DTEFTUz1mdW5jdGlvbihVLFYsVyl7aWYodHlwZW9mIFYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PSJ1bmRlZmluZWQiJiYhVyl7cmV0dXJuIFYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShVWzFdKX19fSkoKX1mdW5jdGlvbiBQKFUsWixZLGFkLGFhLGFjKXt2YXIgYWI9VT09InByZXZpb3VzU2libGluZyImJiFhYztmb3IodmFyIFc9MCxWPWFkLmxlbmd0aDtXPFY7VysrKXt2YXIgVD1hZFtXXTtpZihUKXtpZihhYiYmVC5ub2RlVHlwZT09PTEpe1Quc2l6Y2FjaGU9WTtULnNpenNldD1XfVQ9VFtVXTt2YXIgWD1mYWxzZTt3aGlsZShUKXtpZihULnNpemNhY2hlPT09WSl7WD1hZFtULnNpenNldF07YnJlYWt9aWYoVC5ub2RlVHlwZT09PTEmJiFhYyl7VC5zaXpjYWNoZT1ZO1Quc2l6c2V0PVd9aWYoVC5ub2RlTmFtZT09PVope1g9VDticmVha31UPVRbVV19YWRbV109WH19fWZ1bmN0aW9uIFMoVSxaLFksYWQsYWEsYWMpe3ZhciBhYj1VPT0icHJldmlvdXNTaWJsaW5nIiYmIWFjO2Zvcih2YXIgVz0wLFY9YWQubGVuZ3RoO1c8VjtXKyspe3ZhciBUPWFkW1ddO2lmKFQpe2lmKGFiJiZULm5vZGVUeXBlPT09MSl7VC5zaXpjYWNoZT1ZO1Quc2l6c2V0PVd9VD1UW1VdO3ZhciBYPWZhbHNlO3doaWxlKFQpe2lmKFQuc2l6Y2FjaGU9PT1ZKXtYPWFkW1Quc2l6c2V0XTticmVha31pZihULm5vZGVUeXBlPT09MSl7aWYoIWFjKXtULnNpemNhY2hlPVk7VC5zaXpzZXQ9V31pZih0eXBlb2YgWiE9PSJzdHJpbmciKXtpZihUPT09Wil7WD10cnVlO2JyZWFrfX1lbHNle2lmKEYuZmlsdGVyKFosW1RdKS5sZW5ndGg+MCl7WD1UO2JyZWFrfX19VD1UW1VdfWFkW1ddPVh9fX12YXIgSz1kb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihVLFQpe3JldHVybiBVLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKFQpJjE2fTpmdW5jdGlvbihVLFQpe3JldHVybiBVIT09VCYmKFUuY29udGFpbnM/VS5jb250YWlucyhUKTp0cnVlKX07dmFyIFE9ZnVuY3Rpb24oVCl7cmV0dXJuIFQubm9kZVR5cGU9PT05JiZULmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSE9PSJIVE1MInx8ISFULm93bmVyRG9jdW1lbnQmJlEoVC5vd25lckRvY3VtZW50KX07dmFyIEo9ZnVuY3Rpb24oVCxhYSl7dmFyIFc9W10sWD0iIixZLFY9YWEubm9kZVR5cGU/W2FhXTphYTt3aGlsZSgoWT1JLm1hdGNoLlBTRVVETy5leGVjKFQpKSl7WCs9WVswXTtUPVQucmVwbGFjZShJLm1hdGNoLlBTRVVETywiIil9VD1JLnJlbGF0aXZlW1RdP1QrIioiOlQ7Zm9yKHZhciBaPTAsVT1WLmxlbmd0aDtaPFU7WisrKXtGKFQsVltaXSxXKX1yZXR1cm4gRi5maWx0ZXIoWCxXKX07by5maW5kPUY7by5maWx0ZXI9Ri5maWx0ZXI7by5leHByPUYuc2VsZWN0b3JzO28uZXhwclsiOiJdPW8uZXhwci5maWx0ZXJzO0Yuc2VsZWN0b3JzLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKFQpe3JldHVybiBULm9mZnNldFdpZHRoPT09MHx8VC5vZmZzZXRIZWlnaHQ9PT0wfTtGLnNlbGVjdG9ycy5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oVCl7cmV0dXJuIFQub2Zmc2V0V2lkdGg+MHx8VC5vZmZzZXRIZWlnaHQ+MH07Ri5zZWxlY3RvcnMuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihUKXtyZXR1cm4gby5ncmVwKG8udGltZXJzLGZ1bmN0aW9uKFUpe3JldHVybiBUPT09VS5lbGVtfSkubGVuZ3RofTtvLm11bHRpRmlsdGVyPWZ1bmN0aW9uKFYsVCxVKXtpZihVKXtWPSI6bm90KCIrVisiKSJ9cmV0dXJuIEYubWF0Y2hlcyhWLFQpfTtvLmRpcj1mdW5jdGlvbihWLFUpe3ZhciBUPVtdLFc9VltVXTt3aGlsZShXJiZXIT1kb2N1bWVudCl7aWYoVy5ub2RlVHlwZT09MSl7VC5wdXNoKFcpfVc9V1tVXX1yZXR1cm4gVH07by5udGg9ZnVuY3Rpb24oWCxULFYsVyl7VD1UfHwxO3ZhciBVPTA7Zm9yKDtYO1g9WFtWXSl7aWYoWC5ub2RlVHlwZT09MSYmKytVPT1UKXticmVha319cmV0dXJuIFh9O28uc2libGluZz1mdW5jdGlvbihWLFUpe3ZhciBUPVtdO2Zvcig7VjtWPVYubmV4dFNpYmxpbmcpe2lmKFYubm9kZVR5cGU9PTEmJlYhPVUpe1QucHVzaChWKX19cmV0dXJuIFR9O3JldHVybjtsLlNpenpsZT1GfSkoKTtvLmV2ZW50PXthZGQ6ZnVuY3Rpb24oSSxGLEgsSyl7aWYoSS5ub2RlVHlwZT09M3x8SS5ub2RlVHlwZT09OCl7cmV0dXJufWlmKEkuc2V0SW50ZXJ2YWwmJkkhPWwpe0k9bH1pZighSC5ndWlkKXtILmd1aWQ9dGhpcy5ndWlkKyt9aWYoSyE9PWcpe3ZhciBHPUg7SD10aGlzLnByb3h5KEcpO0guZGF0YT1LfXZhciBFPW8uZGF0YShJLCJldmVudHMiKXx8by5kYXRhKEksImV2ZW50cyIse30pLEo9by5kYXRhKEksImhhbmRsZSIpfHxvLmRhdGEoSSwiaGFuZGxlIixmdW5jdGlvbigpe3JldHVybiB0eXBlb2YgbyE9PSJ1bmRlZmluZWQiJiYhby5ldmVudC50cmlnZ2VyZWQ/by5ldmVudC5oYW5kbGUuYXBwbHkoYXJndW1lbnRzLmNhbGxlZS5lbGVtLGFyZ3VtZW50cyk6Z30pO0ouZWxlbT1JO28uZWFjaChGLnNwbGl0KC9ccysvKSxmdW5jdGlvbihNLE4pe3ZhciBPPU4uc3BsaXQoIi4iKTtOPU8uc2hpZnQoKTtILnR5cGU9Ty5zbGljZSgpLnNvcnQoKS5qb2luKCIuIik7dmFyIEw9RVtOXTtpZihvLmV2ZW50LnNwZWNpYWxBbGxbTl0pe28uZXZlbnQuc3BlY2lhbEFsbFtOXS5zZXR1cC5jYWxsKEksSyxPKX1pZighTCl7TD1FW05dPXt9O2lmKCFvLmV2ZW50LnNwZWNpYWxbTl18fG8uZXZlbnQuc3BlY2lhbFtOXS5zZXR1cC5jYWxsKEksSyxPKT09PWZhbHNlKXtpZihJLmFkZEV2ZW50TGlzdGVuZXIpe0kuYWRkRXZlbnRMaXN0ZW5lcihOLEosZmFsc2UpfWVsc2V7aWYoSS5hdHRhY2hFdmVudCl7SS5hdHRhY2hFdmVudCgib24iK04sSil9fX19TFtILmd1aWRdPUg7by5ldmVudC5nbG9iYWxbTl09dHJ1ZX0pO0k9bnVsbH0sZ3VpZDoxLGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oSyxILEope2lmKEsubm9kZVR5cGU9PTN8fEsubm9kZVR5cGU9PTgpe3JldHVybn12YXIgRz1vLmRhdGEoSywiZXZlbnRzIiksRixFO2lmKEcpe2lmKEg9PT1nfHwodHlwZW9mIEg9PT0ic3RyaW5nIiYmSC5jaGFyQXQoMCk9PSIuIikpe2Zvcih2YXIgSSBpbiBHKXt0aGlzLnJlbW92ZShLLEkrKEh8fCIiKSl9fWVsc2V7aWYoSC50eXBlKXtKPUguaGFuZGxlcjtIPUgudHlwZX1vLmVhY2goSC5zcGxpdCgvXHMrLyksZnVuY3Rpb24oTSxPKXt2YXIgUT1PLnNwbGl0KCIuIik7Tz1RLnNoaWZ0KCk7dmFyIE49UmVnRXhwKCIoXnxcXC4pIitRLnNsaWNlKCkuc29ydCgpLmpvaW4oIi4qXFwuIikrIihcXC58JCkiKTtpZihHW09dKXtpZihKKXtkZWxldGUgR1tPXVtKLmd1aWRdfWVsc2V7Zm9yKHZhciBQIGluIEdbT10pe2lmKE4udGVzdChHW09dW1BdLnR5cGUpKXtkZWxldGUgR1tPXVtQXX19fWlmKG8uZXZlbnQuc3BlY2lhbEFsbFtPXSl7by5ldmVudC5zcGVjaWFsQWxsW09dLnRlYXJkb3duLmNhbGwoSyxRKX1mb3IoRiBpbiBHW09dKXticmVha31pZighRil7aWYoIW8uZXZlbnQuc3BlY2lhbFtPXXx8by5ldmVudC5zcGVjaWFsW09dLnRlYXJkb3duLmNhbGwoSyxRKT09PWZhbHNlKXtpZihLLnJlbW92ZUV2ZW50TGlzdGVuZXIpe0sucmVtb3ZlRXZlbnRMaXN0ZW5lcihPLG8uZGF0YShLLCJoYW5kbGUiKSxmYWxzZSl9ZWxzZXtpZihLLmRldGFjaEV2ZW50KXtLLmRldGFjaEV2ZW50KCJvbiIrTyxvLmRhdGEoSywiaGFuZGxlIikpfX19Rj1udWxsO2RlbGV0ZSBHW09dfX19KX1mb3IoRiBpbiBHKXticmVha31pZighRil7dmFyIEw9by5kYXRhKEssImhhbmRsZSIpO2lmKEwpe0wuZWxlbT1udWxsfW8ucmVtb3ZlRGF0YShLLCJldmVudHMiKTtvLnJlbW92ZURhdGEoSywiaGFuZGxlIil9fX0sdHJpZ2dlcjpmdW5jdGlvbihJLEssSCxFKXt2YXIgRz1JLnR5cGV8fEk7aWYoIUUpe0k9dHlwZW9mIEk9PT0ib2JqZWN0Ij9JW2hdP0k6by5leHRlbmQoby5FdmVudChHKSxJKTpvLkV2ZW50KEcpO2lmKEcuaW5kZXhPZigiISIpPj0wKXtJLnR5cGU9Rz1HLnNsaWNlKDAsLTEpO0kuZXhjbHVzaXZlPXRydWV9aWYoIUgpe0kuc3RvcFByb3BhZ2F0aW9uKCk7aWYodGhpcy5nbG9iYWxbR10pe28uZWFjaChvLmNhY2hlLGZ1bmN0aW9uKCl7aWYodGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzW0ddKXtvLmV2ZW50LnRyaWdnZXIoSSxLLHRoaXMuaGFuZGxlLmVsZW0pfX0pfX1pZighSHx8SC5ub2RlVHlwZT09M3x8SC5ub2RlVHlwZT09OCl7cmV0dXJuIGd9SS5yZXN1bHQ9ZztJLnRhcmdldD1IO0s9by5tYWtlQXJyYXkoSyk7Sy51bnNoaWZ0KEkpfUkuY3VycmVudFRhcmdldD1IO3ZhciBKPW8uZGF0YShILCJoYW5kbGUiKTtpZihKKXtKLmFwcGx5KEgsSyl9aWYoKCFIW0ddfHwoby5ub2RlTmFtZShILCJhIikmJkc9PSJjbGljayIpKSYmSFsib24iK0ddJiZIWyJvbiIrR10uYXBwbHkoSCxLKT09PWZhbHNlKXtJLnJlc3VsdD1mYWxzZX1pZighRSYmSFtHXSYmIUkuaXNEZWZhdWx0UHJldmVudGVkKCkmJiEoby5ub2RlTmFtZShILCJhIikmJkc9PSJjbGljayIpKXt0aGlzLnRyaWdnZXJlZD10cnVlO3RyeXtIW0ddKCl9Y2F0Y2goTCl7fX10aGlzLnRyaWdnZXJlZD1mYWxzZTtpZighSS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXt2YXIgRj1ILnBhcmVudE5vZGV8fEgub3duZXJEb2N1bWVudDtpZihGKXtvLmV2ZW50LnRyaWdnZXIoSSxLLEYsdHJ1ZSl9fX0saGFuZGxlOmZ1bmN0aW9uKEspe3ZhciBKLEU7Sz1hcmd1bWVudHNbMF09by5ldmVudC5maXgoS3x8bC5ldmVudCk7Sy5jdXJyZW50VGFyZ2V0PXRoaXM7dmFyIEw9Sy50eXBlLnNwbGl0KCIuIik7Sy50eXBlPUwuc2hpZnQoKTtKPSFMLmxlbmd0aCYmIUsuZXhjbHVzaXZlO3ZhciBJPVJlZ0V4cCgiKF58XFwuKSIrTC5zbGljZSgpLnNvcnQoKS5qb2luKCIuKlxcLiIpKyIoXFwufCQpIik7RT0oby5kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbSy50eXBlXTtmb3IodmFyIEcgaW4gRSl7dmFyIEg9RVtHXTtpZihKfHxJLnRlc3QoSC50eXBlKSl7Sy5oYW5kbGVyPUg7Sy5kYXRhPUguZGF0YTt2YXIgRj1ILmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihGIT09Zyl7Sy5yZXN1bHQ9RjtpZihGPT09ZmFsc2Upe0sucHJldmVudERlZmF1bHQoKTtLLnN0b3BQcm9wYWdhdGlvbigpfX1pZihLLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpe2JyZWFrfX19fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIG1ldGFLZXkgbmV3VmFsdWUgb3JpZ2luYWxUYXJnZXQgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksZml4OmZ1bmN0aW9uKEgpe2lmKEhbaF0pe3JldHVybiBIfXZhciBGPUg7SD1vLkV2ZW50KEYpO2Zvcih2YXIgRz10aGlzLnByb3BzLmxlbmd0aCxKO0c7KXtKPXRoaXMucHJvcHNbLS1HXTtIW0pdPUZbSl19aWYoIUgudGFyZ2V0KXtILnRhcmdldD1ILnNyY0VsZW1lbnR8fGRvY3VtZW50fWlmKEgudGFyZ2V0Lm5vZGVUeXBlPT0zKXtILnRhcmdldD1ILnRhcmdldC5wYXJlbnROb2RlfWlmKCFILnJlbGF0ZWRUYXJnZXQmJkguZnJvbUVsZW1lbnQpe0gucmVsYXRlZFRhcmdldD1ILmZyb21FbGVtZW50PT1ILnRhcmdldD9ILnRvRWxlbWVudDpILmZyb21FbGVtZW50fWlmKEgucGFnZVg9PW51bGwmJkguY2xpZW50WCE9bnVsbCl7dmFyIEk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LEU9ZG9jdW1lbnQuYm9keTtILnBhZ2VYPUguY2xpZW50WCsoSSYmSS5zY3JvbGxMZWZ0fHxFJiZFLnNjcm9sbExlZnR8fDApLShJLmNsaWVudExlZnR8fDApO0gucGFnZVk9SC5jbGllbnRZKyhJJiZJLnNjcm9sbFRvcHx8RSYmRS5zY3JvbGxUb3B8fDApLShJLmNsaWVudFRvcHx8MCl9aWYoIUgud2hpY2gmJigoSC5jaGFyQ29kZXx8SC5jaGFyQ29kZT09PTApP0guY2hhckNvZGU6SC5rZXlDb2RlKSl7SC53aGljaD1ILmNoYXJDb2RlfHxILmtleUNvZGV9aWYoIUgubWV0YUtleSYmSC5jdHJsS2V5KXtILm1ldGFLZXk9SC5jdHJsS2V5fWlmKCFILndoaWNoJiZILmJ1dHRvbil7SC53aGljaD0oSC5idXR0b24mMT8xOihILmJ1dHRvbiYyPzM6KEguYnV0dG9uJjQ/MjowKSkpfXJldHVybiBIfSxwcm94eTpmdW5jdGlvbihGLEUpe0U9RXx8ZnVuY3Rpb24oKXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0UuZ3VpZD1GLmd1aWQ9Ri5ndWlkfHxFLmd1aWR8fHRoaXMuZ3VpZCsrO3JldHVybiBFfSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6Qix0ZWFyZG93bjpmdW5jdGlvbigpe319fSxzcGVjaWFsQWxsOntsaXZlOntzZXR1cDpmdW5jdGlvbihFLEYpe28uZXZlbnQuYWRkKHRoaXMsRlswXSxjKX0sdGVhcmRvd246ZnVuY3Rpb24oRyl7aWYoRy5sZW5ndGgpe3ZhciBFPTAsRj1SZWdFeHAoIihefFxcLikiK0dbMF0rIihcXC58JCkiKTtvLmVhY2goKG8uZGF0YSh0aGlzLCJldmVudHMiKS5saXZlfHx7fSksZnVuY3Rpb24oKXtpZihGLnRlc3QodGhpcy50eXBlKSl7RSsrfX0pO2lmKEU8MSl7by5ldmVudC5yZW1vdmUodGhpcyxHWzBdLGMpfX19fX19O28uRXZlbnQ9ZnVuY3Rpb24oRSl7aWYoIXRoaXMucHJldmVudERlZmF1bHQpe3JldHVybiBuZXcgby5FdmVudChFKX1pZihFJiZFLnR5cGUpe3RoaXMub3JpZ2luYWxFdmVudD1FO3RoaXMudHlwZT1FLnR5cGV9ZWxzZXt0aGlzLnR5cGU9RX10aGlzLnRpbWVTdGFtcD1lKCk7dGhpc1toXT10cnVlfTtmdW5jdGlvbiBrKCl7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIHUoKXtyZXR1cm4gdHJ1ZX1vLkV2ZW50LnByb3RvdHlwZT17cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD11O3ZhciBFPXRoaXMub3JpZ2luYWxFdmVudDtpZighRSl7cmV0dXJufWlmKEUucHJldmVudERlZmF1bHQpe0UucHJldmVudERlZmF1bHQoKX1FLnJldHVyblZhbHVlPWZhbHNlfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXU7dmFyIEU9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKCFFKXtyZXR1cm59aWYoRS5zdG9wUHJvcGFnYXRpb24pe0Uuc3RvcFByb3BhZ2F0aW9uKCl9RS5jYW5jZWxCdWJibGU9dHJ1ZX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD11O3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LGlzRGVmYXVsdFByZXZlbnRlZDprLGlzUHJvcGFnYXRpb25TdG9wcGVkOmssaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6a307dmFyIGE9ZnVuY3Rpb24oRil7dmFyIEU9Ri5yZWxhdGVkVGFyZ2V0O3doaWxlKEUmJkUhPXRoaXMpe3RyeXtFPUUucGFyZW50Tm9kZX1jYXRjaChHKXtFPXRoaXN9fWlmKEUhPXRoaXMpe0YudHlwZT1GLmRhdGE7by5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07by5lYWNoKHttb3VzZW92ZXI6Im1vdXNlZW50ZXIiLG1vdXNlb3V0OiJtb3VzZWxlYXZlIn0sZnVuY3Rpb24oRixFKXtvLmV2ZW50LnNwZWNpYWxbRV09e3NldHVwOmZ1bmN0aW9uKCl7by5ldmVudC5hZGQodGhpcyxGLGEsRSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7by5ldmVudC5yZW1vdmUodGhpcyxGLGEpfX19KTtvLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihGLEcsRSl7cmV0dXJuIEY9PSJ1bmxvYWQiP3RoaXMub25lKEYsRyxFKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtvLmV2ZW50LmFkZCh0aGlzLEYsRXx8RyxFJiZHKX0pfSxvbmU6ZnVuY3Rpb24oRyxILEYpe3ZhciBFPW8uZXZlbnQucHJveHkoRnx8SCxmdW5jdGlvbihJKXtvKHRoaXMpLnVuYmluZChJLEUpO3JldHVybihGfHxIKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5ldmVudC5hZGQodGhpcyxHLEUsRiYmSCl9KX0sdW5iaW5kOmZ1bmN0aW9uKEYsRSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQucmVtb3ZlKHRoaXMsRixFKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKEUsRil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28uZXZlbnQudHJpZ2dlcihFLEYsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oRSxHKXtpZih0aGlzWzBdKXt2YXIgRj1vLkV2ZW50KEUpO0YucHJldmVudERlZmF1bHQoKTtGLnN0b3BQcm9wYWdhdGlvbigpO28uZXZlbnQudHJpZ2dlcihGLEcsdGhpc1swXSk7cmV0dXJuIEYucmVzdWx0fX0sdG9nZ2xlOmZ1bmN0aW9uKEcpe3ZhciBFPWFyZ3VtZW50cyxGPTE7d2hpbGUoRjxFLmxlbmd0aCl7by5ldmVudC5wcm94eShHLEVbRisrXSl9cmV0dXJuIHRoaXMuY2xpY2soby5ldmVudC5wcm94eShHLGZ1bmN0aW9uKEgpe3RoaXMubGFzdFRvZ2dsZT0odGhpcy5sYXN0VG9nZ2xlfHwwKSVGO0gucHJldmVudERlZmF1bHQoKTtyZXR1cm4gRVt0aGlzLmxhc3RUb2dnbGUrK10uYXBwbHkodGhpcyxhcmd1bWVudHMpfHxmYWxzZX0pKX0saG92ZXI6ZnVuY3Rpb24oRSxGKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKEUpLm1vdXNlbGVhdmUoRil9LHJlYWR5OmZ1bmN0aW9uKEUpe0IoKTtpZihvLmlzUmVhZHkpe0UuY2FsbChkb2N1bWVudCxvKX1lbHNle28ucmVhZHlMaXN0LnB1c2goRSl9cmV0dXJuIHRoaXN9LGxpdmU6ZnVuY3Rpb24oRyxGKXt2YXIgRT1vLmV2ZW50LnByb3h5KEYpO0UuZ3VpZCs9dGhpcy5zZWxlY3RvcitHO28oZG9jdW1lbnQpLmJpbmQoaShHLHRoaXMuc2VsZWN0b3IpLHRoaXMuc2VsZWN0b3IsRSk7cmV0dXJuIHRoaXN9LGRpZTpmdW5jdGlvbihGLEUpe28oZG9jdW1lbnQpLnVuYmluZChpKEYsdGhpcy5zZWxlY3RvciksRT97Z3VpZDpFLmd1aWQrdGhpcy5zZWxlY3RvcitGfTpudWxsKTtyZXR1cm4gdGhpc319KTtmdW5jdGlvbiBjKEgpe3ZhciBFPVJlZ0V4cCgiKF58XFwuKSIrSC50eXBlKyIoXFwufCQpIiksRz10cnVlLEY9W107by5lYWNoKG8uZGF0YSh0aGlzLCJldmVudHMiKS5saXZlfHxbXSxmdW5jdGlvbihJLEope2lmKEUudGVzdChKLnR5cGUpKXt2YXIgSz1vKEgudGFyZ2V0KS5jbG9zZXN0KEouZGF0YSlbMF07aWYoSyl7Ri5wdXNoKHtlbGVtOkssZm46Sn0pfX19KTtGLnNvcnQoZnVuY3Rpb24oSixJKXtyZXR1cm4gby5kYXRhKEouZWxlbSwiY2xvc2VzdCIpLW8uZGF0YShJLmVsZW0sImNsb3Nlc3QiKX0pO28uZWFjaChGLGZ1bmN0aW9uKCl7aWYodGhpcy5mbi5jYWxsKHRoaXMuZWxlbSxILHRoaXMuZm4uZGF0YSk9PT1mYWxzZSl7cmV0dXJuKEc9ZmFsc2UpfX0pO3JldHVybiBHfWZ1bmN0aW9uIGkoRixFKXtyZXR1cm5bImxpdmUiLEYsRS5yZXBsYWNlKC9cLi9nLCJgIikucmVwbGFjZSgvIC9nLCJ8IildLmpvaW4oIi4iKX1vLmV4dGVuZCh7aXNSZWFkeTpmYWxzZSxyZWFkeUxpc3Q6W10scmVhZHk6ZnVuY3Rpb24oKXtpZighby5pc1JlYWR5KXtvLmlzUmVhZHk9dHJ1ZTtpZihvLnJlYWR5TGlzdCl7by5lYWNoKG8ucmVhZHlMaXN0LGZ1bmN0aW9uKCl7dGhpcy5jYWxsKGRvY3VtZW50LG8pfSk7by5yZWFkeUxpc3Q9bnVsbH1vKGRvY3VtZW50KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKX19fSk7dmFyIHg9ZmFsc2U7ZnVuY3Rpb24gQigpe2lmKHgpe3JldHVybn14PXRydWU7aWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcil7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhcmd1bWVudHMuY2FsbGVlLGZhbHNlKTtvLnJlYWR5KCl9LGZhbHNlKX1lbHNle2lmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe2lmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhcmd1bWVudHMuY2FsbGVlKTtvLnJlYWR5KCl9fSk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZsPT1sLnRvcCl7KGZ1bmN0aW9uKCl7aWYoby5pc1JlYWR5KXtyZXR1cm59dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKEUpe3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwwKTtyZXR1cm59by5yZWFkeSgpfSkoKX19fW8uZXZlbnQuYWRkKGwsImxvYWQiLG8ucmVhZHkpfW8uZWFjaCgoImJsdXIsZm9jdXMsbG9hZCxyZXNpemUsc2Nyb2xsLHVubG9hZCxjbGljayxkYmxjbGljayxtb3VzZWRvd24sbW91c2V1cCxtb3VzZW1vdmUsbW91c2VvdmVyLG1vdXNlb3V0LG1vdXNlZW50ZXIsbW91c2VsZWF2ZSxjaGFuZ2Usc2VsZWN0LHN1Ym1pdCxrZXlkb3duLGtleXByZXNzLGtleXVwLGVycm9yIikuc3BsaXQoIiwiKSxmdW5jdGlvbihGLEUpe28uZm5bRV09ZnVuY3Rpb24oRyl7cmV0dXJuIEc/dGhpcy5iaW5kKEUsRyk6dGhpcy50cmlnZ2VyKEUpfX0pO28obCkuYmluZCgidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgRSBpbiBvLmNhY2hlKXtpZihFIT0xJiZvLmNhY2hlW0VdLmhhbmRsZSl7by5ldmVudC5yZW1vdmUoby5jYWNoZVtFXS5oYW5kbGUuZWxlbSl9fX0pOyhmdW5jdGlvbigpe28uc3VwcG9ydD17fTt2YXIgRj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsRz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxLPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLEo9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCk7Sy5zdHlsZS5kaXNwbGF5PSJub25lIjtLLmlubmVySFRNTD0nICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Ii9hIiBzdHlsZT0iY29sb3I6cmVkO2Zsb2F0OmxlZnQ7b3BhY2l0eTouNTsiPmE8L2E+PHNlbGVjdD48b3B0aW9uPnRleHQ8L29wdGlvbj48L3NlbGVjdD48b2JqZWN0PjxwYXJhbS8+PC9vYmplY3Q+Jzt2YXIgSD1LLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksRT1LLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07aWYoIUh8fCFILmxlbmd0aHx8IUUpe3JldHVybn1vLnN1cHBvcnQ9e2xlYWRpbmdXaGl0ZXNwYWNlOksuZmlyc3RDaGlsZC5ub2RlVHlwZT09Myx0Ym9keTohSy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsb2JqZWN0QWxsOiEhSy5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0IilbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGgsaHRtbFNlcmlhbGl6ZTohIUsuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsc3R5bGU6L3JlZC8udGVzdChFLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksaHJlZk5vcm1hbGl6ZWQ6RS5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIvYSIsb3BhY2l0eTpFLnN0eWxlLm9wYWNpdHk9PT0iMC41Iixjc3NGbG9hdDohIUUuc3R5bGUuY3NzRmxvYXQsc2NyaXB0RXZhbDpmYWxzZSxub0Nsb25lRXZlbnQ6dHJ1ZSxib3hNb2RlbDpudWxsfTtHLnR5cGU9InRleHQvamF2YXNjcmlwdCI7dHJ5e0cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIndpbmRvdy4iK0orIj0xOyIpKX1jYXRjaChJKXt9Ri5pbnNlcnRCZWZvcmUoRyxGLmZpcnN0Q2hpbGQpO2lmKGxbSl0pe28uc3VwcG9ydC5zY3JpcHRFdmFsPXRydWU7ZGVsZXRlIGxbSl19Ri5yZW1vdmVDaGlsZChHKTtpZihLLmF0dGFjaEV2ZW50JiZLLmZpcmVFdmVudCl7Sy5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24oKXtvLnN1cHBvcnQubm9DbG9uZUV2ZW50PWZhbHNlO0suZGV0YWNoRXZlbnQoIm9uY2xpY2siLGFyZ3VtZW50cy5jYWxsZWUpfSk7Sy5jbG9uZU5vZGUodHJ1ZSkuZmlyZUV2ZW50KCJvbmNsaWNrIil9byhmdW5jdGlvbigpe3ZhciBMPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0wuc3R5bGUud2lkdGg9TC5zdHlsZS5wYWRkaW5nTGVmdD0iMXB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEwpO28uYm94TW9kZWw9by5zdXBwb3J0LmJveE1vZGVsPUwub2Zmc2V0V2lkdGg9PT0yO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoTCkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9KX0pKCk7dmFyIHc9by5zdXBwb3J0LmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQiO28ucHJvcHM9eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLCJmbG9hdCI6dyxjc3NGbG9hdDp3LHN0eWxlRmxvYXQ6dyxyZWFkb25seToicmVhZE9ubHkiLG1heGxlbmd0aDoibWF4TGVuZ3RoIixjZWxsc3BhY2luZzoiY2VsbFNwYWNpbmciLHJvd3NwYW46InJvd1NwYW4iLHRhYmluZGV4OiJ0YWJJbmRleCJ9O28uZm4uZXh0ZW5kKHtfbG9hZDpvLmZuLmxvYWQsbG9hZDpmdW5jdGlvbihHLEosSyl7aWYodHlwZW9mIEchPT0ic3RyaW5nIil7cmV0dXJuIHRoaXMuX2xvYWQoRyl9dmFyIEk9Ry5pbmRleE9mKCIgIik7aWYoST49MCl7dmFyIEU9Ry5zbGljZShJLEcubGVuZ3RoKTtHPUcuc2xpY2UoMCxJKX12YXIgSD0iR0VUIjtpZihKKXtpZihvLmlzRnVuY3Rpb24oSikpe0s9SjtKPW51bGx9ZWxzZXtpZih0eXBlb2YgSj09PSJvYmplY3QiKXtKPW8ucGFyYW0oSik7SD0iUE9TVCJ9fX12YXIgRj10aGlzO28uYWpheCh7dXJsOkcsdHlwZTpILGRhdGFUeXBlOiJodG1sIixkYXRhOkosY29tcGxldGU6ZnVuY3Rpb24oTSxMKXtpZihMPT0ic3VjY2VzcyJ8fEw9PSJub3Rtb2RpZmllZCIpe0YuaHRtbChFP28oIjxkaXYvPiIpLmFwcGVuZChNLnJlc3BvbnNlVGV4dC5yZXBsYWNlKC88c2NyaXB0KC58XHMpKj9cL3NjcmlwdD4vZywiIikpLmZpbmQoRSk6TS5yZXNwb25zZVRleHQpfWlmKEspe0YuZWFjaChLLFtNLnJlc3BvbnNlVGV4dCxMLE1dKX19fSk7cmV0dXJuIHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBvLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/by5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJiF0aGlzLmRpc2FibGVkJiYodGhpcy5jaGVja2VkfHwvc2VsZWN0fHRleHRhcmVhL2kudGVzdCh0aGlzLm5vZGVOYW1lKXx8L3RleHR8aGlkZGVufHBhc3N3b3JkfHNlYXJjaC9pLnRlc3QodGhpcy50eXBlKSl9KS5tYXAoZnVuY3Rpb24oRSxGKXt2YXIgRz1vKHRoaXMpLnZhbCgpO3JldHVybiBHPT1udWxsP251bGw6by5pc0FycmF5KEcpP28ubWFwKEcsZnVuY3Rpb24oSSxIKXtyZXR1cm57bmFtZTpGLm5hbWUsdmFsdWU6SX19KTp7bmFtZTpGLm5hbWUsdmFsdWU6R319KS5nZXQoKX19KTtvLmVhY2goImFqYXhTdGFydCxhamF4U3RvcCxhamF4Q29tcGxldGUsYWpheEVycm9yLGFqYXhTdWNjZXNzLGFqYXhTZW5kIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKEUsRil7by5mbltGXT1mdW5jdGlvbihHKXtyZXR1cm4gdGhpcy5iaW5kKEYsRyl9fSk7dmFyIHI9ZSgpO28uZXh0ZW5kKHtnZXQ6ZnVuY3Rpb24oRSxHLEgsRil7aWYoby5pc0Z1bmN0aW9uKEcpKXtIPUc7Rz1udWxsfXJldHVybiBvLmFqYXgoe3R5cGU6IkdFVCIsdXJsOkUsZGF0YTpHLHN1Y2Nlc3M6SCxkYXRhVHlwZTpGfSl9LGdldFNjcmlwdDpmdW5jdGlvbihFLEYpe3JldHVybiBvLmdldChFLG51bGwsRiwic2NyaXB0Iil9LGdldEpTT046ZnVuY3Rpb24oRSxGLEcpe3JldHVybiBvLmdldChFLEYsRywianNvbiIpfSxwb3N0OmZ1bmN0aW9uKEUsRyxILEYpe2lmKG8uaXNGdW5jdGlvbihHKSl7SD1HO0c9e319cmV0dXJuIG8uYWpheCh7dHlwZToiUE9TVCIsdXJsOkUsZGF0YTpHLHN1Y2Nlc3M6SCxkYXRhVHlwZTpGfSl9LGFqYXhTZXR1cDpmdW5jdGlvbihFKXtvLmV4dGVuZChvLmFqYXhTZXR0aW5ncyxFKX0sYWpheFNldHRpbmdzOnt1cmw6bG9jYXRpb24uaHJlZixnbG9iYWw6dHJ1ZSx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHByb2Nlc3NEYXRhOnRydWUsYXN5bmM6dHJ1ZSx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbC5BY3RpdmVYT2JqZWN0P25ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpOm5ldyBYTUxIdHRwUmVxdWVzdCgpfSxhY2NlcHRzOnt4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGh0bWw6InRleHQvaHRtbCIsc2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCIsdGV4dDoidGV4dC9wbGFpbiIsX2RlZmF1bHQ6IiovKiJ9fSxsYXN0TW9kaWZpZWQ6e30sYWpheDpmdW5jdGlvbihNKXtNPW8uZXh0ZW5kKHRydWUsTSxvLmV4dGVuZCh0cnVlLHt9LG8uYWpheFNldHRpbmdzLE0pKTt2YXIgVyxGPS89XD8oJnwkKS9nLFIsVixHPU0udHlwZS50b1VwcGVyQ2FzZSgpO2lmKE0uZGF0YSYmTS5wcm9jZXNzRGF0YSYmdHlwZW9mIE0uZGF0YSE9PSJzdHJpbmciKXtNLmRhdGE9by5wYXJhbShNLmRhdGEpfWlmKE0uZGF0YVR5cGU9PSJqc29ucCIpe2lmKEc9PSJHRVQiKXtpZighTS51cmwubWF0Y2goRikpe00udXJsKz0oTS51cmwubWF0Y2goL1w/Lyk/IiYiOiI/IikrKE0uanNvbnB8fCJjYWxsYmFjayIpKyI9PyJ9fWVsc2V7aWYoIU0uZGF0YXx8IU0uZGF0YS5tYXRjaChGKSl7TS5kYXRhPShNLmRhdGE/TS5kYXRhKyImIjoiIikrKE0uanNvbnB8fCJjYWxsYmFjayIpKyI9PyJ9fU0uZGF0YVR5cGU9Impzb24ifWlmKE0uZGF0YVR5cGU9PSJqc29uIiYmKE0uZGF0YSYmTS5kYXRhLm1hdGNoKEYpfHxNLnVybC5tYXRjaChGKSkpe1c9Impzb25wIityKys7aWYoTS5kYXRhKXtNLmRhdGE9KE0uZGF0YSsiIikucmVwbGFjZShGLCI9IitXKyIkMSIpfU0udXJsPU0udXJsLnJlcGxhY2UoRiwiPSIrVysiJDEiKTtNLmRhdGFUeXBlPSJzY3JpcHQiO2xbV109ZnVuY3Rpb24oWCl7Vj1YO0koKTtMKCk7bFtXXT1nO3RyeXtkZWxldGUgbFtXXX1jYXRjaChZKXt9aWYoSCl7SC5yZW1vdmVDaGlsZChUKX19fWlmKE0uZGF0YVR5cGU9PSJzY3JpcHQiJiZNLmNhY2hlPT1udWxsKXtNLmNhY2hlPWZhbHNlfWlmKE0uY2FjaGU9PT1mYWxzZSYmRz09IkdFVCIpe3ZhciBFPWUoKTt2YXIgVT1NLnVybC5yZXBsYWNlKC8oXD98JilfPS4qPygmfCQpLywiJDFfPSIrRSsiJDIiKTtNLnVybD1VKygoVT09TS51cmwpPyhNLnVybC5tYXRjaCgvXD8vKT8iJiI6Ij8iKSsiXz0iK0U6IiIpfWlmKE0uZGF0YSYmRz09IkdFVCIpe00udXJsKz0oTS51cmwubWF0Y2goL1w/Lyk/IiYiOiI/IikrTS5kYXRhO00uZGF0YT1udWxsfWlmKE0uZ2xvYmFsJiYhby5hY3RpdmUrKyl7by5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKX12YXIgUT0vXihcdys6KT9cL1wvKFteXC8/I10rKS8uZXhlYyhNLnVybCk7aWYoTS5kYXRhVHlwZT09InNjcmlwdCImJkc9PSJHRVQiJiZRJiYoUVsxXSYmUVsxXSE9bG9jYXRpb24ucHJvdG9jb2x8fFFbMl0hPWxvY2F0aW9uLmhvc3QpKXt2YXIgSD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdO3ZhciBUPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO1Quc3JjPU0udXJsO2lmKE0uc2NyaXB0Q2hhcnNldCl7VC5jaGFyc2V0PU0uc2NyaXB0Q2hhcnNldH1pZighVyl7dmFyIE89ZmFsc2U7VC5vbmxvYWQ9VC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZighTyYmKCF0aGlzLnJlYWR5U3RhdGV8fHRoaXMucmVhZHlTdGF0ZT09ImxvYWRlZCJ8fHRoaXMucmVhZHlTdGF0ZT09ImNvbXBsZXRlIikpe089dHJ1ZTtJKCk7TCgpO1Qub25sb2FkPVQub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7SC5yZW1vdmVDaGlsZChUKX19fUguYXBwZW5kQ2hpbGQoVCk7cmV0dXJuIGd9dmFyIEs9ZmFsc2U7dmFyIEo9TS54aHIoKTtpZihNLnVzZXJuYW1lKXtKLm9wZW4oRyxNLnVybCxNLmFzeW5jLE0udXNlcm5hbWUsTS5wYXNzd29yZCl9ZWxzZXtKLm9wZW4oRyxNLnVybCxNLmFzeW5jKX10cnl7aWYoTS5kYXRhKXtKLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsTS5jb250ZW50VHlwZSl9aWYoTS5pZk1vZGlmaWVkKXtKLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixvLmxhc3RNb2RpZmllZFtNLnVybF18fCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCIpfUouc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0Iik7Si5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLE0uZGF0YVR5cGUmJk0uYWNjZXB0c1tNLmRhdGFUeXBlXT9NLmFjY2VwdHNbTS5kYXRhVHlwZV0rIiwgKi8qIjpNLmFjY2VwdHMuX2RlZmF1bHQpfWNhdGNoKFMpe31pZihNLmJlZm9yZVNlbmQmJk0uYmVmb3JlU2VuZChKLE0pPT09ZmFsc2Upe2lmKE0uZ2xvYmFsJiYhLS1vLmFjdGl2ZSl7by5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpfUouYWJvcnQoKTtyZXR1cm4gZmFsc2V9aWYoTS5nbG9iYWwpe28uZXZlbnQudHJpZ2dlcigiYWpheFNlbmQiLFtKLE1dKX12YXIgTj1mdW5jdGlvbihYKXtpZihKLnJlYWR5U3RhdGU9PTApe2lmKFApe2NsZWFySW50ZXJ2YWwoUCk7UD1udWxsO2lmKE0uZ2xvYmFsJiYhLS1vLmFjdGl2ZSl7by5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpfX19ZWxzZXtpZighSyYmSiYmKEoucmVhZHlTdGF0ZT09NHx8WD09InRpbWVvdXQiKSl7Sz10cnVlO2lmKFApe2NsZWFySW50ZXJ2YWwoUCk7UD1udWxsfVI9WD09InRpbWVvdXQiPyJ0aW1lb3V0Ijohby5odHRwU3VjY2VzcyhKKT8iZXJyb3IiOk0uaWZNb2RpZmllZCYmby5odHRwTm90TW9kaWZpZWQoSixNLnVybCk/Im5vdG1vZGlmaWVkIjoic3VjY2VzcyI7aWYoUj09InN1Y2Nlc3MiKXt0cnl7Vj1vLmh0dHBEYXRhKEosTS5kYXRhVHlwZSxNKX1jYXRjaChaKXtSPSJwYXJzZXJlcnJvciJ9fWlmKFI9PSJzdWNjZXNzIil7dmFyIFk7dHJ5e1k9Si5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpfWNhdGNoKFope31pZihNLmlmTW9kaWZpZWQmJlkpe28ubGFzdE1vZGlmaWVkW00udXJsXT1ZfWlmKCFXKXtJKCl9fWVsc2V7by5oYW5kbGVFcnJvcihNLEosUil9TCgpO2lmKFgpe0ouYWJvcnQoKX1pZihNLmFzeW5jKXtKPW51bGx9fX19O2lmKE0uYXN5bmMpe3ZhciBQPXNldEludGVydmFsKE4sMTMpO2lmKE0udGltZW91dD4wKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoSiYmIUspe04oInRpbWVvdXQiKX19LE0udGltZW91dCl9fXRyeXtKLnNlbmQoTS5kYXRhKX1jYXRjaChTKXtvLmhhbmRsZUVycm9yKE0sSixudWxsLFMpfWlmKCFNLmFzeW5jKXtOKCl9ZnVuY3Rpb24gSSgpe2lmKE0uc3VjY2Vzcyl7TS5zdWNjZXNzKFYsUil9aWYoTS5nbG9iYWwpe28uZXZlbnQudHJpZ2dlcigiYWpheFN1Y2Nlc3MiLFtKLE1dKX19ZnVuY3Rpb24gTCgpe2lmKE0uY29tcGxldGUpe00uY29tcGxldGUoSixSKX1pZihNLmdsb2JhbCl7by5ldmVudC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtKLE1dKX1pZihNLmdsb2JhbCYmIS0tby5hY3RpdmUpe28uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKX19cmV0dXJuIEp9LGhhbmRsZUVycm9yOmZ1bmN0aW9uKEYsSCxFLEcpe2lmKEYuZXJyb3Ipe0YuZXJyb3IoSCxFLEcpfWlmKEYuZ2xvYmFsKXtvLmV2ZW50LnRyaWdnZXIoImFqYXhFcnJvciIsW0gsRixHXSl9fSxhY3RpdmU6MCxodHRwU3VjY2VzczpmdW5jdGlvbihGKXt0cnl7cmV0dXJuICFGLnN0YXR1cyYmbG9jYXRpb24ucHJvdG9jb2w9PSJmaWxlOiJ8fChGLnN0YXR1cz49MjAwJiZGLnN0YXR1czwzMDApfHxGLnN0YXR1cz09MzA0fHxGLnN0YXR1cz09MTIyM31jYXRjaChFKXt9cmV0dXJuIGZhbHNlfSxodHRwTm90TW9kaWZpZWQ6ZnVuY3Rpb24oRyxFKXt0cnl7dmFyIEg9Ry5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpO3JldHVybiBHLnN0YXR1cz09MzA0fHxIPT1vLmxhc3RNb2RpZmllZFtFXX1jYXRjaChGKXt9cmV0dXJuIGZhbHNlfSxodHRwRGF0YTpmdW5jdGlvbihKLEgsRyl7dmFyIEY9Si5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIiksRT1IPT0ieG1sInx8IUgmJkYmJkYuaW5kZXhPZigieG1sIik+PTAsST1FP0oucmVzcG9uc2VYTUw6Si5yZXNwb25zZVRleHQ7aWYoRSYmSS5kb2N1bWVudEVsZW1lbnQudGFnTmFtZT09InBhcnNlcmVycm9yIil7dGhyb3cicGFyc2VyZXJyb3IifWlmKEcmJkcuZGF0YUZpbHRlcil7ST1HLmRhdGFGaWx0ZXIoSSxIKX1pZih0eXBlb2YgST09PSJzdHJpbmciKXtpZihIPT0ic2NyaXB0Iil7by5nbG9iYWxFdmFsKEkpfWlmKEg9PSJqc29uIil7ST1sWyJldmFsIl0oIigiK0krIikiKX19cmV0dXJuIEl9LHBhcmFtOmZ1bmN0aW9uKEUpe3ZhciBHPVtdO2Z1bmN0aW9uIEgoSSxKKXtHW0cubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoSSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChKKX1pZihvLmlzQXJyYXkoRSl8fEUuanF1ZXJ5KXtvLmVhY2goRSxmdW5jdGlvbigpe0godGhpcy5uYW1lLHRoaXMudmFsdWUpfSl9ZWxzZXtmb3IodmFyIEYgaW4gRSl7aWYoby5pc0FycmF5KEVbRl0pKXtvLmVhY2goRVtGXSxmdW5jdGlvbigpe0goRix0aGlzKX0pfWVsc2V7SChGLG8uaXNGdW5jdGlvbihFW0ZdKT9FW0ZdKCk6RVtGXSl9fX1yZXR1cm4gRy5qb2luKCImIikucmVwbGFjZSgvJTIwL2csIisiKX19KTt2YXIgbT17fSxuLGQ9W1siaGVpZ2h0IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxbIndpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSxbIm9wYWNpdHkiXV07ZnVuY3Rpb24gdChGLEUpe3ZhciBHPXt9O28uZWFjaChkLmNvbmNhdC5hcHBseShbXSxkLnNsaWNlKDAsRSkpLGZ1bmN0aW9uKCl7R1t0aGlzXT1GfSk7cmV0dXJuIEd9by5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oSixMKXtpZihKKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQoInNob3ciLDMpLEosTCl9ZWxzZXtmb3IodmFyIEg9MCxGPXRoaXMubGVuZ3RoO0g8RjtIKyspe3ZhciBFPW8uZGF0YSh0aGlzW0hdLCJvbGRkaXNwbGF5Iik7dGhpc1tIXS5zdHlsZS5kaXNwbGF5PUV8fCIiO2lmKG8uY3NzKHRoaXNbSF0sImRpc3BsYXkiKT09PSJub25lIil7dmFyIEc9dGhpc1tIXS50YWdOYW1lLEs7aWYobVtHXSl7Sz1tW0ddfWVsc2V7dmFyIEk9bygiPCIrRysiIC8+IikuYXBwZW5kVG8oImJvZHkiKTtLPUkuY3NzKCJkaXNwbGF5Iik7aWYoSz09PSJub25lIil7Sz0iYmxvY2sifUkucmVtb3ZlKCk7bVtHXT1LfW8uZGF0YSh0aGlzW0hdLCJvbGRkaXNwbGF5IixLKX19Zm9yKHZhciBIPTAsRj10aGlzLmxlbmd0aDtIPEY7SCsrKXt0aGlzW0hdLnN0eWxlLmRpc3BsYXk9by5kYXRhKHRoaXNbSF0sIm9sZGRpc3BsYXkiKXx8IiJ9cmV0dXJuIHRoaXN9fSxoaWRlOmZ1bmN0aW9uKEgsSSl7aWYoSCl7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0KCJoaWRlIiwzKSxILEkpfWVsc2V7Zm9yKHZhciBHPTAsRj10aGlzLmxlbmd0aDtHPEY7RysrKXt2YXIgRT1vLmRhdGEodGhpc1tHXSwib2xkZGlzcGxheSIpO2lmKCFFJiZFIT09Im5vbmUiKXtvLmRhdGEodGhpc1tHXSwib2xkZGlzcGxheSIsby5jc3ModGhpc1tHXSwiZGlzcGxheSIpKX19Zm9yKHZhciBHPTAsRj10aGlzLmxlbmd0aDtHPEY7RysrKXt0aGlzW0ddLnN0eWxlLmRpc3BsYXk9Im5vbmUifXJldHVybiB0aGlzfX0sX3RvZ2dsZTpvLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oRyxGKXt2YXIgRT10eXBlb2YgRz09PSJib29sZWFuIjtyZXR1cm4gby5pc0Z1bmN0aW9uKEcpJiZvLmlzRnVuY3Rpb24oRik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpHPT1udWxsfHxFP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBIPUU/RzpvKHRoaXMpLmlzKCI6aGlkZGVuIik7byh0aGlzKVtIPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUodCgidG9nZ2xlIiwzKSxHLEYpfSxmYWRlVG86ZnVuY3Rpb24oRSxHLEYpe3JldHVybiB0aGlzLmFuaW1hdGUoe29wYWNpdHk6R30sRSxGKX0sYW5pbWF0ZTpmdW5jdGlvbihJLEYsSCxHKXt2YXIgRT1vLnNwZWVkKEYsSCxHKTtyZXR1cm4gdGhpc1tFLnF1ZXVlPT09ZmFsc2U/ImVhY2giOiJxdWV1ZSJdKGZ1bmN0aW9uKCl7dmFyIEs9by5leHRlbmQoe30sRSksTSxMPXRoaXMubm9kZVR5cGU9PTEmJm8odGhpcykuaXMoIjpoaWRkZW4iKSxKPXRoaXM7Zm9yKE0gaW4gSSl7aWYoSVtNXT09ImhpZGUiJiZMfHxJW01dPT0ic2hvdyImJiFMKXtyZXR1cm4gSy5jb21wbGV0ZS5jYWxsKHRoaXMpfWlmKChNPT0iaGVpZ2h0Inx8TT09IndpZHRoIikmJnRoaXMuc3R5bGUpe0suZGlzcGxheT1vLmNzcyh0aGlzLCJkaXNwbGF5Iik7Sy5vdmVyZmxvdz10aGlzLnN0eWxlLm92ZXJmbG93fX1pZihLLm92ZXJmbG93IT1udWxsKXt0aGlzLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4ifUsuY3VyQW5pbT1vLmV4dGVuZCh7fSxJKTtvLmVhY2goSSxmdW5jdGlvbihPLFMpe3ZhciBSPW5ldyBvLmZ4KEosSyxPKTtpZigvdG9nZ2xlfHNob3d8aGlkZS8udGVzdChTKSl7UltTPT0idG9nZ2xlIj9MPyJzaG93IjoiaGlkZSI6U10oSSl9ZWxzZXt2YXIgUT1TLnRvU3RyaW5nKCkubWF0Y2goL14oWystXT0pPyhbXGQrLS5dKykoLiopJC8pLFQ9Ui5jdXIodHJ1ZSl8fDA7aWYoUSl7dmFyIE49cGFyc2VGbG9hdChRWzJdKSxQPVFbM118fCJweCI7aWYoUCE9InB4Iil7Si5zdHlsZVtPXT0oTnx8MSkrUDtUPSgoTnx8MSkvUi5jdXIodHJ1ZSkpKlQ7Si5zdHlsZVtPXT1UK1B9aWYoUVsxXSl7Tj0oKFFbMV09PSItPSI/LTE6MSkqTikrVH1SLmN1c3RvbShULE4sUCl9ZWxzZXtSLmN1c3RvbShULFMsIiIpfX19KTtyZXR1cm4gdHJ1ZX0pfSxzdG9wOmZ1bmN0aW9uKEYsRSl7dmFyIEc9by50aW1lcnM7aWYoRil7dGhpcy5xdWV1ZShbXSl9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zm9yKHZhciBIPUcubGVuZ3RoLTE7SD49MDtILS0pe2lmKEdbSF0uZWxlbT09dGhpcyl7aWYoRSl7R1tIXSh0cnVlKX1HLnNwbGljZShILDEpfX19KTtpZighRSl7dGhpcy5kZXF1ZXVlKCl9cmV0dXJuIHRoaXN9fSk7by5lYWNoKHtzbGlkZURvd246dCgic2hvdyIsMSksc2xpZGVVcDp0KCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTp0KCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifX0sZnVuY3Rpb24oRSxGKXtvLmZuW0VdPWZ1bmN0aW9uKEcsSCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShGLEcsSCl9fSk7by5leHRlbmQoe3NwZWVkOmZ1bmN0aW9uKEcsSCxGKXt2YXIgRT10eXBlb2YgRz09PSJvYmplY3QiP0c6e2NvbXBsZXRlOkZ8fCFGJiZIfHxvLmlzRnVuY3Rpb24oRykmJkcsZHVyYXRpb246RyxlYXNpbmc6RiYmSHx8SCYmIW8uaXNGdW5jdGlvbihIKSYmSH07RS5kdXJhdGlvbj1vLmZ4Lm9mZj8wOnR5cGVvZiBFLmR1cmF0aW9uPT09Im51bWJlciI/RS5kdXJhdGlvbjpvLmZ4LnNwZWVkc1tFLmR1cmF0aW9uXXx8by5meC5zcGVlZHMuX2RlZmF1bHQ7RS5vbGQ9RS5jb21wbGV0ZTtFLmNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYoRS5xdWV1ZSE9PWZhbHNlKXtvKHRoaXMpLmRlcXVldWUoKX1pZihvLmlzRnVuY3Rpb24oRS5vbGQpKXtFLm9sZC5jYWxsKHRoaXMpfX07cmV0dXJuIEV9LGVhc2luZzp7bGluZWFyOmZ1bmN0aW9uKEcsSCxFLEYpe3JldHVybiBFK0YqR30sc3dpbmc6ZnVuY3Rpb24oRyxILEUsRil7cmV0dXJuKCgtTWF0aC5jb3MoRypNYXRoLlBJKS8yKSswLjUpKkYrRX19LHRpbWVyczpbXSxmeDpmdW5jdGlvbihGLEUsRyl7dGhpcy5vcHRpb25zPUU7dGhpcy5lbGVtPUY7dGhpcy5wcm9wPUc7aWYoIUUub3JpZyl7RS5vcmlnPXt9fX19KTtvLmZ4LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnN0ZXApe3RoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpfShvLmZ4LnN0ZXBbdGhpcy5wcm9wXXx8by5meC5zdGVwLl9kZWZhdWx0KSh0aGlzKTtpZigodGhpcy5wcm9wPT0iaGVpZ2h0Inx8dGhpcy5wcm9wPT0id2lkdGgiKSYmdGhpcy5lbGVtLnN0eWxlKXt0aGlzLmVsZW0uc3R5bGUuZGlzcGxheT0iYmxvY2sifX0sY3VyOmZ1bmN0aW9uKEYpe2lmKHRoaXMuZWxlbVt0aGlzLnByb3BdIT1udWxsJiYoIXRoaXMuZWxlbS5zdHlsZXx8dGhpcy5lbGVtLnN0eWxlW3RoaXMucHJvcF09PW51bGwpKXtyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF19dmFyIEU9cGFyc2VGbG9hdChvLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wLEYpKTtyZXR1cm4gRSYmRT4tMTAwMDA/RTpwYXJzZUZsb2F0KG8uY3VyQ1NTKHRoaXMuZWxlbSx0aGlzLnByb3ApKXx8MH0sY3VzdG9tOmZ1bmN0aW9uKEksSCxHKXt0aGlzLnN0YXJ0VGltZT1lKCk7dGhpcy5zdGFydD1JO3RoaXMuZW5kPUg7dGhpcy51bml0PUd8fHRoaXMudW5pdHx8InB4Ijt0aGlzLm5vdz10aGlzLnN0YXJ0O3RoaXMucG9zPXRoaXMuc3RhdGU9MDt2YXIgRT10aGlzO2Z1bmN0aW9uIEYoSil7cmV0dXJuIEUuc3RlcChKKX1GLmVsZW09dGhpcy5lbGVtO2lmKEYoKSYmby50aW1lcnMucHVzaChGKSYmIW4pe249c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgSz1vLnRpbWVycztmb3IodmFyIEo9MDtKPEsubGVuZ3RoO0orKyl7aWYoIUtbSl0oKSl7Sy5zcGxpY2UoSi0tLDEpfX1pZighSy5sZW5ndGgpe2NsZWFySW50ZXJ2YWwobik7bj1nfX0sMTMpfX0sc2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09by5hdHRyKHRoaXMuZWxlbS5zdHlsZSx0aGlzLnByb3ApO3RoaXMub3B0aW9ucy5zaG93PXRydWU7dGhpcy5jdXN0b20odGhpcy5wcm9wPT0id2lkdGgifHx0aGlzLnByb3A9PSJoZWlnaHQiPzE6MCx0aGlzLmN1cigpKTtvKHRoaXMuZWxlbSkuc2hvdygpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1vLmF0dHIodGhpcy5lbGVtLnN0eWxlLHRoaXMucHJvcCk7dGhpcy5vcHRpb25zLmhpZGU9dHJ1ZTt0aGlzLmN1c3RvbSh0aGlzLmN1cigpLDApfSxzdGVwOmZ1bmN0aW9uKEgpe3ZhciBHPWUoKTtpZihIfHxHPj10aGlzLm9wdGlvbnMuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kO3RoaXMucG9zPXRoaXMuc3RhdGU9MTt0aGlzLnVwZGF0ZSgpO3RoaXMub3B0aW9ucy5jdXJBbmltW3RoaXMucHJvcF09dHJ1ZTt2YXIgRT10cnVlO2Zvcih2YXIgRiBpbiB0aGlzLm9wdGlvbnMuY3VyQW5pbSl7aWYodGhpcy5vcHRpb25zLmN1ckFuaW1bRl0hPT10cnVlKXtFPWZhbHNlfX1pZihFKXtpZih0aGlzLm9wdGlvbnMuZGlzcGxheSE9bnVsbCl7dGhpcy5lbGVtLnN0eWxlLm92ZXJmbG93PXRoaXMub3B0aW9ucy5vdmVyZmxvdzt0aGlzLmVsZW0uc3R5bGUuZGlzcGxheT10aGlzLm9wdGlvbnMuZGlzcGxheTtpZihvLmNzcyh0aGlzLmVsZW0sImRpc3BsYXkiKT09Im5vbmUiKXt0aGlzLmVsZW0uc3R5bGUuZGlzcGxheT0iYmxvY2sifX1pZih0aGlzLm9wdGlvbnMuaGlkZSl7byh0aGlzLmVsZW0pLmhpZGUoKX1pZih0aGlzLm9wdGlvbnMuaGlkZXx8dGhpcy5vcHRpb25zLnNob3cpe2Zvcih2YXIgSSBpbiB0aGlzLm9wdGlvbnMuY3VyQW5pbSl7by5hdHRyKHRoaXMuZWxlbS5zdHlsZSxJLHRoaXMub3B0aW9ucy5vcmlnW0ldKX19dGhpcy5vcHRpb25zLmNvbXBsZXRlLmNhbGwodGhpcy5lbGVtKX1yZXR1cm4gZmFsc2V9ZWxzZXt2YXIgSj1HLXRoaXMuc3RhcnRUaW1lO3RoaXMuc3RhdGU9Si90aGlzLm9wdGlvbnMuZHVyYXRpb247dGhpcy5wb3M9by5lYXNpbmdbdGhpcy5vcHRpb25zLmVhc2luZ3x8KG8uZWFzaW5nLnN3aW5nPyJzd2luZyI6ImxpbmVhciIpXSh0aGlzLnN0YXRlLEosMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik7dGhpcy5ub3c9dGhpcy5zdGFydCsoKHRoaXMuZW5kLXRoaXMuc3RhcnQpKnRoaXMucG9zKTt0aGlzLnVwZGF0ZSgpfXJldHVybiB0cnVlfX07by5leHRlbmQoby5meCx7c3BlZWRzOntzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHN0ZXA6e29wYWNpdHk6ZnVuY3Rpb24oRSl7by5hdHRyKEUuZWxlbS5zdHlsZSwib3BhY2l0eSIsRS5ub3cpfSxfZGVmYXVsdDpmdW5jdGlvbihFKXtpZihFLmVsZW0uc3R5bGUmJkUuZWxlbS5zdHlsZVtFLnByb3BdIT1udWxsKXtFLmVsZW0uc3R5bGVbRS5wcm9wXT1FLm5vdytFLnVuaXR9ZWxzZXtFLmVsZW1bRS5wcm9wXT1FLm5vd319fX0pO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe28uZm4ub2Zmc2V0PWZ1bmN0aW9uKCl7aWYoIXRoaXNbMF0pe3JldHVybnt0b3A6MCxsZWZ0OjB9fWlmKHRoaXNbMF09PT10aGlzWzBdLm93bmVyRG9jdW1lbnQuYm9keSl7cmV0dXJuIG8ub2Zmc2V0LmJvZHlPZmZzZXQodGhpc1swXSl9dmFyIEc9dGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxKPXRoaXNbMF0ub3duZXJEb2N1bWVudCxGPUouYm9keSxFPUouZG9jdW1lbnRFbGVtZW50LEw9RS5jbGllbnRUb3B8fEYuY2xpZW50VG9wfHwwLEs9RS5jbGllbnRMZWZ0fHxGLmNsaWVudExlZnR8fDAsST1HLnRvcCsoc2VsZi5wYWdlWU9mZnNldHx8by5ib3hNb2RlbCYmRS5zY3JvbGxUb3B8fEYuc2Nyb2xsVG9wKS1MLEg9Ry5sZWZ0KyhzZWxmLnBhZ2VYT2Zmc2V0fHxvLmJveE1vZGVsJiZFLnNjcm9sbExlZnR8fEYuc2Nyb2xsTGVmdCktSztyZXR1cm57dG9wOkksbGVmdDpIfX19ZWxzZXtvLmZuLm9mZnNldD1mdW5jdGlvbigpe2lmKCF0aGlzWzBdKXtyZXR1cm57dG9wOjAsbGVmdDowfX1pZih0aGlzWzBdPT09dGhpc1swXS5vd25lckRvY3VtZW50LmJvZHkpe3JldHVybiBvLm9mZnNldC5ib2R5T2Zmc2V0KHRoaXNbMF0pfW8ub2Zmc2V0LmluaXRpYWxpemVkfHxvLm9mZnNldC5pbml0aWFsaXplKCk7dmFyIEo9dGhpc1swXSxHPUoub2Zmc2V0UGFyZW50LEY9SixPPUoub3duZXJEb2N1bWVudCxNLEg9Ty5kb2N1bWVudEVsZW1lbnQsSz1PLmJvZHksTD1PLmRlZmF1bHRWaWV3LEU9TC5nZXRDb21wdXRlZFN0eWxlKEosbnVsbCksTj1KLm9mZnNldFRvcCxJPUoub2Zmc2V0TGVmdDt3aGlsZSgoSj1KLnBhcmVudE5vZGUpJiZKIT09SyYmSiE9PUgpe009TC5nZXRDb21wdXRlZFN0eWxlKEosbnVsbCk7Ti09Si5zY3JvbGxUb3AsSS09Si5zY3JvbGxMZWZ0O2lmKEo9PT1HKXtOKz1KLm9mZnNldFRvcCxJKz1KLm9mZnNldExlZnQ7aWYoby5vZmZzZXQuZG9lc05vdEFkZEJvcmRlciYmIShvLm9mZnNldC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxscyYmL150KGFibGV8ZHxoKSQvaS50ZXN0KEoudGFnTmFtZSkpKXtOKz1wYXJzZUludChNLmJvcmRlclRvcFdpZHRoLDEwKXx8MCxJKz1wYXJzZUludChNLmJvcmRlckxlZnRXaWR0aCwxMCl8fDB9Rj1HLEc9Si5vZmZzZXRQYXJlbnR9aWYoby5vZmZzZXQuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlJiZNLm92ZXJmbG93IT09InZpc2libGUiKXtOKz1wYXJzZUludChNLmJvcmRlclRvcFdpZHRoLDEwKXx8MCxJKz1wYXJzZUludChNLmJvcmRlckxlZnRXaWR0aCwxMCl8fDB9RT1NfWlmKEUucG9zaXRpb249PT0icmVsYXRpdmUifHxFLnBvc2l0aW9uPT09InN0YXRpYyIpe04rPUsub2Zmc2V0VG9wLEkrPUsub2Zmc2V0TGVmdH1pZihFLnBvc2l0aW9uPT09ImZpeGVkIil7Tis9TWF0aC5tYXgoSC5zY3JvbGxUb3AsSy5zY3JvbGxUb3ApLEkrPU1hdGgubWF4KEguc2Nyb2xsTGVmdCxLLnNjcm9sbExlZnQpfXJldHVybnt0b3A6TixsZWZ0Okl9fX1vLm9mZnNldD17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpe3JldHVybn12YXIgTD1kb2N1bWVudC5ib2R5LEY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksSCxHLE4sSSxNLEUsSj1MLnN0eWxlLm1hcmdpblRvcCxLPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsiPjxkaXY+PC9kaXY+PC9kaXY+PHRhYmxlIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRyPjx0ZD48L3RkPjwvdHI+PC90YWJsZT4nO009e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOjAsbGVmdDowLG1hcmdpbjowLGJvcmRlcjowLHdpZHRoOiIxcHgiLGhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifTtmb3IoRSBpbiBNKXtGLnN0eWxlW0VdPU1bRV19Ri5pbm5lckhUTUw9SztMLmluc2VydEJlZm9yZShGLEwuZmlyc3RDaGlsZCk7SD1GLmZpcnN0Q2hpbGQsRz1ILmZpcnN0Q2hpbGQsST1ILm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDt0aGlzLmRvZXNOb3RBZGRCb3JkZXI9KEcub2Zmc2V0VG9wIT09NSk7dGhpcy5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxscz0oSS5vZmZzZXRUb3A9PT01KTtILnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLEguc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt0aGlzLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT0oRy5vZmZzZXRUb3A9PT0tNSk7TC5zdHlsZS5tYXJnaW5Ub3A9IjFweCI7dGhpcy5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldD0oTC5vZmZzZXRUb3A9PT0wKTtMLnN0eWxlLm1hcmdpblRvcD1KO0wucmVtb3ZlQ2hpbGQoRik7dGhpcy5pbml0aWFsaXplZD10cnVlfSxib2R5T2Zmc2V0OmZ1bmN0aW9uKEUpe28ub2Zmc2V0LmluaXRpYWxpemVkfHxvLm9mZnNldC5pbml0aWFsaXplKCk7dmFyIEc9RS5vZmZzZXRUb3AsRj1FLm9mZnNldExlZnQ7aWYoby5vZmZzZXQuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQpe0crPXBhcnNlSW50KG8uY3VyQ1NTKEUsIm1hcmdpblRvcCIsdHJ1ZSksMTApfHwwLEYrPXBhcnNlSW50KG8uY3VyQ1NTKEUsIm1hcmdpbkxlZnQiLHRydWUpLDEwKXx8MH1yZXR1cm57dG9wOkcsbGVmdDpGfX19O28uZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBJPTAsSD0wLEY7aWYodGhpc1swXSl7dmFyIEc9dGhpcy5vZmZzZXRQYXJlbnQoKSxKPXRoaXMub2Zmc2V0KCksRT0vXmJvZHl8aHRtbCQvaS50ZXN0KEdbMF0udGFnTmFtZSk/e3RvcDowLGxlZnQ6MH06Ry5vZmZzZXQoKTtKLnRvcC09aih0aGlzLCJtYXJnaW5Ub3AiKTtKLmxlZnQtPWoodGhpcywibWFyZ2luTGVmdCIpO0UudG9wKz1qKEcsImJvcmRlclRvcFdpZHRoIik7RS5sZWZ0Kz1qKEcsImJvcmRlckxlZnRXaWR0aCIpO0Y9e3RvcDpKLnRvcC1FLnRvcCxsZWZ0OkoubGVmdC1FLmxlZnR9fXJldHVybiBGfSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgRT10aGlzWzBdLm9mZnNldFBhcmVudHx8ZG9jdW1lbnQuYm9keTt3aGlsZShFJiYoIS9eYm9keXxodG1sJC9pLnRlc3QoRS50YWdOYW1lKSYmby5jc3MoRSwicG9zaXRpb24iKT09InN0YXRpYyIpKXtFPUUub2Zmc2V0UGFyZW50fXJldHVybiBvKEUpfX0pO28uZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihGLEUpe3ZhciBHPSJzY3JvbGwiK0U7by5mbltHXT1mdW5jdGlvbihIKXtpZighdGhpc1swXSl7cmV0dXJuIG51bGx9cmV0dXJuIEghPT1nP3RoaXMuZWFjaChmdW5jdGlvbigpe3RoaXM9PWx8fHRoaXM9PWRvY3VtZW50P2wuc2Nyb2xsVG8oIUY/SDpvKGwpLnNjcm9sbExlZnQoKSxGP0g6byhsKS5zY3JvbGxUb3AoKSk6dGhpc1tHXT1IfSk6dGhpc1swXT09bHx8dGhpc1swXT09ZG9jdW1lbnQ/c2VsZltGPyJwYWdlWU9mZnNldCI6InBhZ2VYT2Zmc2V0Il18fG8uYm94TW9kZWwmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtHXXx8ZG9jdW1lbnQuYm9keVtHXTp0aGlzWzBdW0ddfX0pO28uZWFjaChbIkhlaWdodCIsIldpZHRoIl0sZnVuY3Rpb24oSSxHKXt2YXIgRT1JPyJMZWZ0IjoiVG9wIixIPUk/IlJpZ2h0IjoiQm90dG9tIixGPUcudG9Mb3dlckNhc2UoKTtvLmZuWyJpbm5lciIrR109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXT9vLmNzcyh0aGlzWzBdLEYsZmFsc2UsInBhZGRpbmciKTpudWxsfTtvLmZuWyJvdXRlciIrR109ZnVuY3Rpb24oSyl7cmV0dXJuIHRoaXNbMF0/by5jc3ModGhpc1swXSxGLGZhbHNlLEs/Im1hcmdpbiI6ImJvcmRlciIpOm51bGx9O3ZhciBKPUcudG9Mb3dlckNhc2UoKTtvLmZuW0pdPWZ1bmN0aW9uKEspe3JldHVybiB0aGlzWzBdPT1sP2RvY3VtZW50LmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0IiYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK0ddfHxkb2N1bWVudC5ib2R5WyJjbGllbnQiK0ddOnRoaXNbMF09PWRvY3VtZW50P01hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitHXSxkb2N1bWVudC5ib2R5WyJzY3JvbGwiK0ddLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsic2Nyb2xsIitHXSxkb2N1bWVudC5ib2R5WyJvZmZzZXQiK0ddLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitHXSk6Sz09PWc/KHRoaXMubGVuZ3RoP28uY3NzKHRoaXNbMF0sSik6bnVsbCk6dGhpcy5jc3MoSix0eXBlb2YgSz09PSJzdHJpbmciP0s6SysicHgiKX19KX0pKCk7'
	$base64jqueryPlugin = 'LyoqCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIGpRdWVyeS1QbHVnaW4gInZpc3VhbGl6ZSIKICogYnkgU2NvdHQgSmVobCwgc2NvdHRAZmlsYW1lbnRncm91cC5jb20KICogaHR0cDovL3d3dy5maWxhbWVudGdyb3VwLmNvbQogKiBDb3B5cmlnaHQgKGMpIDIwMDkgRmlsYW1lbnQgR3JvdXAgCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoZmlsYW1lbnRncm91cC5jb20vZXhhbXBsZXMvbWl0LWxpY2Vuc2UudHh0KSBhbmQgR1BMIChmaWxhbWVudGdyb3VwLmNvbS9leGFtcGxlcy9ncGwtbGljZW5zZS50eHQpIGxpY2Vuc2VzLgogKiAJCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqLwooZnVuY3Rpb24oJCkgeyAKJC5mbi52aXN1YWxpemUgPSBmdW5jdGlvbihvcHRpb25zLCBjb250YWluZXIpewoJcmV0dXJuICQodGhpcykuZWFjaChmdW5jdGlvbigpewoJCS8vY29uZmlndXJhdGlvbgoJCXZhciBvID0gJC5leHRlbmQoewoJCQl0eXBlOiAnYmFyJywgLy9hbHNvIGF2YWlsYWJsZTogYXJlYSwgcGllLCBsaW5lCgkJCXdpZHRoOiAkKHRoaXMpLndpZHRoKCksIC8vaGVpZ2h0IG9mIGNhbnZhcyAtIGRlZmF1bHRzIHRvIHRhYmxlIGhlaWdodAoJCQloZWlnaHQ6ICQodGhpcykuaGVpZ2h0KCksIC8vaGVpZ2h0IG9mIGNhbnZhcyAtIGRlZmF1bHRzIHRvIHRhYmxlIGhlaWdodAoJCQlhcHBlbmRUaXRsZTogdHJ1ZSwgLy90YWJsZSBjYXB0aW9uIHRleHQgaXMgYWRkZWQgdG8gY2hhcnQKCQkJdGl0bGU6IG51bGwsIC8vZ3JhYnMgZnJvbSB0YWJsZSBjYXB0aW9uIGlmIG51bGwKCQkJYXBwZW5kS2V5OiB0cnVlLCAvL2NvbG9yIGtleSBpcyBhZGRlZCB0byBjaGFydAoJCQljb2xvcnM6IFsnI2JlMWUyZCcsJyM2NjY2OTknLCcjOTJkNWVhJywnI2VlODMxMCcsJyM4ZDEwZWUnLCcjNWEzYjE2JywnIzI2YTRlZCcsJyNmNDVhOTAnLCcjZTllNzQ0J10sCgkJCXRleHRDb2xvcnM6IFtdLCAvL2NvcnJlc3BvbmRzIHdpdGggY29sb3JzIGFycmF5LiBudWxsL3VuZGVmaW5lZCBpdGVtcyB3aWxsIGZhbGwgYmFjayB0byBDU1MKCQkJcGFyc2VEaXJlY3Rpb246ICd4JywgLy93aGljaCBkaXJlY3Rpb24gdG8gcGFyc2UgdGhlIHRhYmxlIGRhdGEKCQkJcGllTWFyZ2luOiAyMCwgLy9waWUgY2hhcnRzIG9ubHkgLSBzcGFjaW5nIGFyb3VuZCBwaWUKCQkJcGllTGFiZWxQb3M6ICdpbnNpZGUnLAoJCQlsaW5lV2VpZ2h0OiA0LCAvL2ZvciBsaW5lIGFuZCBhcmVhIC0gc3Ryb2tlIHdlaWdodAoJCQliYXJHcm91cE1hcmdpbjogMTAsCgkJCWJhck1hcmdpbjogMSAvL3NwYWNlIGFyb3VuZCBiYXJzIGluIGJhciBjaGFydCAoYWRkZWQgdG8gYm90aCBzaWRlcyBvZiBiYXIpCgkJfSxvcHRpb25zKTsKCQkKCQkvL3Jlc2V0IHdpZHRoLCBoZWlnaHQgdG8gbnVtYmVycwoJCW8ud2lkdGggPSBwYXJzZUludChvLndpZHRoLDEwKTsKCQlvLmhlaWdodCA9IHBhcnNlSW50KG8uaGVpZ2h0LDEwKTsKCQkKCQkKCQl2YXIgc2VsZiA9ICQodGhpcyk7CgkJCgkJLy9mdW5jdGlvbiB0byBzY3JhcGUgZGF0YSBmcm9tIGh0bWwgdGFibGUKCQlmdW5jdGlvbiBzY3JhcGVUYWJsZSgpewoJCQl2YXIgY29sb3JzID0gby5jb2xvcnM7CgkJCXZhciB0ZXh0Q29sb3JzID0gby50ZXh0Q29sb3JzOwoJCQl2YXIgdGFibGVEYXRhID0gewoJCQkJZGF0YUdyb3VwczogZnVuY3Rpb24oKXsKCQkJCQl2YXIgZGF0YUdyb3VwcyA9IFtdOwoJCQkJCWlmKG8ucGFyc2VEaXJlY3Rpb24gPT0gJ3gnKXsKCQkJCQkJc2VsZi5maW5kKCd0cjpndCgwKScpLmVhY2goZnVuY3Rpb24oaSl7CgkJCQkJCQlkYXRhR3JvdXBzW2ldID0ge307CgkJCQkJCQlkYXRhR3JvdXBzW2ldLnBvaW50cyA9IFtdOwoJCQkJCQkJZGF0YUdyb3Vwc1tpXS5jb2xvciA9IGNvbG9yc1tpXTsKCQkJCQkJCWlmKHRleHRDb2xvcnNbaV0peyBkYXRhR3JvdXBzW2ldLnRleHRDb2xvciA9IHRleHRDb2xvcnNbaV07IH0KCQkJCQkJCSQodGhpcykuZmluZCgndGQnKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCQkJZGF0YUdyb3Vwc1tpXS5wb2ludHMucHVzaCggcGFyc2VJbnQoJCh0aGlzKS50ZXh0KCksMTApICk7CgkJCQkJCQl9KTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQl2YXIgY29scyA9IHNlbGYuZmluZCgndHI6ZXEoMSkgdGQnKS5zaXplKCk7CgkJCQkJCWZvcih2YXIgaT0wOyBpPGNvbHM7IGkrKyl7CgkJCQkJCQlkYXRhR3JvdXBzW2ldID0ge307CgkJCQkJCQlkYXRhR3JvdXBzW2ldLnBvaW50cyA9IFtdOwoJCQkJCQkJZGF0YUdyb3Vwc1tpXS5jb2xvciA9IGNvbG9yc1tpXTsKCQkJCQkJCWlmKHRleHRDb2xvcnNbaV0peyBkYXRhR3JvdXBzW2ldLnRleHRDb2xvciA9IHRleHRDb2xvcnNbaV07IH0KCQkJCQkJCXNlbGYuZmluZCgndHI6Z3QoMCknKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCQkJZGF0YUdyb3Vwc1tpXS5wb2ludHMucHVzaCggJCh0aGlzKS5maW5kKCd0ZCcpLmVxKGkpLnRleHQoKSoxICk7CgkJCQkJCQl9KTsKCQkJCQkJfTsKCQkJCQl9CgkJCQkJcmV0dXJuIGRhdGFHcm91cHM7CgkJCQl9LAoJCQkJYWxsRGF0YTogZnVuY3Rpb24oKXsKCQkJCQl2YXIgYWxsRGF0YSA9IFtdOwoJCQkJCSQodGhpcy5kYXRhR3JvdXBzKCkpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJYWxsRGF0YS5wdXNoKHRoaXMucG9pbnRzKTsKCQkJCQl9KTsKCQkJCQlyZXR1cm4gYWxsRGF0YTsKCQkJCX0sCgkJCQlkYXRhU3VtOiBmdW5jdGlvbigpewoJCQkJCXZhciBkYXRhU3VtID0gMDsKCQkJCQl2YXIgYWxsRGF0YSA9IHRoaXMuYWxsRGF0YSgpLmpvaW4oJywnKS5zcGxpdCgnLCcpOwoJCQkJCSQoYWxsRGF0YSkuZWFjaChmdW5jdGlvbigpewoJCQkJCQlkYXRhU3VtICs9IHBhcnNlSW50KHRoaXMsMTApOwoJCQkJCX0pOwoJCQkJCXJldHVybiBkYXRhU3VtCgkJCQl9LAkKCQkJCXRvcFZhbHVlOiBmdW5jdGlvbigpewoJCQkJCQl2YXIgdG9wVmFsdWUgPSAwOwoJCQkJCQl2YXIgYWxsRGF0YSA9IHRoaXMuYWxsRGF0YSgpLmpvaW4oJywnKS5zcGxpdCgnLCcpOwoJCQkJCQkkKGFsbERhdGEpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJCWlmKHBhcnNlSW50KHRoaXMsMTApPnRvcFZhbHVlKSB0b3BWYWx1ZSA9IHBhcnNlSW50KHRoaXMsMTApOwoJCQkJCQl9KTsKCQkJCQkJcmV0dXJuIHRvcFZhbHVlOwoJCQkJfSwKCQkJCWJvdHRvbVZhbHVlOiBmdW5jdGlvbigpewoJCQkJCQl2YXIgYm90dG9tVmFsdWUgPSAwOwoJCQkJCQl2YXIgYWxsRGF0YSA9IHRoaXMuYWxsRGF0YSgpLmpvaW4oJywnKS5zcGxpdCgnLCcpOwoJCQkJCQkkKGFsbERhdGEpLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJCWlmKHRoaXM8Ym90dG9tVmFsdWUpIGJvdHRvbVZhbHVlID0gcGFyc2VJbnQodGhpcywxMCk7CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYm90dG9tVmFsdWU7CgkJCQl9LAoJCQkJbWVtYmVyVG90YWxzOiBmdW5jdGlvbigpewoJCQkJCXZhciBtZW1iZXJUb3RhbHMgPSBbXTsKCQkJCQl2YXIgZGF0YUdyb3VwcyA9IHRoaXMuZGF0YUdyb3VwcygpOwoJCQkJCSQoZGF0YUdyb3VwcykuZWFjaChmdW5jdGlvbihsKXsKCQkJCQkJdmFyIGNvdW50ID0gMDsKCQkJCQkJJChkYXRhR3JvdXBzW2xdLnBvaW50cykuZWFjaChmdW5jdGlvbihtKXsKCQkJCQkJCWNvdW50ICs9ZGF0YUdyb3Vwc1tsXS5wb2ludHNbbV07CgkJCQkJCX0pOwoJCQkJCQltZW1iZXJUb3RhbHMucHVzaChjb3VudCk7CgkJCQkJfSk7CgkJCQkJcmV0dXJuIG1lbWJlclRvdGFsczsKCQkJCX0sCgkJCQl5VG90YWxzOiBmdW5jdGlvbigpewoJCQkJCXZhciB5VG90YWxzID0gW107CgkJCQkJdmFyIGRhdGFHcm91cHMgPSB0aGlzLmRhdGFHcm91cHMoKTsKCQkJCQl2YXIgbG9vcExlbmd0aCA9IHRoaXMueExhYmVscygpLmxlbmd0aDsKCQkJCQlmb3IodmFyIGkgPSAwOyBpPGxvb3BMZW5ndGg7IGkrKyl7CgkJCQkJCXlUb3RhbHNbaV0gPVtdOwoJCQkJCQl2YXIgdGhpc1RvdGFsID0gMDsKCQkJCQkJJChkYXRhR3JvdXBzKS5lYWNoKGZ1bmN0aW9uKGwpewoJCQkJCQkJeVRvdGFsc1tpXS5wdXNoKHRoaXMucG9pbnRzW2ldKTsKCQkJCQkJfSk7CgkJCQkJCXlUb3RhbHNbaV0uam9pbignLCcpLnNwbGl0KCcsJyk7CgkJCQkJCSQoeVRvdGFsc1tpXSkuZWFjaChmdW5jdGlvbigpewoJCQkJCQkJdGhpc1RvdGFsICs9IHBhcnNlSW50KHRoaXMpOwoJCQkJCQl9KTsKCQkJCQkJeVRvdGFsc1tpXSA9IHRoaXNUb3RhbDsKCQkJCQkJCgkJCQkJfQoJCQkJCXJldHVybiB5VG90YWxzOwoJCQkJfSwKCQkJCXRvcFl0b3RhbDogZnVuY3Rpb24oKXsKCQkJCQl2YXIgdG9wWXRvdGFsID0gMDsKCQkJCQkJdmFyIHlUb3RhbHMgPSB0aGlzLnlUb3RhbHMoKS5qb2luKCcsJykuc3BsaXQoJywnKTsKCQkJCQkJJCh5VG90YWxzKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCQlpZihwYXJzZUludCh0aGlzLDEwKT50b3BZdG90YWwpIHRvcFl0b3RhbCA9IHBhcnNlSW50KHRoaXMsMTApOwoJCQkJCQl9KTsKCQkJCQkJcmV0dXJuIHRvcFl0b3RhbDsKCQkJCX0sCgkJCQl0b3RhbFlSYW5nZTogZnVuY3Rpb24oKXsKCQkJCQlyZXR1cm4gdGhpcy50b3BWYWx1ZSgpICsgTWF0aC5hYnModGhpcy5ib3R0b21WYWx1ZSgpKTsKCQkJCX0sCgkJCQl4TGFiZWxzOiBmdW5jdGlvbigpewoJCQkJCXZhciB4TGFiZWxzID0gW107CgkJCQkJaWYoby5wYXJzZURpcmVjdGlvbiA9PSAneCcpewoJCQkJCQlzZWxmLmZpbmQoJ3RyOmVxKDApIHRoJykuZWFjaChmdW5jdGlvbigpewoJCQkJCQkJeExhYmVscy5wdXNoKCQodGhpcykuaHRtbCgpKTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQlzZWxmLmZpbmQoJ3RyOmd0KDApIHRoJykuZWFjaChmdW5jdGlvbigpewoJCQkJCQkJeExhYmVscy5wdXNoKCQodGhpcykuaHRtbCgpKTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCXJldHVybiB4TGFiZWxzOwoJCQkJfSwKCQkJCXlMYWJlbHM6IGZ1bmN0aW9uKCl7CgkJCQkJdmFyIHlMYWJlbHMgPSBbXTsKCQkJCQl2YXIgY2hhcnRIZWlnaHQgPSBvLmhlaWdodDsKCQkJCQl2YXIgbnVtTGFiZWxzID0gTWF0aC5yb3VuZChjaGFydEhlaWdodCAvIDMwKTsKCQkJCQkvL3ZhciB0b3RhbFJhbmdlID0gdGhpcy50b3BWYWx1ZSgpICsgTWF0aC5hYnModGhpcy5ib3R0b21WYWx1ZSgpKTsKCQkJCQl2YXIgbG9vcEludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLnRvdGFsWVJhbmdlKCkgLyBNYXRoLmZsb29yKG51bUxhYmVscykpOyAvL2ZpeCBwcm92aWRlZCBmcm9tIGxhYgoJCQkJCWZvcih2YXIgaj10aGlzLmJvdHRvbVZhbHVlKCk7IGo8PXRvcFZhbHVlOyBqKz1sb29wSW50ZXJ2YWwpewoJCQkJCQl5TGFiZWxzLnB1c2goaik7IAoJCQkJCX0KCQkJCQlpZih5TGFiZWxzW3lMYWJlbHMubGVuZ3RoLTFdICE9IHRoaXMudG9wVmFsdWUoKSkgewoJCQkJCQl5TGFiZWxzLnBvcCgpOwoJCQkJCQl5TGFiZWxzLnB1c2godGhpcy50b3BWYWx1ZSgpKTsKCQkJCQl9CgkJCQkJcmV0dXJuIHlMYWJlbHM7CgkJCQl9CQkJCgkJCX07CgkJCQoJCQlyZXR1cm4gdGFibGVEYXRhOwoJCX07CgkJCgkJCgkJLy9mdW5jdGlvbiB0byBjcmVhdGUgYSBjaGFydAoJCXZhciBjcmVhdGVDaGFydCA9IHsKCQkJcGllOiBmdW5jdGlvbigpewkKCQkJCQoJCQkJY2FudmFzQ29udGFpbgoJCQkJCS5hZGRDbGFzcygndmlzdWFsaXplLXBpZScpOwoJCQkJCgkJCQlpZihvLnBpZUxhYmVsUG9zID09ICdvdXRzaWRlJyl7IGNhbnZhc0NvbnRhaW4uYWRkQ2xhc3MoJ3Zpc3VhbGl6ZS1waWUtb3V0c2lkZScpOyB9CQoJCQkJCQkKCQkJCXZhciBjZW50ZXJ4ID0gTWF0aC5yb3VuZChjYW52YXMud2lkdGgoKS8yKTsKCQkJCXZhciBjZW50ZXJ5ID0gTWF0aC5yb3VuZChjYW52YXMuaGVpZ2h0KCkvMik7CgkJCQl2YXIgcmFkaXVzID0gY2VudGVyeSAtIG8ucGllTWFyZ2luOwkJCQkKCQkJCXZhciBjb3VudGVyID0gMC4wOwoJCQkJdmFyIHRvUmFkID0gZnVuY3Rpb24oaW50ZWdlcil7IHJldHVybiAoTWF0aC5QSS8xODApKmludGVnZXI7IH07CgkJCQl2YXIgbGFiZWxzID0gJCgnPHVsIGNsYXNzPSJ2aXN1YWxpemUtbGFiZWxzIj48L3VsPicpCgkJCQkJLmluc2VydEFmdGVyKGNhbnZhcyk7CgoJCQkJLy9kcmF3IHRoZSBwaWUgcGllY2VzCgkJCQkkLmVhY2gobWVtYmVyVG90YWxzLCBmdW5jdGlvbihpKXsKCQkJCQl2YXIgZnJhY3Rpb24gPSAodGhpcyA8IDApPyAwIDogdGhpcyAvIGRhdGFTdW07CgkJCQkJY3R4LmJlZ2luUGF0aCgpOwoJCQkJCWN0eC5tb3ZlVG8oY2VudGVyeCwgY2VudGVyeSk7CgkJCQkJY3R4LmFyYyhjZW50ZXJ4LCBjZW50ZXJ5LCByYWRpdXMsIAoJCQkJCQljb3VudGVyICogTWF0aC5QSSAqIDIgLSBNYXRoLlBJICogMC41LAoJCQkJCQkoY291bnRlciArIGZyYWN0aW9uKSAqIE1hdGguUEkgKiAyIC0gTWF0aC5QSSAqIDAuNSwKCQkgICAgICAgICAgICAgICAgZmFsc2UpOwoJCQkgICAgICAgIGN0eC5saW5lVG8oY2VudGVyeCwgY2VudGVyeSk7CgkJCSAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwoJCQkgICAgICAgIGN0eC5maWxsU3R5bGUgPSBkYXRhR3JvdXBzW2ldLmNvbG9yOwoJCQkgICAgICAgIGN0eC5maWxsKCk7CgkJCSAgICAgICAgLy8gZHJhdyBsYWJlbHMKCQkJICAgICAgIAl2YXIgc2xpY2VNaWRkbGUgPSAoY291bnRlciArIGZyYWN0aW9uLzIpOwoJCQkgICAgICAgCXZhciBkaXN0YW5jZSA9IG8ucGllTGFiZWxQb3MgPT0gJ2luc2lkZScgPyByYWRpdXMvMS41IDogcmFkaXVzICsgIHJhZGl1cyAvIDU7CgkJCSAgICAgICAgdmFyIGxhYmVseCA9IE1hdGgucm91bmQoY2VudGVyeCArIE1hdGguc2luKHNsaWNlTWlkZGxlICogTWF0aC5QSSAqIDIpICogKGRpc3RhbmNlKSk7CgkJCSAgICAgICAgdmFyIGxhYmVseSA9IE1hdGgucm91bmQoY2VudGVyeSAtIE1hdGguY29zKHNsaWNlTWlkZGxlICogTWF0aC5QSSAqIDIpICogKGRpc3RhbmNlKSk7CgkJCSAgICAgICAgdmFyIGxlZnRSaWdodCA9IChsYWJlbHggPiBjZW50ZXJ4KSA/ICdyaWdodCcgOiAnbGVmdCc7CgkJCSAgICAgICAgdmFyIHRvcEJvdHRvbSA9IChsYWJlbHkgPiBjZW50ZXJ5KSA/ICdib3R0b20nIDogJ3RvcCc7CgkJCSAgICAgICAgdmFyIGxhYmVsdGV4dCA9ICQoJzxzcGFuIGNsYXNzPSJ2aXN1YWxpemUtbGFiZWwiPicgKyBNYXRoLnJvdW5kKGZyYWN0aW9uKjEwMCkgKyAnJTwvc3Bhbj4nKQoJCQkgICAgICAgIAkuY3NzKGxlZnRSaWdodCwgMCkKCQkJICAgICAgICAJLmNzcyh0b3BCb3R0b20sIDApOwoJCQkgICAgICAgIHZhciBsYWJlbCA9ICQoJzxsaSBjbGFzcz0idmlzdWFsaXplLWxhYmVsLXBvcyI+PC9saT4nKQoJCQkgICAgICAgCQkJLmFwcGVuZFRvKGxhYmVscykKCQkJICAgICAgICAJCS5jc3Moe2xlZnQ6IGxhYmVseCwgdG9wOiBsYWJlbHl9KQoJCQkgICAgICAgIAkJLmFwcGVuZChsYWJlbHRleHQpOwkKCQkJICAgICAgICBsYWJlbHRleHQKCQkJICAgICAgICAJLmNzcygnZm9udC1zaXplJywgcmFkaXVzIC8gOCkJCQoJCQkgICAgICAgIAkuY3NzKCdtYXJnaW4tJytsZWZ0UmlnaHQsIC1sYWJlbHRleHQud2lkdGgoKS8yKQoJCQkgICAgICAgIAkuY3NzKCdtYXJnaW4tJyt0b3BCb3R0b20sIC1sYWJlbHRleHQub3V0ZXJIZWlnaHQoKS8yKTsKCQkJICAgICAgICAJCgkJCSAgICAgICAgaWYoZGF0YUdyb3Vwc1tpXS50ZXh0Q29sb3IpeyBsYWJlbHRleHQuY3NzKCdjb2xvcicsIGRhdGFHcm91cHNbaV0udGV4dENvbG9yKTsgfQkKCQkJICAgICAgCWNvdW50ZXIrPWZyYWN0aW9uOwoJCQkJfSk7CgkJCX0sCgkJCQoJCQlsaW5lOiBmdW5jdGlvbihhcmVhKXsKCQkJCgkJCQlpZihhcmVhKXsgY2FudmFzQ29udGFpbi5hZGRDbGFzcygndmlzdWFsaXplLWFyZWEnKTsgfQoJCQkJZWxzZXsgY2FudmFzQ29udGFpbi5hZGRDbGFzcygndmlzdWFsaXplLWxpbmUnKTsgfQoJCQkKCQkJCS8vd3JpdGUgWCBsYWJlbHMKCQkJCXZhciB4SW50ZXJ2YWwgPSBjYW52YXMud2lkdGgoKSAvICh4TGFiZWxzLmxlbmd0aCAtMSk7CgkJCQl2YXIgeGxhYmVsc1VMID0gJCgnPHVsIGNsYXNzPSJ2aXN1YWxpemUtbGFiZWxzLXgiPjwvdWw+JykKCQkJCQkud2lkdGgoY2FudmFzLndpZHRoKCkpCgkJCQkJLmhlaWdodChjYW52YXMuaGVpZ2h0KCkpCgkJCQkJLmluc2VydEJlZm9yZShjYW52YXMpOwoJCQkJJC5lYWNoKHhMYWJlbHMsIGZ1bmN0aW9uKGkpeyAKCQkJCQl2YXIgdGhpc0xpID0gJCgnPGxpPjxzcGFuPicrdGhpcysnPC9zcGFuPjwvbGk+JykKCQkJCQkJLnByZXBlbmQoJzxzcGFuIGNsYXNzPSJsaW5lIiAvPicpCgkJCQkJCS5jc3MoJ2xlZnQnLCB4SW50ZXJ2YWwgKiBpKQoJCQkJCQkuYXBwZW5kVG8oeGxhYmVsc1VMKTsJCQkJCQkKCQkJCQl2YXIgbGFiZWwgPSB0aGlzTGkuZmluZCgnc3Bhbjpub3QoLmxpbmUpJyk7CgkJCQkJdmFyIGxlZnRPZmZzZXQgPSBsYWJlbC53aWR0aCgpLy0yOwoJCQkJCWlmKGkgPT0gMCl7IGxlZnRPZmZzZXQgPSAwOyB9CgkJCQkJZWxzZSBpZihpPT0geExhYmVscy5sZW5ndGgtMSl7IGxlZnRPZmZzZXQgPSAtbGFiZWwud2lkdGgoKTsgfQoJCQkJCWxhYmVsCgkJCQkJCS5jc3MoJ21hcmdpbi1sZWZ0JywgbGVmdE9mZnNldCkKCQkJCQkJLmFkZENsYXNzKCdsYWJlbCcpOwoJCQkJfSk7CgoJCQkJLy93cml0ZSBZIGxhYmVscwoJCQkJdmFyIHlTY2FsZSA9IGNhbnZhcy5oZWlnaHQoKSAvIHRvdGFsWVJhbmdlOwoJCQkJdmFyIGxpQm90dG9tID0gY2FudmFzLmhlaWdodCgpIC8gKHlMYWJlbHMubGVuZ3RoLTEpOwoJCQkJdmFyIHlsYWJlbHNVTCA9ICQoJzx1bCBjbGFzcz0idmlzdWFsaXplLWxhYmVscy15Ij48L3VsPicpCgkJCQkJLndpZHRoKGNhbnZhcy53aWR0aCgpKQoJCQkJCS5oZWlnaHQoY2FudmFzLmhlaWdodCgpKQoJCQkJCS5pbnNlcnRCZWZvcmUoY2FudmFzKTsKCQkJCQkKCQkJCSQuZWFjaCh5TGFiZWxzLCBmdW5jdGlvbihpKXsgIAoJCQkJCXZhciB0aGlzTGkgPSAkKCc8bGk+PHNwYW4+Jyt0aGlzKyc8L3NwYW4+PC9saT4nKQoJCQkJCQkucHJlcGVuZCgnPHNwYW4gY2xhc3M9ImxpbmUiICAvPicpCgkJCQkJCS5jc3MoJ2JvdHRvbScsbGlCb3R0b20qaSkKCQkJCQkJLnByZXBlbmRUbyh5bGFiZWxzVUwpOwoJCQkJCXZhciBsYWJlbCA9IHRoaXNMaS5maW5kKCdzcGFuOm5vdCgubGluZSknKTsKCQkJCQl2YXIgdG9wT2Zmc2V0ID0gbGFiZWwuaGVpZ2h0KCkvLTI7CgkJCQkJaWYoaSA9PSAwKXsgdG9wT2Zmc2V0ID0gLWxhYmVsLmhlaWdodCgpOyB9CgkJCQkJZWxzZSBpZihpPT0geUxhYmVscy5sZW5ndGgtMSl7IHRvcE9mZnNldCA9IDA7IH0KCQkJCQlsYWJlbAoJCQkJCQkuY3NzKCdtYXJnaW4tdG9wJywgdG9wT2Zmc2V0KQoJCQkJCQkuYWRkQ2xhc3MoJ2xhYmVsJyk7CgkJCQl9KTsKCgkJCQkvL3N0YXJ0IGZyb20gdGhlIGJvdHRvbSBsZWZ0CgkJCQljdHgudHJhbnNsYXRlKDAsemVyb0xvYyk7CgkJCQkvL2l0ZXJhdGUgYW5kIGRyYXcKCQkJCSQuZWFjaChkYXRhR3JvdXBzLGZ1bmN0aW9uKGgpewoJCQkJCWN0eC5iZWdpblBhdGgoKTsKCQkJCQljdHgubGluZVdpZHRoID0gby5saW5lV2VpZ2h0OwoJCQkJCWN0eC5saW5lSm9pbiA9ICdyb3VuZCc7CgkJCQkJdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzOwoJCQkJCXZhciBpbnRlZ2VyID0gMDsKCQkJCQljdHgubW92ZVRvKDAsLShwb2ludHNbMF0qeVNjYWxlKSk7CgkJCQkJJC5lYWNoKHBvaW50cywgZnVuY3Rpb24oKXsKCQkJCQkJY3R4LmxpbmVUbyhpbnRlZ2VyLC0odGhpcyp5U2NhbGUpKTsKCQkJCQkJaW50ZWdlcis9eEludGVydmFsOwoJCQkJCX0pOwoJCQkJCWN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7CgkJCQkJY3R4LnN0cm9rZSgpOwoJCQkJCWlmKGFyZWEpewoJCQkJCQljdHgubGluZVRvKGludGVnZXIsMCk7CgkJCQkJCWN0eC5saW5lVG8oMCwwKTsKCQkJCQkJY3R4LmNsb3NlUGF0aCgpOwoJCQkJCQljdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjsKCQkJCQkJY3R4Lmdsb2JhbEFscGhhID0gLjM7CgkJCQkJCWN0eC5maWxsKCk7CgkJCQkJCWN0eC5nbG9iYWxBbHBoYSA9IDEuMDsKCQkJCQl9CgkJCQkJZWxzZSB7Y3R4LmNsb3NlUGF0aCgpO30KCQkJCX0pOwoJCQl9LAoJCQkKCQkJYXJlYTogZnVuY3Rpb24oKXsKCQkJCWNyZWF0ZUNoYXJ0LmxpbmUodHJ1ZSk7CgkJCX0sCgkJCQoJCQliYXI6IGZ1bmN0aW9uKCl7CgkJCQkKCQkJCWNhbnZhc0NvbnRhaW4uYWRkQ2xhc3MoJ3Zpc3VhbGl6ZS1iYXInKTsKCQkJCgkJCQkvL3dyaXRlIFggbGFiZWxzCgkJCQl2YXIgeEludGVydmFsID0gY2FudmFzLndpZHRoKCkgLyAoeExhYmVscy5sZW5ndGgpOwoJCQkJdmFyIHhsYWJlbHNVTCA9ICQoJzx1bCBjbGFzcz0idmlzdWFsaXplLWxhYmVscy14Ij48L3VsPicpCgkJCQkJLndpZHRoKGNhbnZhcy53aWR0aCgpKQoJCQkJCS5oZWlnaHQoY2FudmFzLmhlaWdodCgpKQoJCQkJCS5pbnNlcnRCZWZvcmUoY2FudmFzKTsKCQkJCSQuZWFjaCh4TGFiZWxzLCBmdW5jdGlvbihpKXsgCgkJCQkJdmFyIHRoaXNMaSA9ICQoJzxsaT48c3BhbiBjbGFzcz0ibGFiZWwiPicrdGhpcysnPC9zcGFuPjwvbGk+JykKCQkJCQkJLnByZXBlbmQoJzxzcGFuIGNsYXNzPSJsaW5lIiAvPicpCgkJCQkJCS5jc3MoJ2xlZnQnLCB4SW50ZXJ2YWwgKiBpKQoJCQkJCQkud2lkdGgoeEludGVydmFsKQoJCQkJCQkuYXBwZW5kVG8oeGxhYmVsc1VMKTsKCQkJCQl2YXIgbGFiZWwgPSB0aGlzTGkuZmluZCgnc3Bhbi5sYWJlbCcpOwoJCQkJCWxhYmVsLmFkZENsYXNzKCdsYWJlbCcpOwoJCQkJfSk7CgoJCQkJLy93cml0ZSBZIGxhYmVscwoJCQkJdmFyIHlTY2FsZSA9IGNhbnZhcy5oZWlnaHQoKSAvIHRvdGFsWVJhbmdlOwoJCQkJdmFyIGxpQm90dG9tID0gY2FudmFzLmhlaWdodCgpIC8gKHlMYWJlbHMubGVuZ3RoLTEpOwoJCQkJdmFyIHlsYWJlbHNVTCA9ICQoJzx1bCBjbGFzcz0idmlzdWFsaXplLWxhYmVscy15Ij48L3VsPicpCgkJCQkJLndpZHRoKGNhbnZhcy53aWR0aCgpKQoJCQkJCS5oZWlnaHQoY2FudmFzLmhlaWdodCgpKQoJCQkJCS5pbnNlcnRCZWZvcmUoY2FudmFzKTsKCQkJCSQuZWFjaCh5TGFiZWxzLCBmdW5jdGlvbihpKXsgIAoJCQkJCXZhciB0aGlzTGkgPSAkKCc8bGk+PHNwYW4+Jyt0aGlzKyc8L3NwYW4+PC9saT4nKQoJCQkJCQkucHJlcGVuZCgnPHNwYW4gY2xhc3M9ImxpbmUiICAvPicpCgkJCQkJCS5jc3MoJ2JvdHRvbScsbGlCb3R0b20qaSkKCQkJCQkJLnByZXBlbmRUbyh5bGFiZWxzVUwpOwoJCQkJCQl2YXIgbGFiZWwgPSB0aGlzTGkuZmluZCgnc3Bhbjpub3QoLmxpbmUpJyk7CgkJCQkJCXZhciB0b3BPZmZzZXQgPSBsYWJlbC5oZWlnaHQoKS8tMjsKCQkJCQkJaWYoaSA9PSAwKXsgdG9wT2Zmc2V0ID0gLWxhYmVsLmhlaWdodCgpOyB9CgkJCQkJCWVsc2UgaWYoaT09IHlMYWJlbHMubGVuZ3RoLTEpeyB0b3BPZmZzZXQgPSAwOyB9CgkJCQkJCWxhYmVsCgkJCQkJCQkuY3NzKCdtYXJnaW4tdG9wJywgdG9wT2Zmc2V0KQoJCQkJCQkJLmFkZENsYXNzKCdsYWJlbCcpOwoJCQkJfSk7CgoJCQkJLy9zdGFydCBmcm9tIHRoZSBib3R0b20gbGVmdAoJCQkJY3R4LnRyYW5zbGF0ZSgwLHplcm9Mb2MpOwoJCQkJLy9pdGVyYXRlIGFuZCBkcmF3CgkJCQlmb3IodmFyIGg9MDsgaDxkYXRhR3JvdXBzLmxlbmd0aDsgaCsrKXsKCQkJCQljdHguYmVnaW5QYXRoKCk7CgkJCQkJdmFyIGxpbmV3aWR0aCA9ICh4SW50ZXJ2YWwtby5iYXJHcm91cE1hcmdpbioyKSAvIGRhdGFHcm91cHMubGVuZ3RoOyAvL3JlbW92ZWQgKzEgCgkJCQkJdmFyIHN0cm9rZVdpZHRoID0gbGluZXdpZHRoIC0gKG8uYmFyTWFyZ2luKjIpOwoJCQkJCWN0eC5saW5lV2lkdGggPSBzdHJva2VXaWR0aDsKCQkJCQl2YXIgcG9pbnRzID0gZGF0YUdyb3Vwc1toXS5wb2ludHM7CgkJCQkJdmFyIGludGVnZXIgPSAwOwoJCQkJCWZvcih2YXIgaT0wOyBpPHBvaW50cy5sZW5ndGg7IGkrKyl7CgkJCQkJCXZhciB4VmFsID0gKGludGVnZXItby5iYXJHcm91cE1hcmdpbikrKGgqbGluZXdpZHRoKStsaW5ld2lkdGgvMjsKCQkJCQkJeFZhbCArPSBvLmJhckdyb3VwTWFyZ2luKjI7CgkJCQkJCQoJCQkJCQljdHgubW92ZVRvKHhWYWwsIDApOwoJCQkJCQljdHgubGluZVRvKHhWYWwsIE1hdGgucm91bmQoLXBvaW50c1tpXSp5U2NhbGUpKTsKCQkJCQkJaW50ZWdlcis9eEludGVydmFsOwoJCQkJCX0KCQkJCQljdHguc3Ryb2tlU3R5bGUgPSBkYXRhR3JvdXBzW2hdLmNvbG9yOwoJCQkJCWN0eC5zdHJva2UoKTsKCQkJCQljdHguY2xvc2VQYXRoKCk7CgkJCQl9CgkJCX0KCQl9OwoJCgkJLy9jcmVhdGUgbmV3IGNhbnZhcywgc2V0IHcmaCBhdHRycyAobm90IGlubGluZSBzdHlsZXMpCgkJdmFyIGNhbnZhc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsgCgkJdmFyIGNhbnZhcyA9ICQoY2FudmFzTm9kZSkKCQkJLmF0dHIoewoJCQkJJ2hlaWdodCc6IG8uaGVpZ2h0LAoJCQkJJ3dpZHRoJzogby53aWR0aAoJCQl9KTsKCQkJCgoJCQoJCS8vY3JlYXRlIGNhbnZhcyB3cmFwcGVyIGRpdiwgc2V0IGlubGluZSB3JmgsIGFwcGVuZAoJCXZhciBjYW52YXNDb250YWluID0gKGNvbnRhaW5lciB8fCAkKCc8ZGl2IGNsYXNzPSJ2aXN1YWxpemUiIHJvbGU9InByZXNlbnRhdGlvbiIgLz4nKSkKCQkJLmhlaWdodChvLmhlaWdodCkKCQkJLndpZHRoKG8ud2lkdGgpCgkJCS5hcHBlbmQoY2FudmFzKTsKCQkKCQkvL3NjcmFwZSB0YWJsZSAodGhpcyBzaG91bGQgYmUgY2xlYW5lZCB1cCBpbnRvIGFuIG9iaikKCQl2YXIgdGFibGVEYXRhID0gc2NyYXBlVGFibGUoKTsKCQl2YXIgZGF0YUdyb3VwcyA9IHRhYmxlRGF0YS5kYXRhR3JvdXBzKCk7CgkJdmFyIGFsbERhdGEgPSB0YWJsZURhdGEuYWxsRGF0YSgpOwoJCXZhciBkYXRhU3VtID0gdGFibGVEYXRhLmRhdGFTdW0oKTsKCQl2YXIgdG9wVmFsdWUgPSB0YWJsZURhdGEudG9wVmFsdWUoKTsKCQl2YXIgYm90dG9tVmFsdWUgPSB0YWJsZURhdGEuYm90dG9tVmFsdWUoKTsKCQl2YXIgbWVtYmVyVG90YWxzID0gdGFibGVEYXRhLm1lbWJlclRvdGFscygpOwoJCXZhciB0b3RhbFlSYW5nZSA9IHRhYmxlRGF0YS50b3RhbFlSYW5nZSgpOwoKCgkJdmFyIHplcm9Mb2MgPSBvLmhlaWdodCAqICh0b3BWYWx1ZS90b3RhbFlSYW5nZSk7CgkvLwljb25zb2xlLmxvZyh6ZXJvTG9jKTsKCQkKCQl2YXIgeExhYmVscyA9IHRhYmxlRGF0YS54TGFiZWxzKCk7CgkJdmFyIHlMYWJlbHMgPSB0YWJsZURhdGEueUxhYmVscygpOwoJCQkJCQkJCQoJCS8vdGl0bGUva2V5IGNvbnRhaW5lcgoJCWlmKG8uYXBwZW5kVGl0bGUgfHwgby5hcHBlbmRLZXkpewoJCQl2YXIgaW5mb0NvbnRhaW4gPSAkKCc8ZGl2IGNsYXNzPSJ2aXN1YWxpemUtaW5mbyI+PC9kaXY+JykKCQkJCS5hcHBlbmRUbyhjYW52YXNDb250YWluKTsKCQl9CgkJCgkJLy9hcHBlbmQgdGl0bGUKCQlpZihvLmFwcGVuZFRpdGxlKXsKCQkJdmFyIHRpdGxlID0gby50aXRsZSB8fCBzZWxmLmZpbmQoJ2NhcHRpb24nKS50ZXh0KCk7CgkJCSQoJzxkaXYgY2xhc3M9InZpc3VhbGl6ZS10aXRsZSI+JysgdGl0bGUgKyc8L2Rpdj4nKQoJCQkJLmFwcGVuZFRvKGluZm9Db250YWluKTsKCQl9CgkJCgkJLy9hcHBlbmQga2V5CgkJaWYoby5hcHBlbmRLZXkpewoJCQl2YXIgbmV3S2V5ID0gJCgnPHVsIGNsYXNzPSJ2aXN1YWxpemUta2V5Ij48L3VsPicpOwoJCQl2YXIgc2VsZWN0b3IgPSAoby5wYXJzZURpcmVjdGlvbiA9PSAneCcpID8gJ3RyOmd0KDApIHRoJyA6ICd0cjplcSgwKSB0aCcgOwoJCQlzZWxmLmZpbmQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oaSl7CgkJCQkkKCc8bGk+PHNwYW4gY2xhc3M9InZpc3VhbGl6ZS1rZXktY29sb3IiIHN0eWxlPSJiYWNrZ3JvdW5kOiAnK2RhdGFHcm91cHNbaV0uY29sb3IrJyI+PC9zcGFuPjxzcGFuIGNsYXNzPSJ2aXN1YWxpemUta2V5LWxhYmVsIj4nKyAkKHRoaXMpLnRleHQoKSArJzwvc3Bhbj48L2xpPicpCgkJCQkJLmFwcGVuZFRvKG5ld0tleSk7CgkJCX0pOwoJCQluZXdLZXkuYXBwZW5kVG8oaW5mb0NvbnRhaW4pOwoJCX07CQkKCQkKCQkvL2FwcGVuZCBuZXcgY2FudmFzIHRvIHBhZ2UKCQkKCQlpZighY29udGFpbmVyKXtjYW52YXNDb250YWluLmluc2VydEFmdGVyKHRoaXMpOyB9CgkJaWYoIHR5cGVvZihHX3ZtbENhbnZhc01hbmFnZXIpICE9ICd1bmRlZmluZWQnICl7IEdfdm1sQ2FudmFzTWFuYWdlci5pbml0RWxlbWVudChjYW52YXNbMF0pOyB9CQoJCQoJCS8vc2V0IHVwIHRoZSBkcmF3aW5nIGJvYXJkCQoJCXZhciBjdHggPSBjYW52YXNbMF0uZ2V0Q29udGV4dCgnMmQnKTsKCQkKCQkvL2NyZWF0ZSBjaGFydAoJCWNyZWF0ZUNoYXJ0W28udHlwZV0oKTsKCQkKCQkvL2NsZWFuIHVwIHNvbWUgZG91YmxlZCBsaW5lcyB0aGF0IHNpdCBvbiB0b3Agb2YgY2FudmFzIGJvcmRlcnMgKGRvbmUgdmlhIEpTIGR1ZSB0byBJRSkKCQkkKCcudmlzdWFsaXplLWxpbmUgbGk6Zmlyc3QtY2hpbGQgc3Bhbi5saW5lLCAudmlzdWFsaXplLWxpbmUgbGk6bGFzdC1jaGlsZCBzcGFuLmxpbmUsIC52aXN1YWxpemUtYXJlYSBsaTpmaXJzdC1jaGlsZCBzcGFuLmxpbmUsIC52aXN1YWxpemUtYXJlYSBsaTpsYXN0LWNoaWxkIHNwYW4ubGluZSwgLnZpc3VhbGl6ZS1iYXIgbGk6Zmlyc3QtY2hpbGQgc3Bhbi5saW5lLC52aXN1YWxpemUtYmFyIC52aXN1YWxpemUtbGFiZWxzLXkgbGk6bGFzdC1jaGlsZCBzcGFuLmxpbmUnKS5jc3MoJ2JvcmRlcicsJ25vbmUnKTsKCQlpZighY29udGFpbmVyKXsKCQkvL2FkZCBldmVudCBmb3IgdXBkYXRpbmcKCQljYW52YXNDb250YWluLmJpbmQoJ3Zpc3VhbGl6ZVJlZnJlc2gnLCBmdW5jdGlvbigpewoJCQlzZWxmLnZpc3VhbGl6ZShvLCAkKHRoaXMpLmVtcHR5KCkpOyAKCQl9KTsKCQl9Cgl9KS5uZXh0KCk7IC8vcmV0dXJucyBjYW52YXMoZXMpCn07Cn0pKGpRdWVyeSk7CgoK'
	$base64jQueryCompiledPlugin = 'ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dHx8KGZ1bmN0aW9uKCl7dmFyIHM9TWF0aCxqPXMucm91bmQsRj1zLnNpbixHPXMuY29zLFY9cy5hYnMsVz1zLnNxcnQsaz0xMCx2PWsvMjtmdW5jdGlvbiBYKCl7cmV0dXJuIHRoaXMuY29udGV4dF98fCh0aGlzLmNvbnRleHRfPW5ldyBIKHRoaXMpKX12YXIgTD1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gWShiLGEpe3ZhciBjPUwuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkoYSxjLmNvbmNhdChMLmNhbGwoYXJndW1lbnRzKSkpfX12YXIgTT17aW5pdDpmdW5jdGlvbihiKXtpZigvTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIXdpbmRvdy5vcGVyYSl7dmFyIGE9Ynx8ZG9jdW1lbnQ7YS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTthLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLFkodGhpcy5pbml0Xyx0aGlzLGEpKX19LGluaXRfOmZ1bmN0aW9uKGIpe2IubmFtZXNwYWNlcy5nX3ZtbF98fA0KCQkJYi5uYW1lc3BhY2VzLmFkZCgiZ192bWxfIiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLCIjZGVmYXVsdCNWTUwiKTtiLm5hbWVzcGFjZXMuZ19vX3x8Yi5uYW1lc3BhY2VzLmFkZCgiZ19vXyIsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIsIiNkZWZhdWx0I1ZNTCIpO2lmKCFiLnN0eWxlU2hlZXRzLmV4X2NhbnZhc18pe3ZhciBhPWIuY3JlYXRlU3R5bGVTaGVldCgpO2Eub3duaW5nRWxlbWVudC5pZD0iZXhfY2FudmFzXyI7YS5jc3NUZXh0PSJjYW52YXN7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt3aWR0aDozMDBweDtoZWlnaHQ6MTUwcHh9Z192bWxfXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX1nX29fXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX0ifXZhciBjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpLGQ9MDtmb3IoO2Q8Yy5sZW5ndGg7ZCsrKXRoaXMuaW5pdEVsZW1lbnQoY1tkXSl9LA0KCQkJaW5pdEVsZW1lbnQ6ZnVuY3Rpb24oYil7aWYoIWIuZ2V0Q29udGV4dCl7Yi5nZXRDb250ZXh0PVg7Yi5pbm5lckhUTUw9IiI7Yi5hdHRhY2hFdmVudCgib25wcm9wZXJ0eWNoYW5nZSIsWik7Yi5hdHRhY2hFdmVudCgib25yZXNpemUiLCQpO3ZhciBhPWIuYXR0cmlidXRlcztpZihhLndpZHRoJiZhLndpZHRoLnNwZWNpZmllZCliLnN0eWxlLndpZHRoPWEud2lkdGgubm9kZVZhbHVlKyJweCI7ZWxzZSBiLndpZHRoPWIuY2xpZW50V2lkdGg7aWYoYS5oZWlnaHQmJmEuaGVpZ2h0LnNwZWNpZmllZCliLnN0eWxlLmhlaWdodD1hLmhlaWdodC5ub2RlVmFsdWUrInB4IjtlbHNlIGIuaGVpZ2h0PWIuY2xpZW50SGVpZ2h0fXJldHVybiBifX07ZnVuY3Rpb24gWihiKXt2YXIgYT1iLnNyY0VsZW1lbnQ7c3dpdGNoKGIucHJvcGVydHlOYW1lKXtjYXNlICJ3aWR0aCI6YS5zdHlsZS53aWR0aD1hLmF0dHJpYnV0ZXMud2lkdGgubm9kZVZhbHVlKyJweCI7YS5nZXRDb250ZXh0KCkuY2xlYXJSZWN0KCk7DQoJCQlicmVhaztjYXNlICJoZWlnaHQiOmEuc3R5bGUuaGVpZ2h0PWEuYXR0cmlidXRlcy5oZWlnaHQubm9kZVZhbHVlKyJweCI7YS5nZXRDb250ZXh0KCkuY2xlYXJSZWN0KCk7YnJlYWt9fWZ1bmN0aW9uICQoYil7dmFyIGE9Yi5zcmNFbGVtZW50O2lmKGEuZmlyc3RDaGlsZCl7YS5maXJzdENoaWxkLnN0eWxlLndpZHRoPWEuY2xpZW50V2lkdGgrInB4IjthLmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PWEuY2xpZW50SGVpZ2h0KyJweCJ9fU0uaW5pdCgpO3ZhciBOPVtdLEI9MDtmb3IoO0I8MTY7QisrKXt2YXIgQz0wO2Zvcig7QzwxNjtDKyspTltCKjE2K0NdPUIudG9TdHJpbmcoMTYpK0MudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEkoKXtyZXR1cm5bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dfWZ1bmN0aW9uIHkoYixhKXt2YXIgYz1JKCksZD0wO2Zvcig7ZDwzO2QrKyl7dmFyIGY9MDtmb3IoO2Y8MztmKyspe3ZhciBoPTAsZz0wO2Zvcig7ZzwzO2crKyloKz1iW2RdW2ddKmFbZ11bZl07Y1tkXVtmXT0NCgkJCWh9fXJldHVybiBjfWZ1bmN0aW9uIE8oYixhKXthLmZpbGxTdHlsZT1iLmZpbGxTdHlsZTthLmxpbmVDYXA9Yi5saW5lQ2FwO2EubGluZUpvaW49Yi5saW5lSm9pbjthLmxpbmVXaWR0aD1iLmxpbmVXaWR0aDthLm1pdGVyTGltaXQ9Yi5taXRlckxpbWl0O2Euc2hhZG93Qmx1cj1iLnNoYWRvd0JsdXI7YS5zaGFkb3dDb2xvcj1iLnNoYWRvd0NvbG9yO2Euc2hhZG93T2Zmc2V0WD1iLnNoYWRvd09mZnNldFg7YS5zaGFkb3dPZmZzZXRZPWIuc2hhZG93T2Zmc2V0WTthLnN0cm9rZVN0eWxlPWIuc3Ryb2tlU3R5bGU7YS5nbG9iYWxBbHBoYT1iLmdsb2JhbEFscGhhO2EuYXJjU2NhbGVYXz1iLmFyY1NjYWxlWF87YS5hcmNTY2FsZVlfPWIuYXJjU2NhbGVZXzthLmxpbmVTY2FsZV89Yi5saW5lU2NhbGVffWZ1bmN0aW9uIFAoYil7dmFyIGEsYz0xO2I9U3RyaW5nKGIpO2lmKGIuc3Vic3RyaW5nKDAsMyk9PSJyZ2IiKXt2YXIgZD1iLmluZGV4T2YoIigiLDMpLGY9Yi5pbmRleE9mKCIpIixkKw0KCQkJMSksaD1iLnN1YnN0cmluZyhkKzEsZikuc3BsaXQoIiwiKTthPSIjIjt2YXIgZz0wO2Zvcig7ZzwzO2crKylhKz1OW051bWJlcihoW2ddKV07aWYoaC5sZW5ndGg9PTQmJmIuc3Vic3RyKDMsMSk9PSJhIiljPWhbM119ZWxzZSBhPWI7cmV0dXJue2NvbG9yOmEsYWxwaGE6Y319ZnVuY3Rpb24gYWEoYil7c3dpdGNoKGIpe2Nhc2UgImJ1dHQiOnJldHVybiJmbGF0IjtjYXNlICJyb3VuZCI6cmV0dXJuInJvdW5kIjtjYXNlICJzcXVhcmUiOmRlZmF1bHQ6cmV0dXJuInNxdWFyZSJ9fWZ1bmN0aW9uIEgoYil7dGhpcy5tXz1JKCk7dGhpcy5tU3RhY2tfPVtdO3RoaXMuYVN0YWNrXz1bXTt0aGlzLmN1cnJlbnRQYXRoXz1bXTt0aGlzLmZpbGxTdHlsZT10aGlzLnN0cm9rZVN0eWxlPSIjMDAwIjt0aGlzLmxpbmVXaWR0aD0xO3RoaXMubGluZUpvaW49Im1pdGVyIjt0aGlzLmxpbmVDYXA9ImJ1dHQiO3RoaXMubWl0ZXJMaW1pdD1rKjE7dGhpcy5nbG9iYWxBbHBoYT0xO3RoaXMuY2FudmFzPWI7DQoJCQl2YXIgYT1iLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5zdHlsZS53aWR0aD1iLmNsaWVudFdpZHRoKyJweCI7YS5zdHlsZS5oZWlnaHQ9Yi5jbGllbnRIZWlnaHQrInB4IjthLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtiLmFwcGVuZENoaWxkKGEpO3RoaXMuZWxlbWVudF89YTt0aGlzLmxpbmVTY2FsZV89dGhpcy5hcmNTY2FsZVlfPXRoaXMuYXJjU2NhbGVYXz0xfXZhciBpPUgucHJvdG90eXBlO2kuY2xlYXJSZWN0PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5pbm5lckhUTUw9IiJ9O2kuYmVnaW5QYXRoPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UGF0aF89W119O2kubW92ZVRvPWZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcy5nZXRDb29yZHNfKGIsYSk7dGhpcy5jdXJyZW50UGF0aF8ucHVzaCh7dHlwZToibW92ZVRvIix4OmMueCx5OmMueX0pO3RoaXMuY3VycmVudFhfPWMueDt0aGlzLmN1cnJlbnRZXz1jLnl9Ow0KCQkJaS5saW5lVG89ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLmdldENvb3Jkc18oYixhKTt0aGlzLmN1cnJlbnRQYXRoXy5wdXNoKHt0eXBlOiJsaW5lVG8iLHg6Yy54LHk6Yy55fSk7dGhpcy5jdXJyZW50WF89Yy54O3RoaXMuY3VycmVudFlfPWMueX07aS5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKGIsYSxjLGQsZixoKXt2YXIgZz10aGlzLmdldENvb3Jkc18oZixoKSxsPXRoaXMuZ2V0Q29vcmRzXyhiLGEpLGU9dGhpcy5nZXRDb29yZHNfKGMsZCk7USh0aGlzLGwsZSxnKX07ZnVuY3Rpb24gUShiLGEsYyxkKXtiLmN1cnJlbnRQYXRoXy5wdXNoKHt0eXBlOiJiZXppZXJDdXJ2ZVRvIixjcDF4OmEueCxjcDF5OmEueSxjcDJ4OmMueCxjcDJ5OmMueSx4OmQueCx5OmQueX0pO2IuY3VycmVudFhfPWQueDtiLmN1cnJlbnRZXz1kLnl9aS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKGIsYSxjLGQpe3ZhciBmPXRoaXMuZ2V0Q29vcmRzXyhiLGEpLGg9dGhpcy5nZXRDb29yZHNfKGMsZCksZz17eDp0aGlzLmN1cnJlbnRYXysNCgkJCTAuNjY2NjY2NjY2NjY2NjY2NiooZi54LXRoaXMuY3VycmVudFhfKSx5OnRoaXMuY3VycmVudFlfKzAuNjY2NjY2NjY2NjY2NjY2NiooZi55LXRoaXMuY3VycmVudFlfKX07USh0aGlzLGcse3g6Zy54KyhoLngtdGhpcy5jdXJyZW50WF8pLzMseTpnLnkrKGgueS10aGlzLmN1cnJlbnRZXykvM30saCl9O2kuYXJjPWZ1bmN0aW9uKGIsYSxjLGQsZixoKXtjKj1rO3ZhciBnPWg/ImF0Ijoid2EiLGw9YitHKGQpKmMtdixlPWErRihkKSpjLXYsbT1iK0coZikqYy12LHI9YStGKGYpKmMtdjtpZihsPT1tJiYhaClsKz0wLjEyNTt2YXIgbj10aGlzLmdldENvb3Jkc18oYixhKSxvPXRoaXMuZ2V0Q29vcmRzXyhsLGUpLHE9dGhpcy5nZXRDb29yZHNfKG0scik7dGhpcy5jdXJyZW50UGF0aF8ucHVzaCh7dHlwZTpnLHg6bi54LHk6bi55LHJhZGl1czpjLHhTdGFydDpvLngseVN0YXJ0Om8ueSx4RW5kOnEueCx5RW5kOnEueX0pfTtpLnJlY3Q9ZnVuY3Rpb24oYixhLGMsZCl7dGhpcy5tb3ZlVG8oYiwNCgkJCWEpO3RoaXMubGluZVRvKGIrYyxhKTt0aGlzLmxpbmVUbyhiK2MsYStkKTt0aGlzLmxpbmVUbyhiLGErZCk7dGhpcy5jbG9zZVBhdGgoKX07aS5zdHJva2VSZWN0PWZ1bmN0aW9uKGIsYSxjLGQpe3ZhciBmPXRoaXMuY3VycmVudFBhdGhfO3RoaXMuYmVnaW5QYXRoKCk7dGhpcy5tb3ZlVG8oYixhKTt0aGlzLmxpbmVUbyhiK2MsYSk7dGhpcy5saW5lVG8oYitjLGErZCk7dGhpcy5saW5lVG8oYixhK2QpO3RoaXMuY2xvc2VQYXRoKCk7dGhpcy5zdHJva2UoKTt0aGlzLmN1cnJlbnRQYXRoXz1mfTtpLmZpbGxSZWN0PWZ1bmN0aW9uKGIsYSxjLGQpe3ZhciBmPXRoaXMuY3VycmVudFBhdGhfO3RoaXMuYmVnaW5QYXRoKCk7dGhpcy5tb3ZlVG8oYixhKTt0aGlzLmxpbmVUbyhiK2MsYSk7dGhpcy5saW5lVG8oYitjLGErZCk7dGhpcy5saW5lVG8oYixhK2QpO3RoaXMuY2xvc2VQYXRoKCk7dGhpcy5maWxsKCk7dGhpcy5jdXJyZW50UGF0aF89Zn07aS5jcmVhdGVMaW5lYXJHcmFkaWVudD1mdW5jdGlvbihiLA0KCQkJYSxjLGQpe3ZhciBmPW5ldyBEKCJncmFkaWVudCIpO2YueDBfPWI7Zi55MF89YTtmLngxXz1jO2YueTFfPWQ7cmV0dXJuIGZ9O2kuY3JlYXRlUmFkaWFsR3JhZGllbnQ9ZnVuY3Rpb24oYixhLGMsZCxmLGgpe3ZhciBnPW5ldyBEKCJncmFkaWVudHJhZGlhbCIpO2cueDBfPWI7Zy55MF89YTtnLnIwXz1jO2cueDFfPWQ7Zy55MV89ZjtnLnIxXz1oO3JldHVybiBnfTtpLmRyYXdJbWFnZT1mdW5jdGlvbihiKXt2YXIgYSxjLGQsZixoLGcsbCxlLG09Yi5ydW50aW1lU3R5bGUud2lkdGgscj1iLnJ1bnRpbWVTdHlsZS5oZWlnaHQ7Yi5ydW50aW1lU3R5bGUud2lkdGg9ImF1dG8iO2IucnVudGltZVN0eWxlLmhlaWdodD0iYXV0byI7dmFyIG49Yi53aWR0aCxvPWIuaGVpZ2h0O2IucnVudGltZVN0eWxlLndpZHRoPW07Yi5ydW50aW1lU3R5bGUuaGVpZ2h0PXI7aWYoYXJndW1lbnRzLmxlbmd0aD09Myl7YT1hcmd1bWVudHNbMV07Yz1hcmd1bWVudHNbMl07aD1nPTA7bD1kPW47ZT1mPW99ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPT0NCgkJCTUpe2E9YXJndW1lbnRzWzFdO2M9YXJndW1lbnRzWzJdO2Q9YXJndW1lbnRzWzNdO2Y9YXJndW1lbnRzWzRdO2g9Zz0wO2w9bjtlPW99ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPT05KXtoPWFyZ3VtZW50c1sxXTtnPWFyZ3VtZW50c1syXTtsPWFyZ3VtZW50c1szXTtlPWFyZ3VtZW50c1s0XTthPWFyZ3VtZW50c1s1XTtjPWFyZ3VtZW50c1s2XTtkPWFyZ3VtZW50c1s3XTtmPWFyZ3VtZW50c1s4XX1lbHNlIHRocm93IEVycm9yKCJJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMiKTt2YXIgcT10aGlzLmdldENvb3Jkc18oYSxjKSx0PVtdO3QucHVzaCgiIDxnX3ZtbF86Z3JvdXAiLCcgY29vcmRzaXplPSInLGsqMTAsIiwiLGsqMTAsJyInLCcgY29vcmRvcmlnaW49IjAsMCInLCcgc3R5bGU9IndpZHRoOicsMTAsInB4O2hlaWdodDoiLDEwLCJweDtwb3NpdGlvbjphYnNvbHV0ZTsiKTtpZih0aGlzLm1fWzBdWzBdIT0xfHx0aGlzLm1fWzBdWzFdKXt2YXIgRT1bXTtFLnB1c2goIk0xMT0iLA0KCQkJdGhpcy5tX1swXVswXSwiLCIsIk0xMj0iLHRoaXMubV9bMV1bMF0sIiwiLCJNMjE9Iix0aGlzLm1fWzBdWzFdLCIsIiwiTTIyPSIsdGhpcy5tX1sxXVsxXSwiLCIsIkR4PSIsaihxLngvayksIiwiLCJEeT0iLGoocS55L2spLCIiKTt2YXIgcD1xLHo9dGhpcy5nZXRDb29yZHNfKGErZCxjKSx3PXRoaXMuZ2V0Q29vcmRzXyhhLGMrZikseD10aGlzLmdldENvb3Jkc18oYStkLGMrZik7cC54PXMubWF4KHAueCx6Lngsdy54LHgueCk7cC55PXMubWF4KHAueSx6Lnksdy55LHgueSk7dC5wdXNoKCJwYWRkaW5nOjAgIixqKHAueC9rKSwicHggIixqKHAueS9rKSwicHggMDtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeCgiLEUuam9pbigiIiksIiwgc2l6aW5nbWV0aG9kPSdjbGlwJyk7Iil9ZWxzZSB0LnB1c2goInRvcDoiLGoocS55L2spLCJweDtsZWZ0OiIsaihxLngvayksInB4OyIpO3QucHVzaCgnICI+JywnPGdfdm1sXzppbWFnZSBzcmM9IicsYi5zcmMsDQoJCQknIicsJyBzdHlsZT0id2lkdGg6JyxrKmQsInB4OyIsIiBoZWlnaHQ6IixrKmYsJ3B4OyInLCcgY3JvcGxlZnQ9IicsaC9uLCciJywnIGNyb3B0b3A9IicsZy9vLCciJywnIGNyb3ByaWdodD0iJywobi1oLWwpL24sJyInLCcgY3JvcGJvdHRvbT0iJywoby1nLWUpL28sJyInLCIgLz4iLCI8L2dfdm1sXzpncm91cD4iKTt0aGlzLmVsZW1lbnRfLmluc2VydEFkamFjZW50SFRNTCgiQmVmb3JlRW5kIix0LmpvaW4oIiIpKX07aS5zdHJva2U9ZnVuY3Rpb24oYil7dmFyIGE9W10sYz1QKGI/dGhpcy5maWxsU3R5bGU6dGhpcy5zdHJva2VTdHlsZSksZD1jLmNvbG9yLGY9Yy5hbHBoYSp0aGlzLmdsb2JhbEFscGhhO2EucHVzaCgiPGdfdm1sXzpzaGFwZSIsJyBmaWxsZWQ9IicsISFiLCciJywnIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDonLDEwLCJweDtoZWlnaHQ6IiwxMCwncHg7IicsJyBjb29yZG9yaWdpbj0iMCAwIiBjb29yZHNpemU9IicsayoxMCwiICIsayoxMCwnIicsJyBzdHJva2VkPSInLA0KCQkJIWIsJyInLCcgcGF0aD0iJyk7dmFyIGg9e3g6bnVsbCx5Om51bGx9LGc9e3g6bnVsbCx5Om51bGx9LGw9MDtmb3IoO2w8dGhpcy5jdXJyZW50UGF0aF8ubGVuZ3RoO2wrKyl7dmFyIGU9dGhpcy5jdXJyZW50UGF0aF9bbF07c3dpdGNoKGUudHlwZSl7Y2FzZSAibW92ZVRvIjphLnB1c2goIiBtICIsaihlLngpLCIsIixqKGUueSkpO2JyZWFrO2Nhc2UgImxpbmVUbyI6YS5wdXNoKCIgbCAiLGooZS54KSwiLCIsaihlLnkpKTticmVhaztjYXNlICJjbG9zZSI6YS5wdXNoKCIgeCAiKTtlPW51bGw7YnJlYWs7Y2FzZSAiYmV6aWVyQ3VydmVUbyI6YS5wdXNoKCIgYyAiLGooZS5jcDF4KSwiLCIsaihlLmNwMXkpLCIsIixqKGUuY3AyeCksIiwiLGooZS5jcDJ5KSwiLCIsaihlLngpLCIsIixqKGUueSkpO2JyZWFrO2Nhc2UgImF0IjpjYXNlICJ3YSI6YS5wdXNoKCIgIixlLnR5cGUsIiAiLGooZS54LXRoaXMuYXJjU2NhbGVYXyplLnJhZGl1cyksIiwiLGooZS55LXRoaXMuYXJjU2NhbGVZXyplLnJhZGl1cyksDQoJCQkiICIsaihlLngrdGhpcy5hcmNTY2FsZVhfKmUucmFkaXVzKSwiLCIsaihlLnkrdGhpcy5hcmNTY2FsZVlfKmUucmFkaXVzKSwiICIsaihlLnhTdGFydCksIiwiLGooZS55U3RhcnQpLCIgIixqKGUueEVuZCksIiwiLGooZS55RW5kKSk7YnJlYWt9aWYoZSl7aWYoaC54PT1udWxsfHxlLng8aC54KWgueD1lLng7aWYoZy54PT1udWxsfHxlLng+Zy54KWcueD1lLng7aWYoaC55PT1udWxsfHxlLnk8aC55KWgueT1lLnk7aWYoZy55PT1udWxsfHxlLnk+Zy55KWcueT1lLnl9fWEucHVzaCgnICI+Jyk7aWYoYilpZih0eXBlb2YgdGhpcy5maWxsU3R5bGU9PSJvYmplY3QiKXt2YXIgbT10aGlzLmZpbGxTdHlsZSxyPTAsbj17eDowLHk6MH0sbz0wLHE9MTtpZihtLnR5cGVfPT0iZ3JhZGllbnQiKXt2YXIgdD1tLngxXy90aGlzLmFyY1NjYWxlWF8sRT1tLnkxXy90aGlzLmFyY1NjYWxlWV8scD10aGlzLmdldENvb3Jkc18obS54MF8vdGhpcy5hcmNTY2FsZVhfLG0ueTBfL3RoaXMuYXJjU2NhbGVZXyksDQoJCQl6PXRoaXMuZ2V0Q29vcmRzXyh0LEUpO3I9TWF0aC5hdGFuMih6LngtcC54LHoueS1wLnkpKjE4MC9NYXRoLlBJO2lmKHI8MClyKz0zNjA7aWYocjwxLjBFLTYpcj0wfWVsc2V7dmFyIHA9dGhpcy5nZXRDb29yZHNfKG0ueDBfLG0ueTBfKSx3PWcueC1oLngseD1nLnktaC55O249e3g6KHAueC1oLngpL3cseToocC55LWgueSkveH07dy89dGhpcy5hcmNTY2FsZVhfKms7eC89dGhpcy5hcmNTY2FsZVlfKms7dmFyIFI9cy5tYXgodyx4KTtvPTIqbS5yMF8vUjtxPTIqbS5yMV8vUi1vfXZhciB1PW0uY29sb3JzXzt1LnNvcnQoZnVuY3Rpb24oYmEsY2Epe3JldHVybiBiYS5vZmZzZXQtY2Eub2Zmc2V0fSk7dmFyIEo9dS5sZW5ndGgsZGE9dVswXS5jb2xvcixlYT11W0otMV0uY29sb3IsZmE9dVswXS5hbHBoYSp0aGlzLmdsb2JhbEFscGhhLGdhPXVbSi0xXS5hbHBoYSp0aGlzLmdsb2JhbEFscGhhLFM9W10sbD0wO2Zvcig7bDxKO2wrKyl7dmFyIFQ9dVtsXTtTLnB1c2goVC5vZmZzZXQqcSsNCgkJCW8rIiAiK1QuY29sb3IpfWEucHVzaCgnPGdfdm1sXzpmaWxsIHR5cGU9IicsbS50eXBlXywnIicsJyBtZXRob2Q9Im5vbmUiIGZvY3VzPSIxMDAlIicsJyBjb2xvcj0iJyxkYSwnIicsJyBjb2xvcjI9IicsZWEsJyInLCcgY29sb3JzPSInLFMuam9pbigiLCIpLCciJywnIG9wYWNpdHk9IicsZ2EsJyInLCcgZ19vXzpvcGFjaXR5Mj0iJyxmYSwnIicsJyBhbmdsZT0iJyxyLCciJywnIGZvY3VzcG9zaXRpb249Iicsbi54LCIsIixuLnksJyIgLz4nKX1lbHNlIGEucHVzaCgnPGdfdm1sXzpmaWxsIGNvbG9yPSInLGQsJyIgb3BhY2l0eT0iJyxmLCciIC8+Jyk7ZWxzZXt2YXIgSz10aGlzLmxpbmVTY2FsZV8qdGhpcy5saW5lV2lkdGg7aWYoSzwxKWYqPUs7YS5wdXNoKCI8Z192bWxfOnN0cm9rZSIsJyBvcGFjaXR5PSInLGYsJyInLCcgam9pbnN0eWxlPSInLHRoaXMubGluZUpvaW4sJyInLCcgbWl0ZXJsaW1pdD0iJyx0aGlzLm1pdGVyTGltaXQsJyInLCcgZW5kY2FwPSInLGFhKHRoaXMubGluZUNhcCksDQoJCQknIicsJyB3ZWlnaHQ9IicsSywncHgiJywnIGNvbG9yPSInLGQsJyIgLz4nKX1hLnB1c2goIjwvZ192bWxfOnNoYXBlPiIpO3RoaXMuZWxlbWVudF8uaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVFbmQiLGEuam9pbigiIikpfTtpLmZpbGw9ZnVuY3Rpb24oKXt0aGlzLnN0cm9rZSh0cnVlKX07aS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRQYXRoXy5wdXNoKHt0eXBlOiJjbG9zZSJ9KX07aS5nZXRDb29yZHNfPWZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcy5tXztyZXR1cm57eDprKihiKmNbMF1bMF0rYSpjWzFdWzBdK2NbMl1bMF0pLXYseTprKihiKmNbMF1bMV0rYSpjWzFdWzFdK2NbMl1bMV0pLXZ9fTtpLnNhdmU9ZnVuY3Rpb24oKXt2YXIgYj17fTtPKHRoaXMsYik7dGhpcy5hU3RhY2tfLnB1c2goYik7dGhpcy5tU3RhY2tfLnB1c2godGhpcy5tXyk7dGhpcy5tXz15KEkoKSx0aGlzLm1fKX07aS5yZXN0b3JlPWZ1bmN0aW9uKCl7Tyh0aGlzLmFTdGFja18ucG9wKCksDQoJCQl0aGlzKTt0aGlzLm1fPXRoaXMubVN0YWNrXy5wb3AoKX07ZnVuY3Rpb24gaGEoYil7dmFyIGE9MDtmb3IoO2E8MzthKyspe3ZhciBjPTA7Zm9yKDtjPDI7YysrKWlmKCFpc0Zpbml0ZShiW2FdW2NdKXx8aXNOYU4oYlthXVtjXSkpcmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfWZ1bmN0aW9uIEEoYixhLGMpe2lmKCEhaGEoYSkpe2IubV89YTtpZihjKWIubGluZVNjYWxlXz1XKFYoYVswXVswXSphWzFdWzFdLWFbMF1bMV0qYVsxXVswXSkpfX1pLnRyYW5zbGF0ZT1mdW5jdGlvbihiLGEpe0EodGhpcyx5KFtbMSwwLDBdLFswLDEsMF0sW2IsYSwxXV0sdGhpcy5tXyksZmFsc2UpfTtpLnJvdGF0ZT1mdW5jdGlvbihiKXt2YXIgYT1HKGIpLGM9RihiKTtBKHRoaXMseShbW2EsYywwXSxbLWMsYSwwXSxbMCwwLDFdXSx0aGlzLm1fKSxmYWxzZSl9O2kuc2NhbGU9ZnVuY3Rpb24oYixhKXt0aGlzLmFyY1NjYWxlWF8qPWI7dGhpcy5hcmNTY2FsZVlfKj1hO0EodGhpcyx5KFtbYiwwLDBdLFswLGEsDQoJCQkwXSxbMCwwLDFdXSx0aGlzLm1fKSx0cnVlKX07aS50cmFuc2Zvcm09ZnVuY3Rpb24oYixhLGMsZCxmLGgpe0EodGhpcyx5KFtbYixhLDBdLFtjLGQsMF0sW2YsaCwxXV0sdGhpcy5tXyksdHJ1ZSl9O2kuc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKGIsYSxjLGQsZixoKXtBKHRoaXMsW1tiLGEsMF0sW2MsZCwwXSxbZixoLDFdXSx0cnVlKX07aS5jbGlwPWZ1bmN0aW9uKCl7fTtpLmFyY1RvPWZ1bmN0aW9uKCl7fTtpLmNyZWF0ZVBhdHRlcm49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFV9O2Z1bmN0aW9uIEQoYil7dGhpcy50eXBlXz1iO3RoaXMucjFfPXRoaXMueTFfPXRoaXMueDFfPXRoaXMucjBfPXRoaXMueTBfPXRoaXMueDBfPTA7dGhpcy5jb2xvcnNfPVtdfUQucHJvdG90eXBlLmFkZENvbG9yU3RvcD1mdW5jdGlvbihiLGEpe2E9UChhKTt0aGlzLmNvbG9yc18ucHVzaCh7b2Zmc2V0OmIsY29sb3I6YS5jb2xvcixhbHBoYTphLmFscGhhfSl9O2Z1bmN0aW9uIFUoKXt9R192bWxDYW52YXNNYW5hZ2VyPQ0KCQkJTTtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9SDtDYW52YXNHcmFkaWVudD1EO0NhbnZhc1BhdHRlcm49VX0pKCk7'
	

	$jquerycode              = [system.text.encoding]::utf8.getstring( [system.convert]::FromBase64String($base64jquery))
	$visualizejQueryJs       = [system.text.encoding]::utf8.getstring( [system.convert]::FromBase64String($base64jqueryPlugin))
	$visualizeJqueryCompiled = [system.text.encoding]::utf8.getstring( [system.convert]::FromBase64String($base64jQueryCompiledPlugin))
	
	@"
	<html>
		<head>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<title>Data visualization</title>	
			<script type="text/javascript" >
				$jquerycode
			</script>
			
			<!--[if IE]>
			<script type="text/javascript">
				//Copyright 2006 Google Inc.
				//Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
				$visualizeJQueryJsCompiled	
			</script>
			<![endif]
			-->
			<script type="text/javascript">
				$visualizejQueryJs
			</script>
			<script type="text/javascript">
				`$(function(){
					//make some charts
					`$('table.values').visualize(
						{type: 'line', 
						width: 800, 
						height: 300, 
						colors: ['#be1e2d', '#666699', '#92d5ea', '#ee8310', '#8d10ee', '#5a3b16', '#26a4ed', '#f45a90', '#e9e744', '#31225a', 
						         '#10b0c3', '#aa010b', '#d0a3ee', '#5538aa', '#093106', '#a00ace', '#44acca', '#088888', '#773377', '#337700',
								 '#2299aa', '#33bb99']});
				});
			</script>
			<style>
				/* visualize/visualize.jquery.css */
				/*plugin styles*/
				.visualize { border: 1px solid #888; position: relative; background: #fafafa; }
				.visualize canvas { position: absolute; }
				.visualize ul,.visualize li { margin: 0; padding: 0;}
				
				/*table title, key elements*/
				.visualize .visualize-info { padding: 3px 5px; background: #fafafa; border: 1px solid #888; position: absolute; top: -20px; right: 10px; opacity: .8; }
				.visualize .visualize-title { display: block; color: #333; margin-bottom: 3px;  font-size: 1.1em; }
				.visualize ul.visualize-key { list-style: none;  }
				.visualize ul.visualize-key li { list-style: none; float: left; margin-right: 10px; padding-left: 10px; position: relative;}
				.visualize ul.visualize-key .visualize-key-color { width: 6px; height: 6px; left: 0; position: absolute; top: 50%; margin-top: -3px;  }
				.visualize ul.visualize-key .visualize-key-label { color: #000; }
				
				/*pie labels*/
				.visualize-pie .visualize-labels { list-style: none; }
				.visualize-pie .visualize-label-pos, .visualize-pie .visualize-label { position: absolute;  margin: 0; padding:0; }
				.visualize-pie .visualize-label { display: block; color: #fff; font-weight: bold; font-size: 1em; }
				.visualize-pie-outside .visualize-label { color: #000; font-weight: normal; }
				
				/*line,bar, area labels*/
				.visualize-labels-x,.visualize-labels-y { position: absolute; left: 0; top: 0; list-style: none; }
				.visualize-labels-x li, .visualize-labels-y li { position: absolute; bottom: 0; }
				.visualize-labels-x li span.label, .visualize-labels-y li span.label { position: absolute; color: #555;  }
				.visualize-labels-x li span.line, .visualize-labels-y li span.line {  position: absolute; border: 0 solid #ccc; }
				.visualize-labels-x li { height: 100%; }
				.visualize-labels-x li span.label { top: 100%; margin-top: 5px; }
				.visualize-labels-x li span.line { border-left-width: 1px; height: 100%; display: block; }
				.visualize-labels-x li span.line { border: 0;} /*hide vertical lines on area, line, bar*/
				.visualize-labels-y li { width: 100%;  }
				.visualize-labels-y li span.label { right: 100%; margin-right: 5px; display: block; width: 100px; text-align: right; }
				.visualize-labels-y li span.line { border-top-width: 1px; width: 100%; }
				.visualize-bar .visualize-labels-x li span.label { width: 100%; text-align: center; }

				/* visualize/demopage.css */
				body { font-size: 62.5%; font-family: Verdana, sans-serif; }
				table.accessHide { display: none }
				caption {margin: 0 0 .5em; font-size: 1.5em; font-weight: bold; }
				.visualize { margin: 20px 0 0 30px; }
				/*sample alternate styling for info block on Pie Chart */
				.visualize-pie .visualize-info { top: 10px; border: 0; right: auto; left: 10px; padding: 0; background: none; }
				.visualize-pie ul.visualize-title { font-weight: bold; border: 0; }
				.visualize-pie ul.visualize-key li { float: none; }

				NO.visualize-labels-x {display:none}
				NO.visualize .visualize-key-label { font-size: 6pt }
				div.visualize {margin-left:10em }
				table.values { display: none }
			</style>
		</head>
		<body>
"@ ` + $tables +
	"</body></html>" | sc $outputFile -Encoding UTF8
	write-host "saved to $outputFile"
}

Export-ModuleMember New-ViChart,New-ViChartInfo